(function(t){function e(e){for(var a,s,i=e[0],l=e[1],c=e[2],d=0,m=[];d<i.length;d++)s=i[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&m.push(r[s][0]),r[s]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);u&&u(e);while(m.length)m.shift()();return n.push.apply(n,c||[]),o()}function o(){for(var t,e=0;e<n.length;e++){for(var o=n[e],a=!0,s=1;s<o.length;s++){var l=o[s];0!==r[l]&&(a=!1)}a&&(n.splice(e--,1),t=i(i.s=o[0]))}return t}var a={},r={app:0},n=[];function s(t){return i.p+"static/js/"+({about:"about"}[t]||t)+"."+{about:"5bf418a0"}[t]+".js"}function i(e){if(a[e])return a[e].exports;var o=a[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.e=function(t){var e=[],o=r[t];if(0!==o)if(o)e.push(o[2]);else{var a=new Promise((function(e,a){o=r[t]=[e,a]}));e.push(o[2]=a);var n,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=s(t);var c=new Error;n=function(e){l.onerror=l.onload=null,clearTimeout(d);var o=r[t];if(0!==o){if(o){var a=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+a+": "+n+")",c.name="ChunkLoadError",c.type=a,c.request=n,o[1](c)}r[t]=void 0}};var d=setTimeout((function(){n({type:"timeout",target:l})}),12e4);l.onerror=l.onload=n,document.head.appendChild(l)}return Promise.all(e)},i.m=t,i.c=a,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(o,a,function(e){return t[e]}.bind(null,a));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/desktop/",i.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var u=c;n.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"020b":function(t,e,o){},"034f":function(t,e,o){"use strict";var a=o("85ec"),r=o.n(a);r.a},"0ebd":function(t,e,o){},"2d1c":function(t,e,o){"use strict";var a=o("0ebd"),r=o.n(a);r.a},"2eca":function(t,e,o){"use strict";var a=o("c940"),r=o.n(a);r.a},4678:function(t,e,o){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(t){var e=n(t);return o(e)}function n(t){if(!o.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}r.keys=function(){return Object.keys(a)},r.resolve=n,t.exports=r,r.id="4678"},5272:function(t,e,o){},5398:function(t,e,o){"use strict";var a=o("020b"),r=o.n(a);r.a},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d");var a=o("2b0e"),r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[t.isLoggedIn&&t.compStatus?o("b-navbar",{staticStyle:{"margin-bottom":"5px"},attrs:{toggleable:"lg",type:"dark",variant:"primary"}},[!t.isLoggedIn&&t.compStatus?o("b-navbar-brand",{attrs:{href:"/login"}},[t._v("Login")]):t._e(),o("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),o("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[o("b-navbar-nav",[o("b-dropdown",{attrs:{variant:"primary"},scopedSlots:t._u([{key:"button-content",fn:function(){return[o("b-icon",{attrs:{icon:"pencil-square"}}),t._v("Masters ")]},proxy:!0}],null,!1,232493187)},[t.$store.getters.isAdmin?o("b-dropdown-item-button",{on:{click:function(e){return t.$router.push("/options")}}},[o("b-icon",{attrs:{icon:"card-checklist","aria-hidden":"true"}}),t._v("Options Master "),o("span",{staticClass:"sr-only"},[t._v("(Click to unlock)")])],1):t._e(),t.$store.getters.isAdmin?o("b-dropdown-divider"):t._e(),o("b-dropdown-item-button",{on:{click:function(e){return t.$router.push("/account")}}},[o("b-icon",{attrs:{icon:"person-check","aria-hidden":"true"}}),t._v("Acount Master "),o("span",{staticClass:"sr-only"},[t._v("(Click to unlock)")])],1)],1),o("b-dropdown",{attrs:{variant:"primary"},scopedSlots:t._u([{key:"button-content",fn:function(){return[o("b-icon",{attrs:{icon:"briefcase"}}),t._v("Transactions ")]},proxy:!0}],null,!1,2646084452)},[o("b-dropdown-item-button",{on:{click:function(e){return t.$router.push("/bookings")}}},[t._v("Bookings")]),o("b-dropdown-divider"),o("b-dropdown-item-button",{on:{click:function(e){return t.$router.push("/bookings-view")}}},[t._v("Booking Details")]),o("b-dropdown-divider"),o("b-dropdown-item-button",[t._v("Recipts")])],1)],1),t.isLoggedIn?o("b-navbar-nav",{staticClass:"ml-auto"},[o("b-dropdown",{attrs:{variant:"primary"},scopedSlots:t._u([{key:"button-content",fn:function(){return[o("b-avatar",{attrs:{src:"http://localhost:8182/images/"+t.username+".jpg"}}),t._v(" "+t._s(t.username)+" ")]},proxy:!0}],null,!1,607767448)},[o("b-dropdown-item-button",{on:{click:t.logout}},[o("b-icon",{attrs:{icon:"power","aria-hidden":"true"}}),t._v("Logout "),o("span",{staticClass:"sr-only"},[t._v("(Click to unlock)")])],1)],1)],1):t._e()],1)],1):t._e(),o("router-view")],1)},n=[],s=(o("b0c0"),{data:function(){return{}},methods:{forword:function(){this.$router.push("/")},logout:function(){var t=this;this.$store.dispatch("logout").then((function(){t.$router.push("/login")}))}},computed:{isLoggedIn:function(){return this.$store.getters.isLoggedIn},compStatus:function(){return this.$store.getters.compStatus},username:function(){return this.$store.state.user.name}}}),i=s,l=(o("034f"),o("2877")),c=Object(l["a"])(i,r,n,!1,null,null,null),d=c.exports,u=o("9483");Object(u["a"])("".concat("/desktop/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});o("45fc"),o("d3b7");var m=o("8c4f"),b=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"home"},[o("HelloWorld",{attrs:{msg:"Welcome to Your Vue.js App"}})],1)},f=[],p=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"hello"},[o("h1",[t._v(t._s(t.msg))])])},h=[],g={name:"HelloWorld",props:{msg:String}},k=g,v=(o("5d06"),Object(l["a"])(k,p,h,!1,null,"43f48a4c",null)),y=v.exports,_={name:"Home",components:{HelloWorld:y}},C=_,w=Object(l["a"])(C,b,f,!1,null,null,null),x=w.exports,S=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("b-card",{staticStyle:{margin:"0 auto","padding-top":"25px","margin-top":"25px"}},[o("div",[o("div",{staticClass:"col wrapper-box"},[o("p",{staticClass:"wrapper-box__title text-center"},[t._v("Sign in")]),o("div",[o("form",{staticClass:"form form-newaccount",attrs:{id:"loginForm"},on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"inputUser"}},[t._v("E-mail")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Username"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"inputPassword"}},[t._v("Password")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{id:"inputPassword",type:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),o("div",{staticClass:"custom-control custom-checkbox pull-right"},[o("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customCheck1"}}),o("label",{staticClass:"custom-control-label",attrs:{for:"customCheck1"}},[t._v("Remember password")])]),o("button",{staticClass:"btn btn-default",attrs:{type:"submit"}},[t._v("Login")]),o("hr"),o("router-link",{staticClass:"text-link d-block text-right",attrs:{to:"/register"}},[t._v("No account yet?")])],1)])])]),o("b-modal",{ref:"companyModal",attrs:{id:"modal-company",size:"lg","hide-header":"","hide-footer":""}},[o("b-card",{attrs:{title:"Company Selection"}},[o("form",{ref:"form",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit(e)}}},[o("b-row",[o("b-col",[o("b-form-group",{attrs:{label:"Company","label-for":"company",state:t.companyState,"invalid-feedback":"Company is Required"}},[o("b-form-select",{staticClass:"mb-3",attrs:{required:"",state:t.companyState,id:"company",options:t.company},on:{change:t.checkFormValidity},scopedSlots:t._u([{key:"first",fn:function(){return[o("b-form-select-option",{attrs:{value:null,disabled:""}},[t._v("-- Please select a Company --")])]},proxy:!0}]),model:{value:t.selectedComp,callback:function(e){t.selectedComp=e},expression:"selectedComp"}})],1)],1)],1),o("b-row",[o("b-col",{staticStyle:{"text-align":"center !important"}},[o("b-button",{attrs:{variant:"primary text-center",disabled:null==t.selectCompany},on:{click:t.selectCompany}},[t._v("Select")])],1)],1)],1)])],1)],1)},D=[],N=(o("7db0"),{data:function(){return{email:"",password:"",company:[],selectedComp:null,companyState:null}},methods:{checkFormValidity:function(){var t=this.$refs.form.checkValidity();return this.companyState=t,t},selectCompany:function(){var t=this;if(this.checkFormValidity()){if(null!==this.selectedComp){var e=this.company.find((function(e){return e.value===t.selectedComp}));this.$store.dispatch("userComp",e)}else this.$router.push("/logout");this.$bvModal.hide("modal-company"),this.$router.push("/create-booking")}},login:function(){var t=this,e=this.email,o=this.password,a=this.$loading.show({loader:"bars",color:"green"});this.$store.dispatch("login",{username:e,password:o}).then((function(){t.$store.dispatch("master").then((function(e){t.company=e,t.$store.dispatch("userData").then((function(){if(a.hide(),t.$store.getters.isAdmin)t.$bvModal.show("modal-company");else{var e=t.company.find((function(e){return e.value===t.$store.state.user.assComp}));t.$store.dispatch("userComp",e),t.$router.push("/create-booking")}})).catch((function(e){alert(e),t.email="",t.password="",a.hide()}))})).catch((function(e){alert(e),t.email="",t.password="",a.hide()}))})).catch((function(e){alert(e),t.email="",t.password="",a.hide()}))}}}),I=N,P=(o("9373"),Object(l["a"])(I,S,D,!1,null,"28e25bfc",null)),$=P.exports,T=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("b-card",[o("b-row",[o("b-col",[o("form",{ref:"form",on:{submit:function(t){t.stopPropagation(),t.preventDefault()}}},[o("b-row",[o("b-col"),o("b-col",[o("b-form-group",{attrs:{label:"Select the Master Type to Modify","label-for":"master"}},[o("b-form-select",{staticClass:"mb-3",attrs:{required:"",id:"master",options:t.masterOptions},on:{change:t.makeEmpty},scopedSlots:t._u([{key:"first",fn:function(){return[o("b-form-select-option",{attrs:{value:null,selected:"selected",disabled:""}},[t._v("-- Please select a Master Type --")])]},proxy:!0}]),model:{value:t.selectedMaster,callback:function(e){t.selectedMaster=e},expression:"selectedMaster"}})],1)],1),o("b-col")],1),o("b-row",["typeOfItems"===t.selectedMaster?o("b-col",[o("b-card",{attrs:{title:"Create or Update Items"}},[o("b-row",{staticStyle:{"margin-bottom":"5px"}},[o("b-col",[o("b-form-input",{staticStyle:{"text-transform":"uppercase"},attrs:{id:"items",required:"",placeholder:"Enter Item",inline:""},model:{value:t.item,callback:function(e){t.item=e},expression:"item"}})],1),o("b-col",{staticStyle:{"text-align":"start"}},[o("b-button",{attrs:{variant:"primary text-center",disabled:t.valExisItems},on:{click:t.addNewItems}},[t._v("Add Item")]),o("b-button",{staticStyle:{"margin-left":"3px"},attrs:{variant:"danger text-center",disabled:!t.valExisItems||""==this.item},on:{click:t.deleteItems}},[t._v("Delete Item")])],1)],1),o("b-row",t._l(t.masterData.typeOfItems,(function(e,a){return o("b-col",{key:e},[o("b-card",{staticStyle:{cursor:"pointer","background-color":"azure",width:"200px","text-align":"left"},attrs:{id:a},on:{click:function(o){return t.clickDeleteItems(e,a)}}},[o("span",{staticStyle:{"white-space":"nowrap","text-align":"left"}},[o("strong",[t._v(t._s(e))])])])],1)})),1)],1)],1):"typeOfRelation"===t.selectedMaster?o("b-col",[o("b-card",{attrs:{title:"Create or Update Relations"}},[o("b-row",{staticStyle:{"margin-bottom":"5px"}},[o("b-col",[o("b-form-input",{staticStyle:{"text-transform":"uppercase"},attrs:{id:"relation",required:"",placeholder:"Enter Relation",inline:""},model:{value:t.relation,callback:function(e){t.relation=e},expression:"relation"}})],1),o("b-col",{staticStyle:{"text-align":"start"}},[o("b-button",{attrs:{variant:"primary text-center",disabled:t.valExisRelation},on:{click:t.addNewRelation}},[t._v("Add Relation")]),o("b-button",{staticStyle:{"margin-left":"3px"},attrs:{variant:"danger text-center",disabled:!t.valExisRelation||""==t.relation},on:{click:t.deleteRelation}},[t._v("Delete Relation")])],1)],1),o("b-row",t._l(t.masterData.typeOfRelation,(function(e,a){return o("b-col",{key:e},[o("b-card",{staticStyle:{cursor:"pointer","background-color":"azure",width:"200px","text-align":"left"},attrs:{id:a},on:{click:function(o){return t.clickDeleteRelation(e,a)}}},[o("span",{staticStyle:{"white-space":"nowrap","text-align":"left"}},[o("strong",[t._v(t._s(e))])])])],1)})),1)],1)],1):"typeOfMeasurment"===t.selectedMaster?o("b-col",[o("b-card",{attrs:{title:"Create or Update Measurment Type"}},[o("b-row",{staticStyle:{"margin-bottom":"5px"}},[o("b-col",[o("b-form-input",{staticStyle:{"text-transform":"uppercase"},attrs:{id:"measurment",required:"",placeholder:"Enter Measurment Type",inline:""},model:{value:t.measurment,callback:function(e){t.measurment=e},expression:"measurment"}})],1),o("b-col",{staticStyle:{"text-align":"start"}},[o("b-button",{attrs:{variant:"primary text-center",disabled:t.valExisMeasurment},on:{click:t.addNewMeasurment}},[t._v("Add Measurment")]),o("b-button",{staticStyle:{"margin-left":"3px"},attrs:{variant:"danger text-center",disabled:!t.valExisMeasurment||""==t.measurment},on:{click:t.deleteMeasurment}},[t._v("Delete Measurment")])],1)],1),o("b-row",t._l(t.masterData.typeOfMeasurment,(function(e,a){return o("b-col",{key:e},[o("b-card",{staticStyle:{cursor:"pointer","background-color":"azure",width:"200px","text-align":"left"},attrs:{id:a},on:{click:function(o){return t.clickDeleteMeasurment(e,a)}}},[o("span",{staticStyle:{"white-space":"nowrap","text-align":"left"}},[o("strong",[t._v(t._s(e))])])])],1)})),1)],1)],1):"typeOfIntrest"===t.selectedMaster?o("b-col",[o("b-card",{attrs:{title:"Create or Update Intrest Type"}},[o("b-row",{staticStyle:{"margin-bottom":"5px"}},[o("b-col",[o("b-form-input",{staticStyle:{"text-transform":"uppercase"},attrs:{id:"intrest",required:"",placeholder:"Enter Intrest Type",inline:""},model:{value:t.intrest,callback:function(e){t.intrest=e},expression:"intrest"}})],1),o("b-col",{staticStyle:{"text-align":"start"}},[o("b-button",{attrs:{variant:"primary text-center",disabled:t.valExisIntrest},on:{click:t.addNewIntrest}},[t._v("Add Intrest")]),o("b-button",{staticStyle:{"margin-left":"3px"},attrs:{variant:"danger text-center",disabled:!t.valExisIntrest||""==t.intrest},on:{click:t.deleteIntrest}},[t._v("Delete Intrest")])],1)],1),o("b-row",t._l(t.masterData.typeOfIntrest,(function(e,a){return o("b-col",{key:e},[o("b-card",{staticStyle:{cursor:"pointer","background-color":"azure",width:"200px","text-align":"left"},attrs:{id:a},on:{click:function(o){return t.clickDeleteIntrest(e,a)}}},[o("span",{staticStyle:{"white-space":"nowrap","text-align":"left"}},[o("strong",[t._v(t._s(e))])])])],1)})),1)],1)],1):o("b-col",[o("span",{staticStyle:{color:"red"}},[o("strong",[t._v("--Select a Master to Modify--")])])])],1),o("b-row",{staticStyle:{"background-color":"white",position:"sticky",bottom:"0","padding-top":"10px"},attrs:{"bg-variant":"light"}},[o("b-col",{staticStyle:{"text-align":"center !important"}},[null!==t.selectedMaster?o("b-button",{attrs:{variant:"primary text-center",value:"update"},on:{click:t.updateMaster}},[t._v("Update Master")]):t._e(),t._v(" "),o("b-button",{attrs:{variant:"danger text-center",value:"Cancel"},on:{click:function(e){return t.$router.push("/")}}},[t._v("Cancel")])],1)],1)],1)])],1)],1)},M=[],O=(o("4de4"),o("498a"),{data:function(){return{masterData:null,selectedMaster:null,relation:"",measurment:"",intrest:"",item:"",disabledFlg:!0,masterOptions:[{value:"typeOfItems",text:"Item Master"},{value:"typeOfRelation",text:"Relation Master"},{value:"typeOfMeasurment",text:"Measurments Master"},{value:"typeOfIntrest",text:"Intrest Type Master"}]}},mounted:function(){this.masterData=this.$store.state.master},methods:{makeEmpty:function(){this.relation="",this.measurment="",this.intrest="",this.item=""},updateMaster:function(){var t=this;this.$bvModal.msgBoxConfirm("Please confirm that you want to Update Master Data.",{title:"Confirmation",size:"sm",buttonSize:"sm",okVariant:"primary",cancelVariant:"danger",okTitle:"Proceed...",cancelTitle:"Cancel",footerClass:"p-2",hideHeaderClose:!1,centered:!0}).then((function(e){e&&(t.masterData.typeOfItems.sort(),t.masterData.typeOfIntrest.sort(),t.masterData.typeOfMeasurment.sort(),t.masterData.typeOfRelation.sort(),t.$store.dispatch("updateMaster",t.masterData).then((function(){t.$bvModal.msgBoxOk("Updated Master Data",{title:"Confirmation",size:"sm",buttonSize:"sm",okVariant:"info",headerClass:"p-2 border-bottom-0",footerClass:"p-2 border-top-0",centered:!0}).then((function(e){e&&t.$router.push("/options")})).catch((function(t){alert(t)}))})).catch((function(t){return alert(t)})))})).catch((function(t){alert(t)}))},addNewItems:function(){this.masterData.typeOfItems.unshift(this.item.trim().toUpperCase()),this.item=""},deleteItems:function(){var t=this;this.masterData.typeOfItems=this.masterData.typeOfItems.filter((function(e){return e!==t.item.trim().toUpperCase()})),this.item=""},clickDeleteItems:function(t,e){document.getElementById(e).style.backgroundColor="#dc3545",document.getElementById(e).style.color="#fff";for(var o=0;o<this.masterData.typeOfItems.length;o++)o!=e&&(document.getElementById(o).style.backgroundColor="azure",document.getElementById(o).style.color="black");this.item=t.toLowerCase()},addNewIntrest:function(){this.masterData.typeOfIntrest.unshift(this.intrest.trim().toUpperCase()),this.intrest=""},deleteIntrest:function(){var t=this;this.masterData.typeOfIntrest=this.masterData.typeOfIntrest.filter((function(e){return e!==t.intrest.trim().toUpperCase()})),this.intrest=""},clickDeleteIntrest:function(t,e){document.getElementById(e).style.backgroundColor="#dc3545",document.getElementById(e).style.color="#fff";for(var o=0;o<this.masterData.typeOfIntrest.length;o++)o!=e&&(document.getElementById(o).style.backgroundColor="azure",document.getElementById(o).style.color="black");this.intrest=t.toLowerCase()},addNewMeasurment:function(){this.masterData.typeOfMeasurment.unshift(this.measurment.trim().toUpperCase()),this.measurment=""},deleteMeasurment:function(){var t=this;this.masterData.typeOfMeasurment=this.masterData.typeOfMeasurment.filter((function(e){return e!==t.measurment.trim().toUpperCase()})),this.measurment=""},clickDeleteMeasurment:function(t,e){document.getElementById(e).style.backgroundColor="#dc3545",document.getElementById(e).style.color="#fff";for(var o=0;o<this.masterData.typeOfMeasurment.length;o++)o!=e&&(document.getElementById(o).style.backgroundColor="azure",document.getElementById(o).style.color="black");this.measurment=t.toLowerCase()},addNewRelation:function(){this.masterData.typeOfRelation.unshift(this.relation.trim().toUpperCase()),this.relation=""},deleteRelation:function(){var t=this;this.masterData.typeOfRelation=this.masterData.typeOfRelation.filter((function(e){return e!==t.relation.trim().toUpperCase()})),this.relation=""},clickDeleteRelation:function(t,e){document.getElementById(e).style.backgroundColor="#dc3545",document.getElementById(e).style.color="#fff";for(var o=0;o<this.masterData.typeOfRelation.length;o++)o!=e&&(document.getElementById(o).style.backgroundColor="azure",document.getElementById(o).style.color="black");this.relation=t.toLowerCase()}},computed:{valExisItems:function(){var t=this;return""===this.item||void 0!==this.masterData.typeOfItems.find((function(e){return e.toLowerCase()===t.item.trim()}))},valExisIntrest:function(){var t=this;return""===this.intrest||void 0!==this.masterData.typeOfIntrest.find((function(e){return e.toLowerCase()===t.intrest.trim()}))},valExisMeasurment:function(){var t=this;return""===this.measurment||void 0!==this.masterData.typeOfMeasurment.find((function(e){return e.toLowerCase()===t.measurment.trim()}))},valExisRelation:function(){var t=this;return""===this.relation||void 0!==this.masterData.typeOfRelation.find((function(e){return e.toLowerCase()===t.relation.trim()}))}}}),R=O,j=Object(l["a"])(R,T,M,!1,null,null,null),L=j.exports,A=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("b-card",[o("b-row",[o("b-col",[o("span",{staticClass:"my-card-heading"},[t._v("ACCOUNT SEARCH")])])],1),o("b-row",[o("b-col",{attrs:{md:""}},[o("form",{ref:"form",on:{submit:function(t){t.stopPropagation(),t.preventDefault()}}},[o("b-row",{staticClass:"my-1"},[o("b-col",{staticStyle:{"padding-top":"10px"},attrs:{md:"",sm:"2"}},[o("label",{attrs:{for:"accountSearch"}},[o("strong",[t._v("Account Search:")])])]),o("b-col",{staticStyle:{display:"flex","padding-left":"0px"},attrs:{sm:"10",md:"9"}},[o("b-form-input",{staticStyle:{"text-transform":"uppercase","margin-right":"3px"},attrs:{id:"accountSearch",size:"lg"},model:{value:t.accountSearch,callback:function(e){t.accountSearch=e},expression:"accountSearch"}}),o("b-button",{attrs:{variant:"primary",disabled:!(null!==t.accountSearch&&t.accountSearch.length>=3)},on:{click:t.searchAccount}},[o("b-icon",{attrs:{icon:"search","aria-hidden":"true"}}),o("span",{staticClass:"sr-only"},[t._v("Search")])],1)],1)],1)],1)])],1),o("b-row",[o("b-col",[o("b-card",[o("b-row",[o("b-col",{staticStyle:{"max-width":"260px"},attrs:{md:"3"}},[o("b-card-title",{staticStyle:{"text-align":"left",width:"260px"}},[t._v("Accounts Found ("+t._s(t.totalRows)+")")])],1),o("b-col",{attrs:{md:"3"}},[o("b-form-input",{staticStyle:{"margin-right":"10px",display:"inline-flex"},attrs:{size:"sm",readonly:t.totalRows<1,placeholder:"ðŸ”  Search Pending..."},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})],1),o("b-col",{staticStyle:{"padding-right":"0px"},attrs:{md:"6"}},[o("b-button",{staticStyle:{float:"right"},attrs:{variant:"primary",disabled:""==t.selected},on:{click:t.editAccount}},[o("b-icon",{attrs:{icon:"pencil","aria-hidden":"true"}}),o("span",{staticClass:"sr-only"},[t._v("pencil")]),t._v("Edit Account ")],1),o("b-button",{staticStyle:{float:"right","margin-right":"4px"},attrs:{variant:"primary"},on:{click:function(e){return t.$router.push("/createAccount")}}},[t._v("Create Account ")]),o("b-button",{staticStyle:{float:"right","margin-right":"4px"},attrs:{disabled:""==t.selected,variant:"primary"},on:{click:t.editBookings}},[t._v("GoTo Booking ")])],1)],1),o("b-table",{ref:"selectableTable",attrs:{id:"accountSearchResult",selectable:"",filter:t.filter,"select-mode":"single",items:t.items,fields:t.fields,"sticky-header":"true",responsive:""},on:{"row-selected":t.onRowSelected},scopedSlots:t._u([{key:"cell(brokerName)",fn:function(e){return[o("div",{staticStyle:{"text-align":"left"}},[t._v(t._s(e.value))])]}},{key:"cell(brokerNo)",fn:function(e){return[o("div",{staticStyle:{"text-align":"left",width:"100px"}},[t._v(t._s(e.value))])]}},{key:"cell(mobileNo)",fn:function(e){return[o("div",{staticStyle:{"text-align":"left"}},[t._v(t._s(e.value))])]}},{key:"cell(addr1)",fn:function(e){return[o("div",{staticStyle:{"text-align":"left"}},[t._v(t._s(e.value))])]}},{key:"cell(addr2)",fn:function(e){return[o("div",{staticStyle:{"text-align":"left"}},[t._v(t._s(e.value))])]}},{key:"cell(addr3)",fn:function(e){return[o("div",{staticStyle:{"text-align":"left"}},[t._v(t._s(e.value))])]}},{key:"cell(town)",fn:function(e){return[o("div",{staticStyle:{"text-align":"left"}},[t._v(t._s(e.value))])]}},{key:"cell(image)",fn:function(e){return[o("div",[o("b-avatar",{staticClass:"align-baseline",staticStyle:{},attrs:{src:"http://localhost:8182/images/"+e.item.brokerNo+".jpg"},on:{click:function(o){return t.openImage(e.item.brokerNo)}}}),void 0!=e.item.bookings.find((function(t){return!0!==t.closed}))?o("span",{staticClass:"rounded-circle",staticStyle:{"background-color":"#73D500","vertical-align":"top",display:"inline-block",height:"10px",width:"10px"}}):t._e()],1)]}}])})],1)],1)],1),o("b-modal",{ref:"imageModal",attrs:{id:"modal-image",size:"sm","hide-header":"","hide-footer":""}},[o("b-row",[o("b-col",[o("b-img",{attrs:{src:"http://localhost:8182/images/"+t.showImg+".jpg",thumbnail:"",fluid:"",alt:"Fluid image"}})],1)],1),o("b-row",{staticStyle:{"margin-top":"5px"}},[o("b-col",{staticStyle:{"text-align":"center !important"}},[o("b-button",{attrs:{variant:"danger text-center"},on:{click:function(e){return t.$bvModal.hide("modal-image")}}},[t._v("Close")])],1)],1)],1)],1)},B=[],Y=(o("4160"),o("ac1f"),o("5319"),o("841c"),o("159b"),{data:function(){return{selected:"",showImg:"",filter:null,totalRows:0,accountSearch:null,fields:[{key:"image",label:"Identity",sortable:!1},{key:"brokerName",label:"Name",sortable:!0},{key:"brokerNo",label:"Acc No",sortable:!0},{key:"mobileNo",label:"Mobile No",sortable:!0},{key:"addr1",label:"Relation",sortable:!0},{key:"addr2",label:"Door No",sortable:!0},{key:"addr3",label:"Street",sortable:!0},{key:"town",label:"Town",sortable:!0}],items:[]}},methods:{editBookings:function(){var t=this.selected[0].brokerNo;this.$router.push({name:"BookingsView",params:{brokerNo:t,search:this.accountSearch}})},editAccount:function(){var t=this.selected[0].brokerNo;this.$router.push({name:"UpdateAccount",params:{brokerNo:t,search:this.accountSearch}})},onRowSelected:function(t){this.selected=t},onFiltered:function(t){this.totalRows=t.length},openImage:function(t){this.showImg=t,this.$bvModal.show("modal-image")},searchAccount:function(){var t=this,e=this.$loading.show({loader:"dots",color:"green"}),o=this.accountSearch.toUpperCase();o=o.replace(/\//g,"+"),this.$http.get("/middleware/api/secured/get-broker-Lst/"+encodeURIComponent(o.toUpperCase())+"/"+this.$store.state.selectedCompany.value).then((function(o){o.data.forEach((function(t){t.defaulter&&(t._rowVariant="danger")})),t.items=o.data,t.totalRows=t.items.length,e.hide()})).catch((function(t){alert(t)})).finally((function(){}))}},mounted:function(){void 0!=this.accountSearch&&""!=this.accountSearch&&this.searchAccount()},created:function(){this.$route.params.search&&(this.accountSearch=this.$route.params.search)}}),E=Y,z=Object(l["a"])(E,A,B,!1,null,"9038a816",null),F=z.exports,q=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("b-card",[o("b-row",[o("b-col",[o("span",{staticClass:"my-card-heading"},[t._v("CREATE ACCOUNT")])])],1),o("b-form",{ref:"form",on:{submit:function(t){t.stopPropagation(),t.preventDefault()}}},[o("b-row",[o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"1"}},[o("b-form-group",{attrs:{id:"brokerNoLbl",label:"A/C Code","label-for":"brokerNo"}},[o("b-form-input",{attrs:{id:"brokerNo",required:"",disabled:""},model:{value:t.form.brokerNo,callback:function(e){t.$set(t.form,"brokerNo",e)},expression:"form.brokerNo"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"3"}},[o("b-form-group",{attrs:{id:"brokerNameLbl",label:"Name",state:t.nameState,"invalid-feedback":"Name is Required","label-for":"brokerName"}},[o("b-form-input",{attrs:{id:"brokerName",state:t.nameState,required:""},on:{keypress:t.checkFormValidity},model:{value:t.form.brokerName,callback:function(e){t.$set(t.form,"brokerName",e)},expression:"form.brokerName"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right"},[o("b-form-group",{attrs:{id:"addr1Lbl",label:"Mother/Father","label-for":"addr1"}},[o("b-form-input",{attrs:{id:"addr1"},model:{value:t.form.addr1,callback:function(e){t.$set(t.form,"addr1",e)},expression:"form.addr1"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"1"}},[o("b-form-group",{attrs:{id:"gender",label:"Gender","label-for":"gender"}},[o("b-form-select",{attrs:{id:"gender",options:t.genderOptions},model:{value:t.form.gender,callback:function(e){t.$set(t.form,"gender",e)},expression:"form.gender"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"2"}},[o("label",{attrs:{for:"dob"}},[t._v("Date Of Birth")]),o("b-input-group",[o("date-picker",{attrs:{config:t.dobOptions,placeholder:"DD/MM/YYYY"},model:{value:t.dateDob,callback:function(e){t.dateDob=e},expression:"dateDob"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"1"}},[o("b-form-group",{attrs:{id:"ageLbl",label:"Age","label-for":"age"}},[o("b-form-input",{attrs:{id:"age",disabled:"",placeholder:""},model:{value:t.form.age,callback:function(e){t.$set(t.form,"age",e)},expression:"form.age"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"2"}},[o("b-form-group",{attrs:{id:"aadharNoLbl",label:"Aadhar Number","label-for":"aadharNo"}},[o("b-form-input",{attrs:{id:"aadharNo"},model:{value:t.form.aadharNo,callback:function(e){t.$set(t.form,"aadharNo",e)},expression:"form.aadharNo"}})],1)],1)],1),o("b-row",[o("b-col",{attrs:{md:"7"}},[o("b-row",[o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"occupationLbl",label:"Occupation","label-for":"occupation"}},[o("b-form-select",{attrs:{id:"occupation",options:t.occupationOptions},model:{value:t.form.occupation,callback:function(e){t.$set(t.form,"occupation",e)},expression:"form.occupation"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"mobileNoLbl",label:"Mobile No","label-for":"mobileNo"}},[o("b-form-input",{attrs:{id:"mobileNo"},model:{value:t.form.mobileNo,callback:function(e){t.$set(t.form,"mobileNo",e)},expression:"form.mobileNo"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"otherPhones1Lbl",label:"Other Mobile I","label-for":"otherPhones1"}},[o("b-form-input",{attrs:{id:"otherPhones1"},model:{value:t.form.otherPhones1,callback:function(e){t.$set(t.form,"otherPhones1",e)},expression:"form.otherPhones1"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"otherPhones2Lbl",label:"Other Mobile II","label-for":"otherPhones2"}},[o("b-form-input",{attrs:{id:"otherPhones2"},model:{value:t.form.otherPhones2,callback:function(e){t.$set(t.form,"otherPhones2",e)},expression:"form.otherPhones2"}})],1)],1)],1),o("b-row",[o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"contact1MobileLbl",label:"Intro I Mobile","label-for":"relationPhones"}},[o("b-form-input",{attrs:{id:"contact1Mobile",disabled:""},model:{value:t.form.contact1Mobile,callback:function(e){t.$set(t.form,"contact1Mobile",e)},expression:"form.contact1Mobile"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"contact1RelationLbl",label:" Intro I Relation Type","label-for":"contact1Relation"}},[o("b-form-select",{attrs:{id:"contact1Relation",options:t.contactRelationOptions},model:{value:t.form.contact1Relation,callback:function(e){t.$set(t.form,"contact1Relation",e)},expression:"form.contact1Relation"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"contactPerson1Lbl",label:"Intro By I","label-for":"contactPerson1"}},[o("div",{staticStyle:{display:"flex"}},[o("b-form-input",{attrs:{id:"contactPerson1",placeholder:""},model:{value:t.form.contactPerson1,callback:function(e){t.$set(t.form,"contactPerson1",e)},expression:"form.contactPerson1"}}),o("b-button",{attrs:{variant:"primary",disabled:null==t.form.contactPerson1||t.form.contactPerson1.length<3},on:{click:t.searchContact1Person}},[o("b-icon",{attrs:{icon:"search","aria-hidden":"true"}}),o("span",{staticClass:"sr-only"},[t._v("Search")])],1)],1)])],1)],1),o("b-row",[o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"contact2MobileLbl",label:"Intro II Mobile","label-for":"contact2Mobile"}},[o("b-form-input",{attrs:{id:"contact2Mobile",disabled:""},model:{value:t.form.contact2Mobile,callback:function(e){t.$set(t.form,"contact2Mobile",e)},expression:"form.contact2Mobile"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"contact2RelationLbl",label:" Intro II Relation Type","label-for":"contact2Relation"}},[o("b-form-select",{attrs:{id:"contact2Relation",options:t.contactRelationOptions},model:{value:t.form.contact2Relation,callback:function(e){t.$set(t.form,"contact2Relation",e)},expression:"form.contact2Relation"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"contactPerson2Lbl",label:"Intro By II","label-for":"contactPerson2"}},[o("div",{staticStyle:{display:"flex"}},[o("b-form-input",{attrs:{id:"contactPerson2",placeholder:""},model:{value:t.form.contactPerson2,callback:function(e){t.$set(t.form,"contactPerson2",e)},expression:"form.contactPerson2"}}),o("b-button",{attrs:{variant:"primary",disabled:null==t.form.contactPerson2||t.form.contactPerson2.length<3},on:{click:t.searchContact2Person}},[o("b-icon",{attrs:{icon:"search","aria-hidden":"true"}}),o("span",{staticClass:"sr-only"},[t._v("Search")])],1)],1)])],1)],1)],1),o("b-col",{attrs:{md:""}},[o("b-row",[o("b-col",{staticClass:"image-position",attrs:{md:""}},[o("span",{staticStyle:{"text-align":"center"}},[t._v("Account Holder")]),o("div",{staticClass:"image-input",style:{"background-image":"url("+t.imageData+")"},on:{click:t.chooseImage}},[t.imageData?t._e():o("span",{staticClass:"placeholder"},[t._v("Choose an Image")]),o("input",{ref:"fileInput",staticClass:"file-input",attrs:{type:"file"},on:{input:t.onSelectFile}})])]),o("b-col",{staticClass:"image-position",attrs:{md:""}},[o("span",{staticStyle:{"text-align":"center"}},[t._v("Intro I")]),o("div",{attrs:{id:"preview"}},[""==t.form.contact1PersonId||null==t.form.contact1PersonId?o("b-img",t._b({attrs:{rounded:"top",alt:"Top-rounded image"}},"b-img",t.mainProps,!1)):o("b-img",{attrs:{src:"http://localhost:8182/images/"+t.form.contact1PersonId+".jpg",thumbnail:"",fluid:"",alt:"Fluid image"}})],1)]),o("b-col",{staticClass:"image-position",attrs:{md:""}},[o("span",{staticStyle:{"text-align":"center"}},[t._v("Intro II")]),o("div",{attrs:{id:"preview"}},[""==t.form.contact2PersonId||null==t.form.contact2PersonId?o("b-img",t._b({attrs:{rounded:"top",alt:"Top-rounded image"}},"b-img",t.mainProps,!1)):o("b-img",{attrs:{src:"http://localhost:8182/images/"+t.form.contact2PersonId+".jpg",thumbnail:"",fluid:"",alt:"Fluid image"}})],1)])],1)],1)],1),o("b-row",[o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"2"}},[o("label",{attrs:{for:"dow"}},[t._v("Date Of Creation")]),o("b-input-group",[o("b-form-input",{attrs:{id:"dow",disabled:"",type:"text",placeholder:"DD/MM/YYYY"},model:{value:t.dow,callback:function(e){t.dow=e},expression:"dow"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"emailLbl",label:"Email","label-for":"email"}},[o("b-form-input",{attrs:{id:"email"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1)],1),o("b-col",{attrs:{md:"1"}},[o("b-form-group",{attrs:{id:"ownrentLbl",label:"Own or Rent","label-for":"ownrent"}},[o("b-form-checkbox",{attrs:{id:"ownrent"},model:{value:t.form.ownrent,callback:function(e){t.$set(t.form,"ownrent",e)},expression:"form.ownrent"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"addr2Lbl",label:"Door No","label-for":"addr2"}},[o("b-form-input",{attrs:{id:"addr2"},model:{value:t.form.addr2,callback:function(e){t.$set(t.form,"addr2",e)},expression:"form.addr2"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"addr3Lbl",label:"Street","label-for":"addr3"}},[o("b-form-input",{attrs:{id:"addr3"},model:{value:t.form.addr3,callback:function(e){t.$set(t.form,"addr3",e)},expression:"form.addr3"}})],1)],1)],1),o("b-row",[o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"areaLbl",label:"Area","label-for":"area"}},[o("b-form-input",{attrs:{id:"area"},model:{value:t.form.area,callback:function(e){t.$set(t.form,"area",e)},expression:"form.area"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"townLbl",label:"Town","label-for":"town"}},[o("b-form-input",{attrs:{id:"town"},model:{value:t.form.town,callback:function(e){t.$set(t.form,"town",e)},expression:"form.town"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"districtLbl",label:"District","label-for":"district"}},[o("b-form-input",{attrs:{id:"district"},model:{value:t.form.district,callback:function(e){t.$set(t.form,"district",e)},expression:"form.district"}})],1)],1),o("b-col",{attrs:{md:"1"}},[o("b-form-group",{attrs:{id:"zipCodeLbl",label:"ZipCode","label-for":"zipCode"}},[o("b-form-input",{attrs:{id:"zipCode",maxlength:"6"},model:{value:t.form.zipCode,callback:function(e){t.$set(t.form,"zipCode",e)},expression:"form.zipCode"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{staticStyle:{color:"red"},attrs:{id:"remarksLbl",label:"Remarks","label-for":"remarks"}},[o("b-form-textarea",{attrs:{id:"remarks",rows:"3","max-rows":"6"},model:{value:t.form.remarks,callback:function(e){t.$set(t.form,"remarks",e)},expression:"form.remarks"}})],1)],1)],1),o("b-row",{staticStyle:{position:"sticky",bottom:"0","padding-top":"10px"},attrs:{"bg-variant":"light"}},[o("b-col",{staticStyle:{"text-align":"center !important"},attrs:{md:""}},[o("b-button",{attrs:{variant:"primary text-center",value:"Create"},on:{click:t.createAccount}},[t._v("Create Account")]),t._v(" "),o("b-button",{attrs:{variant:"danger text-center",value:"Reset"},on:{click:t.reload}},[t._v("Reset")]),t._v(" "),o("b-button",{attrs:{variant:"secondary text-center",value:"back"},on:{click:function(e){return t.$router.go(-1)}}},[t._v("Back To Search")])],1)],1)],1),o("b-modal",{ref:"contactPersonModal",attrs:{size:"xl",centered:"",id:"modal-contactPerson","hide-header":"","hide-footer":""}},[o("b-card",{attrs:{title:"Contact Person Search"}},[o("b-row",[o("b-col",[o("b-form-group",{attrs:{id:"contactPersonLbl",label:"Intro By","label-for":"contactPerson"}},[o("div",{staticStyle:{display:"flex"}},[o("b-form-input",{attrs:{id:"contactPerson",placeholder:""},model:{value:t.contactPerson,callback:function(e){t.contactPerson=e},expression:"contactPerson"}}),o("b-button",{attrs:{variant:"primary",disabled:null==t.contactPerson||t.contactPerson.length<3},on:{click:t.searchContactPerson}},[o("b-icon",{attrs:{icon:"search","aria-hidden":"true"}}),o("span",{staticClass:"sr-only"},[t._v("Search")])],1)],1)])],1)],1),o("b-row",[o("b-col",[o("b-table",{ref:"selectableTable",attrs:{id:"accountSearchResult",selectable:"","select-mode":"single",items:t.items,fields:t.fields,"sticky-header":"true",responsive:""},on:{"row-dblclicked":t.onRowSelected},scopedSlots:t._u([{key:"cell(brokerName)",fn:function(e){return[o("div",{staticStyle:{"text-align":"left"}},[t._v(t._s(e.value))])]}},{key:"cell(brokerNo)",fn:function(e){return[o("div",{staticStyle:{"text-align":"left",width:"100px"}},[t._v(t._s(e.value))])]}},{key:"cell(mobileNo)",fn:function(e){return[o("div",{staticStyle:{"text-align":"left"}},[t._v(t._s(e.value))])]}},{key:"cell(addr1)",fn:function(e){return[o("div",{staticStyle:{"text-align":"left"}},[t._v(t._s(e.value))])]}},{key:"cell(addr2)",fn:function(e){return[o("div",{staticStyle:{"text-align":"left"}},[t._v(t._s(e.value))])]}},{key:"cell(addr3)",fn:function(e){return[o("div",{staticStyle:{"text-align":"left"}},[t._v(t._s(e.value))])]}},{key:"cell(town)",fn:function(e){return[o("div",{staticStyle:{"text-align":"left"}},[t._v(t._s(e.value))])]}},{key:"cell(image)",fn:function(e){return[o("div",[o("b-avatar",{staticClass:"align-baseline",staticStyle:{},attrs:{src:"http://localhost:8182/images/"+e.item.brokerNo+".jpg"}}),void 0!=e.item.bookings.find((function(t){return!0!==t.closed}))?o("span",{staticClass:"rounded-circle",staticStyle:{"background-color":"#73D500","vertical-align":"top",display:"inline-block",height:"10px",width:"10px"}}):t._e()],1)]}}])})],1)],1)],1)],1)],1)},V=[],U=o("c1df"),W=o.n(U),G={data:function(){return{url:"",dow:null,dobOptions:{format:"DD/MM/YYYY",useCurrent:!0},dateDob:null,imageData:null,custImage:null,mainProps:{blank:!0,blankColor:"#e0e0e0;",width:250,height:250,class:"m1"},genderOptions:["MALE","FEMALE"],occupationOptions:[],contactRelationOptions:[],nameState:null,form:{companyCode:null,brokerNo:null,brokerName:null,aadharNo:null,addr1:null,addr2:null,addr3:null,town:null,district:"KRISHNA",area:null,zipCode:null,otherPhones1:null,otherPhones2:null,mobileNo:null,email:null,dob:null,dow:new Date,occupation:null,age:null,gender:"MALE",remarks:null,ownrent:!1,defaulter:!1,contactPerson1:null,contact1Mobile:null,contact1PersonId:null,contact1Relation:null,contactPerson2:null,contact2Mobile:null,contact2PersonId:null,contact2Relation:null,createdBy:null,updatedBy:null},fields:[{key:"image",label:"Identity",sortable:!1},{key:"brokerName",label:"Name",sortable:!0},{key:"brokerNo",label:"Acc No",sortable:!0},{key:"mobileNo",label:"Mobile No",sortable:!0},{key:"addr1",label:"Relation",sortable:!0},{key:"addr2",label:"Door No",sortable:!0},{key:"addr3",label:"Street",sortable:!0},{key:"town",label:"Town",sortable:!0}],items:[],contactPerson:null,contact1Person:!1,contact2Person:!1}},methods:{chooseImage:function(){this.$refs.fileInput.click()},onSelectFile:function(){var t=this,e=this.$refs.fileInput,o=e.files;if(this.custImage=o,o&&o[0]){var a=new FileReader;a.onload=function(e){t.imageData=e.target.result},a.readAsDataURL(o[0]),this.$emit("input",o[0])}},reload:function(){window.location.reload(!0)},nameCheck:function(){var t=this,e=this.$loading.show({loader:"bars",color:"green"});this.$http.get("/middleware/api/secured/existing-broker-check/"+this.form.brokerName.toUpperCase()+"/"+this.$store.state.selectedCompany.value).then((function(o){e.hide(),o.data&&t.$bvModal.msgBoxOk("Account Name Already Exists",{title:"Name Validation",size:"sm",buttonSize:"sm",okVariant:"danger",headerClass:"p-2 border-bottom-0",footerClass:"p-2 border-top-0",centered:!0}).then((function(t){t&&document.getElementById("brokerName").focus()})).catch((function(t){alert(t)}))})).catch((function(t){alert(t)})).finally((function(){}))},searchContact1Person:function(){this.contact1Person=!0,this.contactPerson=this.form.contactPerson1,this.contact2Person=!1,this.showContactModal()},searchContact2Person:function(){this.contact1Person=!1,this.contactPerson=this.form.contactPerson2,this.contact2Person=!0,this.showContactModal()},searchContactPerson:function(){var t=this,e=this.contactPerson.toUpperCase();e=e.replace(/\//g,"+"),this.$http.get("/middleware/api/secured/get-broker-Lst/"+encodeURIComponent(e.toUpperCase())+"/"+this.$store.state.selectedCompany.value).then((function(e){t.items=e.data})).catch((function(t){alert(t)})).finally((function(){}))},showContactModal:function(){var t=this,e=this.$loading.show({loader:"bars",color:"green"}),o=this.contactPerson.toUpperCase();o=o.replace(/\//g,"+"),this.$http.get("/middleware/api/secured/get-broker-Lst/"+encodeURIComponent(o.toUpperCase())+"/"+this.$store.state.selectedCompany.value).then((function(o){t.items=o.data,e.hide(),t.$bvModal.show("modal-contactPerson")})).catch((function(t){alert(t)})).finally((function(){}))},onRowSelected:function(t){this.$bvModal.hide("modal-contactPerson"),this.contact1Person&&(this.form.contactPerson1=t.brokerName,this.form.contact1PersonId!==t.brokerNo&&(this.form.contact1Relation=null),this.form.contact1PersonId=t.brokerNo,this.form.contact1Mobile=t.mobileNo),this.contact2Person&&(this.form.contactPerson2=t.brokerName,this.form.contact2PersonId!==t.brokerNo&&(this.form.contact2PersonId=null),this.form.contact2PersonId=t.brokerNo,this.form.contact2Mobile=t.mobileNo)},getAccountCode:function(){var t=this;this.$http.get("/middleware/api/secured/broker-account-code/"+this.$store.state.selectedCompany.value).then((function(e){t.form.brokerNo=e.data})).catch((function(t){alert(t)})).finally((function(){}))},existingName:function(){this.$http.get("/middleware/api/secured/existing-broker-check/"+this.$store.state.selectedCompany.value).then((function(t){alert(t.data)})).catch((function(t){alert(t)})).finally((function(){}))},checkFormValidity:function(){var t=this.$refs.form.checkValidity();return this.nameState=t,t},createAccount:function(){var t=this;if(this.checkFormValidity()){var e=new FormData;this.form.createdBy=this.$store.state.user.username,this.form.updatedBy=this.$store.state.user.username,e.append("form",JSON.stringify(this.form)),null!=this.custImage&&e.append("file",this.custImage[0]),this.$bvModal.msgBoxConfirm("Please confirm that you want to Create New Account.",{title:"Confirmation",size:"sm",buttonSize:"sm",okVariant:"primary",cancelVariant:"danger",okTitle:"Proceed...",cancelTitle:"Cancel",footerClass:"p-2",hideHeaderClose:!1,centered:!0}).then((function(o){if(o){var a=t.$loading.show({loader:"dots",color:"green"});t.$http.post("/middleware/api/secured/save-broker",e).then((function(){a.hide(),t.$bvModal.msgBoxOk("Created Account",{title:"Confirmation",size:"sm",buttonSize:"sm",okVariant:"info",headerClass:"p-2 border-bottom-0",footerClass:"p-2 border-top-0",centered:!0}).then((function(e){e&&t.$router.push("/account")})).catch((function(t){alert(t)}))})).catch((function(t){alert(t)})).finally((function(){}))}})).catch((function(t){alert(t)}))}}},mounted:function(){this.occupationOptions=this.$store.state.master.typeOfOccupation,this.contactRelationOptions=this.$store.state.master.typeOfRelation,this.form.companyCode=this.$store.state.selectedCompany.value,this.dow=W()().format("DD/MM/YYYY"),this.getAccountCode()},computed:{dob:function(){return this.form.dob}},watch:{dateDob:function(){var t=W()();this.form.dob=W()(this.dateDob,"DD/MM/YYYY");var e=t.diff(this.form.dob,"years");this.form.age=e}}},H=G,K=(o("5398"),Object(l["a"])(H,q,V,!1,null,"0352a191",null)),J=K.exports,Q=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("b-card",{style:{"background-color":t.form.defaulter?"red":"azure"}},[o("b-row",[o("b-col",[o("span",{staticClass:"my-card-heading"},[t._v("UPDATE ACCOUNT")])])],1),o("b-form",{ref:"form",on:{submit:function(t){t.stopPropagation(),t.preventDefault()}}},[o("b-row",[o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"1"}},[o("b-form-group",{attrs:{id:"brokerNoLbl",label:"A/C Code","label-for":"brokerNo"}},[o("b-form-input",{attrs:{id:"brokerNo",required:"",disabled:""},model:{value:t.form.brokerNo,callback:function(e){t.$set(t.form,"brokerNo",e)},expression:"form.brokerNo"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"3"}},[o("b-form-group",{attrs:{id:"brokerNameLbl",label:"Name",state:t.nameState,"invalid-feedback":"Name is Required","label-for":"brokerName"}},[o("b-form-input",{attrs:{id:"brokerName",state:t.nameState,required:""},model:{value:t.form.brokerName,callback:function(e){t.$set(t.form,"brokerName",e)},expression:"form.brokerName"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right"},[o("b-form-group",{attrs:{id:"addr1Lbl",label:"Mother/Father","label-for":"addr1"}},[o("b-form-input",{attrs:{id:"addr1"},model:{value:t.form.addr1,callback:function(e){t.$set(t.form,"addr1",e)},expression:"form.addr1"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"1"}},[o("b-form-group",{attrs:{id:"gender",label:"Gender","label-for":"gender"}},[o("b-form-select",{attrs:{id:"gender",options:t.genderOptions},model:{value:t.form.gender,callback:function(e){t.$set(t.form,"gender",e)},expression:"form.gender"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"2"}},[o("label",{attrs:{for:"dob"}},[t._v("Data Of Birth")]),o("b-input-group",[o("date-picker",{attrs:{config:t.dobOptions,placeholder:"DD/MM/YYYY"},model:{value:t.dateDob,callback:function(e){t.dateDob=e},expression:"dateDob"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"1"}},[o("b-form-group",{attrs:{id:"ageLbl",label:"Age","label-for":"age"}},[o("b-form-input",{attrs:{id:"age",disabled:"",placeholder:""},model:{value:t.form.age,callback:function(e){t.$set(t.form,"age",e)},expression:"form.age"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"2"}},[o("b-form-group",{attrs:{id:"aadharNoLbl",label:"Aadhar Number","label-for":"aadharNo"}},[o("b-form-input",{attrs:{id:"aadharNo"},model:{value:t.form.aadharNo,callback:function(e){t.$set(t.form,"aadharNo",e)},expression:"form.aadharNo"}})],1)],1)],1),o("b-row",[o("b-col",{attrs:{md:"7"}},[o("b-row",[o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"occupationLbl",label:"Occupation","label-for":"occupation"}},[o("b-form-select",{attrs:{id:"occupation",options:t.occupationOptions},model:{value:t.form.occupation,callback:function(e){t.$set(t.form,"occupation",e)},expression:"form.occupation"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"mobileNoLbl",label:"Mobile No","label-for":"mobileNo"}},[o("b-form-input",{attrs:{id:"mobileNo"},model:{value:t.form.mobileNo,callback:function(e){t.$set(t.form,"mobileNo",e)},expression:"form.mobileNo"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"otherPhones1Lbl",label:"Other Mobile I","label-for":"otherPhones1"}},[o("b-form-input",{attrs:{id:"otherPhones1"},model:{value:t.form.otherPhones1,callback:function(e){t.$set(t.form,"otherPhones1",e)},expression:"form.otherPhones1"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"otherPhones2Lbl",label:"Other Mobile II","label-for":"otherPhones2"}},[o("b-form-input",{attrs:{id:"otherPhones2"},model:{value:t.form.otherPhones2,callback:function(e){t.$set(t.form,"otherPhones2",e)},expression:"form.otherPhones2"}})],1)],1)],1),o("b-row",[o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"contact1MobileLbl",label:"Intro I Mobile","label-for":"relationPhones"}},[o("b-form-input",{attrs:{id:"contact1Mobile",disabled:""},model:{value:t.form.contact1Mobile,callback:function(e){t.$set(t.form,"contact1Mobile",e)},expression:"form.contact1Mobile"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"contact1RelationLbl",label:" Intro I Relation Type","label-for":"contact1Relation"}},[o("b-form-select",{attrs:{id:"contact1Relation",options:t.contactRelationOptions},model:{value:t.form.contact1Relation,callback:function(e){t.$set(t.form,"contact1Relation",e)},expression:"form.contact1Relation"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"contactPerson1Lbl",label:"Intro By I","label-for":"contactPerson1"}},[o("div",{staticStyle:{display:"flex"}},[o("b-form-input",{attrs:{id:"contactPerson1",placeholder:""},model:{value:t.form.contactPerson1,callback:function(e){t.$set(t.form,"contactPerson1",e)},expression:"form.contactPerson1"}}),o("b-button",{attrs:{variant:"primary",disabled:null==t.form.contactPerson1||t.form.contactPerson1.length<3},on:{click:t.searchContact1Person}},[o("b-icon",{attrs:{icon:"search","aria-hidden":"true"}}),o("span",{staticClass:"sr-only"},[t._v("Search")])],1)],1)])],1)],1),o("b-row",[o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"contact2MobileLbl",label:"Intro II Mobile","label-for":"contact2Mobile"}},[o("b-form-input",{attrs:{id:"contact2Mobile",disabled:""},model:{value:t.form.contact2Mobile,callback:function(e){t.$set(t.form,"contact2Mobile",e)},expression:"form.contact2Mobile"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"contact2RelationLbl",label:" Intro II Relation Type","label-for":"contact2Relation"}},[o("b-form-select",{attrs:{id:"contact2Relation",options:t.contactRelationOptions},model:{value:t.form.contact2Relation,callback:function(e){t.$set(t.form,"contact2Relation",e)},expression:"form.contact2Relation"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"contactPerson2Lbl",label:"Intro By II","label-for":"contactPerson2"}},[o("div",{staticStyle:{display:"flex"}},[o("b-form-input",{attrs:{id:"contactPerson2",placeholder:""},model:{value:t.form.contactPerson2,callback:function(e){t.$set(t.form,"contactPerson2",e)},expression:"form.contactPerson2"}}),o("b-button",{attrs:{variant:"primary",disabled:null==t.form.contactPerson2||t.form.contactPerson2.length<3},on:{click:t.searchContact2Person}},[o("b-icon",{attrs:{icon:"search","aria-hidden":"true"}}),o("span",{staticClass:"sr-only"},[t._v("Search")])],1)],1)])],1)],1)],1),o("b-col",{attrs:{md:""}},[o("b-row",[o("b-col",{staticClass:"image-position",attrs:{md:""}},[o("span",{staticStyle:{"text-align":"center"}},[t._v("Account Holder")]),o("div",{staticClass:"image-input",style:{"background-image":"url("+t.imageData+")"},on:{click:t.chooseImage}},[t.imageData?t._e():o("div",{attrs:{id:"preview"}},[t.imageData?t._e():o("b-img",{attrs:{src:"http://localhost:8182/images/"+t.form.brokerNo+".jpg",thumbnail:"",fluid:"",alt:"Fluid image"}})],1),o("input",{ref:"fileInput",staticClass:"file-input",attrs:{type:"file"},on:{input:t.onSelectFile}})])]),o("b-col",{staticClass:"image-position",attrs:{md:""}},[o("span",{staticStyle:{"text-align":"center"}},[t._v("Intro I")]),o("div",{attrs:{id:"preview"}},[""==t.form.contact1PersonId||null==t.form.contact1PersonId?o("b-img",t._b({attrs:{rounded:"top",alt:"Top-rounded image"}},"b-img",t.mainProps,!1)):o("b-img",{attrs:{src:"http://localhost:8182/images/"+t.form.contact1PersonId+".jpg",thumbnail:"",fluid:"",alt:"Fluid image"}})],1)]),o("b-col",{staticClass:"image-position",attrs:{md:""}},[o("span",{staticStyle:{"text-align":"center"}},[t._v("Intro II")]),o("div",{attrs:{id:"preview"}},[""==t.form.contact2PersonId||null==t.form.contact2PersonId?o("b-img",t._b({attrs:{rounded:"top",alt:"Top-rounded image"}},"b-img",t.mainProps,!1)):o("b-img",{attrs:{src:"http://localhost:8182/images/"+t.form.contact2PersonId+".jpg",thumbnail:"",fluid:"",alt:"Fluid image"}})],1)])],1)],1)],1),o("b-row",[o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"2"}},[o("label",{attrs:{for:"dow"}},[t._v("Data Of Creation")]),o("b-input-group",[o("b-form-input",{attrs:{id:"dow",disabled:"",type:"text",placeholder:"DD/MM/YYYY"},model:{value:t.dow,callback:function(e){t.dow=e},expression:"dow"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"emailLbl",label:"Email","label-for":"email"}},[o("b-form-input",{attrs:{id:"email"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1)],1),o("b-col",{attrs:{md:"1"}},[o("b-form-group",{attrs:{id:"ownrentLbl",label:"Own or Rent","label-for":"ownrent"}},[o("b-form-checkbox",{attrs:{id:"ownrent"},model:{value:t.form.ownrent,callback:function(e){t.$set(t.form,"ownrent",e)},expression:"form.ownrent"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"addr2Lbl",label:"Door No","label-for":"addr2"}},[o("b-form-input",{attrs:{id:"addr2"},model:{value:t.form.addr2,callback:function(e){t.$set(t.form,"addr2",e)},expression:"form.addr2"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"addr3Lbl",label:"Street","label-for":"addr3"}},[o("b-form-input",{attrs:{id:"addr3"},model:{value:t.form.addr3,callback:function(e){t.$set(t.form,"addr3",e)},expression:"form.addr3"}})],1)],1)],1),o("b-row",[o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"areaLbl",label:"Area","label-for":"area"}},[o("b-form-input",{attrs:{id:"area"},model:{value:t.form.area,callback:function(e){t.$set(t.form,"area",e)},expression:"form.area"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"townLbl",label:"Town","label-for":"town"}},[o("b-form-input",{attrs:{id:"town"},model:{value:t.form.town,callback:function(e){t.$set(t.form,"town",e)},expression:"form.town"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"districtLbl",label:"District","label-for":"district"}},[o("b-form-input",{attrs:{id:"district"},model:{value:t.form.district,callback:function(e){t.$set(t.form,"district",e)},expression:"form.district"}})],1)],1),o("b-col",{attrs:{md:"1"}},[o("b-form-group",{attrs:{id:"zipCodeLbl",label:"ZipCode","label-for":"zipCode"}},[o("b-form-input",{attrs:{id:"zipCode",maxlength:"6"},model:{value:t.form.zipCode,callback:function(e){t.$set(t.form,"zipCode",e)},expression:"form.zipCode"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{staticStyle:{color:"red"},attrs:{id:"remarksLbl",label:"Remarks","label-for":"remarks"}},[o("b-form-textarea",{attrs:{id:"remarks",rows:"3","max-rows":"6"},model:{value:t.form.remarks,callback:function(e){t.$set(t.form,"remarks",e)},expression:"form.remarks"}})],1)],1)],1),o("b-row",{staticStyle:{position:"sticky",bottom:"0","padding-top":"10px"},attrs:{"bg-variant":"light"}},[t.form.defaulter?o("b-col",{staticStyle:{"text-align":"center !important"},attrs:{md:""}},[t.$store.getters.isAdmin?o("b-button",{attrs:{variant:"success text-center",value:"activate"},on:{click:t.activateDefaulter}},[t._v("Activate Account")]):t._e(),t._v(" "),o("b-button",{attrs:{variant:"secondary text-center",value:"back"},on:{click:function(e){return t.$router.push({name:"Account",params:{search:t.search}})}}},[t._v("Back To Search")])],1):o("b-col",{staticStyle:{"text-align":"center !important"},attrs:{md:""}},[t.$store.getters.isAdmin?o("b-button",{attrs:{variant:"danger text-center",value:"default"},on:{click:t.makeDefaulter}},[t._v("Make Defaulter")]):t._e(),t._v(" "),o("b-button",{attrs:{variant:"primary text-center",value:"Update"},on:{click:t.updateBookingAccount}},[t._v("Update & GoTo Booking")]),t._v(" "),o("b-button",{attrs:{variant:"primary text-center",value:"Update"},on:{click:t.updateAccount}},[t._v("Update Account")]),t._v(" "),o("b-button",{attrs:{variant:"primary text-center",value:"Update"},on:{click:t.print}},[t._v("Print")]),t._v(" "),o("b-button",{attrs:{variant:"secondary text-center",value:"back"},on:{click:function(e){return t.$router.push({name:"Account",params:{search:t.search}})}}},[t._v("Back To Search")])],1)],1)],1),o("b-modal",{ref:"contactPersonModal",attrs:{size:"xl",centered:"",id:"modal-contactPerson","hide-header":"","hide-footer":""}},[o("b-card",{attrs:{title:"Contact Person Search"}},[o("b-row",[o("b-col",[o("b-form-group",{attrs:{id:"contactPersonLbl",label:"Intro By","label-for":"contactPerson"}},[o("div",{staticStyle:{display:"flex"}},[o("b-form-input",{attrs:{id:"contactPerson",placeholder:""},model:{value:t.contactPerson,callback:function(e){t.contactPerson=e},expression:"contactPerson"}}),o("b-button",{attrs:{variant:"primary",disabled:null==t.contactPerson||t.contactPerson.length<3},on:{click:t.searchContactPerson}},[o("b-icon",{attrs:{icon:"search","aria-hidden":"true"}}),o("span",{staticClass:"sr-only"},[t._v("Search")])],1)],1)])],1)],1),o("b-row",[o("b-col",[o("b-table",{ref:"selectableTable",attrs:{id:"accountSearchResult",selectable:"","select-mode":"single",items:t.items,fields:t.fields,"sticky-header":"true",responsive:""},on:{"row-dblclicked":t.onRowSelected},scopedSlots:t._u([{key:"cell(brokerName)",fn:function(e){return[o("div",{staticStyle:{"text-align":"left"}},[t._v(t._s(e.value))])]}},{key:"cell(brokerNo)",fn:function(e){return[o("div",{staticStyle:{"text-align":"left",width:"100px"}},[t._v(t._s(e.value))])]}},{key:"cell(mobileNo)",fn:function(e){return[o("div",{staticStyle:{"text-align":"left"}},[t._v(t._s(e.value))])]}},{key:"cell(addr1)",fn:function(e){return[o("div",{staticStyle:{"text-align":"left"}},[t._v(t._s(e.value))])]}},{key:"cell(addr2)",fn:function(e){return[o("div",{staticStyle:{"text-align":"left"}},[t._v(t._s(e.value))])]}},{key:"cell(addr3)",fn:function(e){return[o("div",{staticStyle:{"text-align":"left"}},[t._v(t._s(e.value))])]}},{key:"cell(town)",fn:function(e){return[o("div",{staticStyle:{"text-align":"left"}},[t._v(t._s(e.value))])]}},{key:"cell(image)",fn:function(e){return[o("div",[o("b-avatar",{staticClass:"align-baseline",staticStyle:{},attrs:{src:"http://localhost:8182/images/"+e.item.brokerNo+".jpg"}}),void 0!=e.item.bookings.find((function(t){return!0!==t.closed}))?o("span",{staticClass:"rounded-circle",staticStyle:{"background-color":"#73D500","vertical-align":"top",display:"inline-block",height:"10px",width:"10px"}}):t._e()],1)]}}])})],1)],1)],1)],1)],1)},Z=[],X={data:function(){return{search:"",url:"",dateDob:null,dow:null,dobOptions:{format:"DD/MM/YYYY",useCurrent:!1},imageData:null,custImage:null,mainProps:{blank:!0,blankColor:"#e0e0e0;",width:250,height:250,class:"m1"},genderOptions:["MALE","FEMALE"],occupationOptions:[],contactRelationOptions:[],nameState:null,form:{companyCode:null,brokerNo:null,brokerName:null,aadharNo:null,addr1:null,addr2:null,addr3:null,town:null,district:null,area:null,zipCode:null,otherPhones1:null,otherPhones2:null,mobileNo:null,email:null,dob:null,dow:null,occupation:null,age:null,gender:null,remarks:null,ownrent:!0,defaulter:!1,contactPerson1:null,contact1Mobile:null,contact1PersonId:null,contact1Relation:null,contactPerson2:null,contact2Mobile:null,contact2PersonId:null,contact2Relation:null,createdBy:null,updatedBy:null},fields:[{key:"image",label:"Identity",sortable:!1},{key:"brokerName",label:"Name",sortable:!0},{key:"brokerNo",label:"Acc No",sortable:!0},{key:"mobileNo",label:"Mobile No",sortable:!0},{key:"addr1",label:"Relation",sortable:!0},{key:"addr2",label:"Door No",sortable:!0},{key:"addr3",label:"Street",sortable:!0},{key:"town",label:"Town",sortable:!0}],items:[],contactPerson:null,contact1Person:!1,contact2Person:!1}},methods:{print:function(){window.print()},chooseImage:function(){this.$refs.fileInput.click()},onSelectFile:function(){var t=this,e=this.$refs.fileInput,o=e.files;if(this.custImage=o,o&&o[0]){var a=new FileReader;a.onload=function(e){t.imageData=e.target.result},a.readAsDataURL(o[0]),this.$emit("input",o[0])}},makeDefaulter:function(){var t=this,e=new FormData;e.append("brokerNo",this.form.brokerNo),e.append("compCode",this.form.companyCode),e.append("updatedBy",this.$store.state.user.username),e.append("status",!0),this.$bvModal.msgBoxConfirm("Please confirm that you want to Make Defaulter Account.",{title:"Confirmation",size:"sm",buttonSize:"sm",okVariant:"primary",cancelVariant:"danger",okTitle:"Proceed...",cancelTitle:"Cancel",footerClass:"p-2",hideHeaderClose:!1,centered:!0}).then((function(o){if(o){var a=t.$loading.show({loader:"dots",color:"red"});t.$http.post("/middleware/api/secured/update-broker-status",e).then((function(){a.hide(),t.$bvModal.msgBoxOk("Defaulted Successfully",{title:"Confirmation",size:"sm",buttonSize:"sm",okVariant:"info",headerClass:"p-2 border-bottom-0",footerClass:"p-2 border-top-0",centered:!0}).then((function(e){e&&t.getsSelectedAccount()})).catch((function(t){alert(t)}))})).catch((function(t){alert(t)})).finally((function(){}))}})).catch((function(t){alert(t)}))},activateDefaulter:function(){var t=this,e=new FormData;e.append("brokerNo",this.form.brokerNo),e.append("compCode",this.form.companyCode),e.append("updatedBy",this.$store.state.user.username),e.append("status",!1),this.$bvModal.msgBoxConfirm("Please confirm that you want to Activate Account.",{title:"Confirmation",size:"sm",buttonSize:"sm",okVariant:"primary",cancelVariant:"danger",okTitle:"Proceed...",cancelTitle:"Cancel",footerClass:"p-2",hideHeaderClose:!1,centered:!0}).then((function(o){if(o){var a=t.$loading.show({loader:"dots",color:"green"});t.$http.post("/middleware/api/secured/update-broker-status",e).then((function(){a.hide(),t.$bvModal.msgBoxOk("Activated Successfully",{title:"Confirmation",size:"sm",buttonSize:"sm",okVariant:"info",headerClass:"p-2 border-bottom-0",footerClass:"p-2 border-top-0",centered:!0}).then((function(e){e&&t.getsSelectedAccount()})).catch((function(t){alert(t)}))})).catch((function(t){alert(t)})).finally((function(){}))}})).catch((function(t){alert(t)}))},searchContact1Person:function(){this.contact1Person=!0,this.contactPerson=this.form.contactPerson1,this.contact2Person=!1,this.showContactModal()},searchContact2Person:function(){this.contact1Person=!1,this.contactPerson=this.form.contactPerson2,this.contact2Person=!0,this.showContactModal()},searchContactPerson:function(){var t=this,e=this.contactPerson.toUpperCase();e=e.replace(/\//g,"+"),this.$http.get("/middleware/api/secured/get-broker-Lst/"+encodeURIComponent(e.toUpperCase())+"/"+this.$store.state.selectedCompany.value).then((function(e){t.items=e.data})).catch((function(t){alert(t)})).finally((function(){}))},showContactModal:function(){var t=this,e=this.$loading.show({loader:"bars",color:"green"}),o=this.contactPerson.toUpperCase();o=o.replace(/\//g,"+"),this.$http.get("/middleware/api/secured/get-broker-Lst/"+encodeURIComponent(o.toUpperCase())+"/"+this.$store.state.selectedCompany.value).then((function(o){t.items=o.data,e.hide(),t.$bvModal.show("modal-contactPerson")})).catch((function(t){alert(t)})).finally((function(){}))},onRowSelected:function(t){this.$bvModal.hide("modal-contactPerson"),this.contact1Person&&(this.form.contactPerson1=t.brokerName,this.form.contact1PersonId!==t.brokerNo&&(this.form.contact1Relation=null),this.form.contact1PersonId=t.brokerNo,this.form.contact1Mobile=t.mobileNo),this.contact2Person&&(this.form.contactPerson2=t.brokerName,this.form.contact2PersonId!==t.brokerNo&&(this.form.contact2PersonId=null),this.form.contact2PersonId=t.brokerNo,this.form.contact2Mobile=t.mobileNo)},checkFormValidity:function(){var t=this.$refs.form.checkValidity();return this.nameState=t,t},updateBookingAccount:function(){},updateAccount:function(){var t=this;if(this.checkFormValidity()){var e=new FormData;this.form.updatedBy=this.$store.state.user.username,e.append("form",JSON.stringify(this.form)),null!=this.custImage&&this.custImage.length>0?e.append("file",this.custImage[0]):e.append("file",null),this.$bvModal.msgBoxConfirm("Please confirm that you want to Update Account.",{title:"Confirmation",size:"sm",buttonSize:"sm",okVariant:"primary",cancelVariant:"danger",okTitle:"Proceed...",cancelTitle:"Cancel",footerClass:"p-2",hideHeaderClose:!1,centered:!0}).then((function(o){if(o){var a=t.$loading.show({loader:"dots",color:"green"});t.$http.post("/middleware/api/secured/update-broker",e).then((function(){a.hide(),t.$bvModal.msgBoxOk("Updated Account",{title:"Confirmation",size:"sm",buttonSize:"sm",okVariant:"info",headerClass:"p-2 border-bottom-0",footerClass:"p-2 border-top-0",centered:!0}).then((function(e){e&&t.getsSelectedAccount()})).catch((function(t){alert(t)}))})).catch((function(t){alert(t)})).finally((function(){}))}})).catch((function(t){alert(t)}))}},getsSelectedAccount:function(){var t=this,e=this.$loading.show({loader:"bars",color:"green"});this.$http.get("/middleware/api/secured/get-broker/"+this.form.brokerNo+"/"+this.$store.state.selectedCompany.value).then((function(o){e.hide(),null!=o.data&&""!=o.data?(t.dateDob=t.converteMongoToDate(o.data.dob),t.dow=t.converteMongoToDate(o.data.dow),o.data.dow=W()(t.dow,"YYYY-MM-DD"),o.data.createdDt=null,o.data.updatedDt=null,o.data.bookings=null,t.form=o.data):t.$bvModal.msgBoxOk("Please select proper user",{title:"Wrong Information Provided",size:"sm",buttonSize:"sm",okVariant:"danger",headerClass:"p-2 border-bottom-0",footerClass:"p-2 border-top-0",centered:!0}).then((function(e){e&&t.$router.push("/account")})).catch((function(t){alert(t)}))})).catch((function(t){alert(t)})).finally((function(){}))},converteMongoToDate:function(t){if(null!=t){var e=W.a.utc();return e.set("year",t.year),e.set("month",t.month),e.set("date",t.dayOfMonth),e.startOf("day"),e.format("DD/MM/YYYY")}return null}},mounted:function(){this.occupationOptions=this.$store.state.master.typeOfOccupation,this.contactRelationOptions=this.$store.state.master.typeOfRelation,this.form.companyCode=this.$store.state.selectedCompany.value,this.getsSelectedAccount()},computed:{dob:function(){return this.form.dob}},watch:{dateDob:function(){var t=W()();this.form.dob=W()(this.dateDob,"DD/MM/YYYY");var e=t.diff(this.form.dob,"years");this.form.age=e}},created:function(){this.form.brokerNo=this.$route.params.brokerNo,this.search=this.$route.params.search}},tt=X,et=(o("2d1c"),Object(l["a"])(tt,Q,Z,!1,null,"f46e8436",null)),ot=et.exports,at=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("b-card",[o("b-row",[o("b-col",[o("span",{staticClass:"my-card-heading"},[t._v("BOOKINGS SEARCH")])])],1),o("b-row",[o("b-col",{attrs:{md:""}},[o("form",{ref:"form",on:{submit:function(t){t.stopPropagation(),t.preventDefault()}}},[o("b-row",{staticClass:"my-1"},[o("b-col",{staticStyle:{"padding-top":"10px"},attrs:{md:"",sm:"2"}},[o("label",{attrs:{for:"accountSearch"}},[o("strong",[t._v("Bookings Search:")])])]),o("b-col",{staticStyle:{display:"flex","padding-left":"0px"},attrs:{sm:"10",md:"9"}},[o("b-form-input",{staticStyle:{"text-transform":"uppercase","margin-right":"3px"},attrs:{id:"accountSearch",size:"lg"},model:{value:t.accountSearch,callback:function(e){t.accountSearch=e},expression:"accountSearch"}}),o("b-button",{attrs:{variant:"primary",disabled:!(null!==t.accountSearch&&t.accountSearch.length>=3)},on:{click:t.searchAccount}},[o("b-icon",{attrs:{icon:"search","aria-hidden":"true"}}),o("span",{staticClass:"sr-only"},[t._v("Search")])],1)],1)],1)],1)])],1),o("b-row",[o("b-col",[o("b-card",[o("b-row",[o("b-col",{staticStyle:{"max-width":"260px"},attrs:{md:"3"}},[o("b-card-title",{staticStyle:{"text-align":"left",width:"260px"}},[t._v("Booking Found ("+t._s(t.totalRows)+")")])],1),o("b-col",{attrs:{md:"3"}},[o("b-form-input",{staticStyle:{"margin-right":"10px",display:"inline-flex"},attrs:{size:"sm",readonly:t.totalRows<1,placeholder:"ðŸ”  Search Pending..."},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})],1),o("b-col",{staticStyle:{"padding-right":"0px"},attrs:{md:"6"}},[o("b-button",{staticStyle:{float:"right"},attrs:{variant:"primary",disabled:""==t.selected},on:{click:t.editBookings}},[o("b-icon",{attrs:{icon:"pencil","aria-hidden":"true"}}),o("span",{staticClass:"sr-only"},[t._v("pencil")]),t._v("Edit Bookings ")],1),o("b-button",{staticStyle:{float:"right","margin-right":"4px"},attrs:{variant:"primary"},on:{click:function(e){return t.$router.push({name:"CreateBooking",params:{brokerNo:t.selected[0].brokerNo,search:t.accountSearch}})}}},[t._v("Create Booking ")]),o("b-button",{staticStyle:{float:"right","margin-right":"4px"},attrs:{disabled:""==t.selected,variant:"primary"}},[t._v("GoTo Account ")])],1)],1),o("b-table",{ref:"selectableTable",attrs:{id:"accountSearchResult",selectable:"",filter:t.filter,"select-mode":"single",items:t.items,fields:t.fields,"sticky-header":"true",responsive:""},on:{"row-selected":t.onRowSelected},scopedSlots:t._u([{key:"cell(brokerName)",fn:function(e){return[o("div",{staticStyle:{"text-align":"left"}},[t._v(t._s(e.value))])]}},{key:"cell(activeCount)",fn:function(e){return[e.value>0?o("div",{staticClass:"count-color"},[o("strong",[t._v(t._s(e.value))])]):o("div",{staticStyle:{"text-align":"center"}},[t._v(t._s(e.value))])]}},{key:"cell(total)",fn:function(e){return[o("div",[o("strong",[t._v(t._s(e.value))])])]}},{key:"cell(pendingCount)",fn:function(e){return[e.value>0?o("div",{staticClass:"count-color",staticStyle:{"background-color":"#ffc107"}},[o("strong",[t._v(t._s(e.value))])]):o("div",{staticStyle:{"text-align":"center"}},[t._v(t._s(e.value))])]}},{key:"cell(auctionedCount)",fn:function(e){return[e.value>0?o("div",{staticClass:"count-color",staticStyle:{"background-color":"#dc3545"}},[o("strong",[t._v(t._s(e.value))])]):o("div",{staticStyle:{"text-align":"center"}},[t._v(t._s(e.value))])]}},{key:"cell(closedCount)",fn:function(e){return[e.value>0?o("div",{staticClass:"count-color",staticStyle:{"background-color":"#17a2b8"}},[o("strong",[t._v(t._s(e.value))])]):o("div",{staticStyle:{"text-align":"center"}},[t._v(t._s(e.value))])]}},{key:"cell(brokerNo)",fn:function(e){return[o("div",{staticStyle:{"text-align":"left",width:"100px"}},[t._v(t._s(e.value))])]}},{key:"cell(image)",fn:function(e){return[o("div",[o("b-avatar",{staticClass:"align-baseline",attrs:{src:"http://localhost:8182/images/"+e.item.brokerNo+".jpg"},on:{click:function(o){return t.openImage(e.item.brokerNo)}}}),e.item.activeCount>0?o("span",{staticClass:"rounded-circle",staticStyle:{"background-color":"#73D500","vertical-align":"top",display:"inline-block",height:"10px",width:"10px"}}):t._e()],1)]}}])})],1)],1)],1),o("b-modal",{ref:"imageModal",attrs:{id:"modal-image",size:"sm","hide-header":"","hide-footer":""}},[o("b-row",[o("b-col",[o("b-img",{attrs:{src:"http://localhost:8182/images/"+t.showImg+".jpg",thumbnail:"",fluid:"",alt:"Fluid image"}})],1)],1),o("b-row",{staticStyle:{"margin-top":"5px"}},[o("b-col",{staticStyle:{"text-align":"center !important"}},[o("b-button",{attrs:{variant:"danger text-center"},on:{click:function(e){return t.$bvModal.hide("modal-image")}}},[t._v("Close")])],1)],1)],1)],1)},rt=[],nt=(o("99af"),{data:function(){return{selected:"",showImg:"",filter:null,totalRows:0,accountSearch:null,fields:[{key:"image",label:"Identity",sortable:!1},{key:"brokerName",label:"Name",sortable:!0},{key:"brokerNo",label:"Acc No",sortable:!0},{key:"activeCount",label:"Active Bookings",sortable:!0},{key:"pendingCount",label:"Pending Bookings",sortable:!0},{key:"auctionedCount",label:"Auctioned Bookings",sortable:!0},{key:"closedCount",label:"Closed Bookings",sortable:!0},{key:"total",label:"Total Bookings",sortable:!0}],items:[]}},methods:{editBookings:function(){var t=this.selected[0].brokerNo;this.$router.push({name:"BookingsView",params:{brokerNo:t,search:this.accountSearch}})},onRowSelected:function(t){this.selected=t},onFiltered:function(t){this.totalRows=t.length},openImage:function(t){this.showImg=t,this.$bvModal.show("modal-image")},searchAccount:function(){var t=this,e=this.$loading.show({loader:"dots",color:"green"}),o=this.accountSearch.toUpperCase();o=o.replace(/\//g,"+"),this.$http.get("/middleware/api/secured/get-booking-Lst/"+encodeURIComponent(o.toUpperCase())+"/"+this.$store.state.selectedCompany.value).then((function(o){var a=o.data.actualResults,r=o.data.emptyResults;r.length>0&&(a=o.data.actualResults.concat(o.data.emptyResults)),a.forEach((function(t){t.defaulter&&(t._rowVariant="danger")})),t.items=a,t.totalRows=t.items.length,e.hide()})).catch((function(t){alert(t)})).finally((function(){}))}},mounted:function(){void 0!=this.accountSearch&&""!=this.accountSearch&&this.searchAccount()},created:function(){this.$route.params.search&&(this.accountSearch=this.$route.params.search)}}),st=nt,it=(o("2eca"),Object(l["a"])(st,at,rt,!1,null,"19d2a3f0",null)),lt=it.exports,ct=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("b-card",{style:{"background-color":t.form.defaulter?"red":"azure"}},[o("b-row",[o("b-col",[o("span",{staticClass:"my-card-heading"},[t._v("BOOKINGS VIEW")])])],1),o("b-row",[o("b-col",{attrs:{md:"10"}},[o("b-row",[o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"2"}},[o("b-form-group",{attrs:{id:"brokerNoLbl",label:"A/C Code","label-for":"brokerNo"}},[o("b-form-input",{attrs:{id:"brokerNo",required:"",disabled:""},model:{value:t.form.brokerNo,callback:function(e){t.$set(t.form,"brokerNo",e)},expression:"form.brokerNo"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"3"}},[o("b-form-group",{attrs:{id:"brokerNameLbl",label:"Name","invalid-feedback":"Name is Required","label-for":"brokerName"}},[o("b-form-input",{attrs:{id:"brokerName",required:"",disabled:""},model:{value:t.form.brokerName,callback:function(e){t.$set(t.form,"brokerName",e)},expression:"form.brokerName"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"1"}},[o("b-form-group",{attrs:{id:"ageLbl",label:"Age","label-for":"age"}},[o("b-form-input",{attrs:{id:"age",disabled:"",placeholder:""},model:{value:t.form.age,callback:function(e){t.$set(t.form,"age",e)},expression:"form.age"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:""}},[o("b-form-group",{attrs:{id:"addr1Lbl",label:"Mother/Father","label-for":"addr1"}},[o("b-form-input",{attrs:{id:"addr1",disabled:""},model:{value:t.form.addr1,callback:function(e){t.$set(t.form,"addr1",e)},expression:"form.addr1"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:""}},[o("b-form-group",{attrs:{id:"occupationLbl",label:"Occupation","label-for":"occupation"}},[o("b-form-input",{attrs:{id:"occupation",disabled:"",placeholder:""},model:{value:t.form.occupation,callback:function(e){t.$set(t.form,"occupation",e)},expression:"form.occupation"}})],1)],1)],1),o("b-row",[o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"mobileNoLbl",label:"Mobile No","label-for":"mobileNo"}},[o("b-form-input",{attrs:{id:"mobileNo",disabled:""},model:{value:t.form.mobileNo,callback:function(e){t.$set(t.form,"mobileNo",e)},expression:"form.mobileNo"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"contactPerson1Lbl",label:"Intro By I","label-for":"contactPerson1"}},[o("b-form-input",{attrs:{id:"contactPerson1",disabled:"",placeholder:""},model:{value:t.form.contactPerson1,callback:function(e){t.$set(t.form,"contactPerson1",e)},expression:"form.contactPerson1"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"contactPerson2Lbl",label:"Intro By II","label-for":"contactPerson2"}},[o("b-form-input",{attrs:{id:"contactPerson2",disabled:"",placeholder:""},model:{value:t.form.contactPerson2,callback:function(e){t.$set(t.form,"contactPerson2",e)},expression:"form.contactPerson2"}})],1)],1)],1),o("b-row",[o("b-col",{attrs:{md:""}},[o("b-button",{staticStyle:{float:"right","margin-right":"4px"},attrs:{variant:"secondary text-center",value:"back"},on:{click:function(e){return t.$router.push({name:"Account",params:{search:t.search}})}}},[t._v("Back To Account Search")]),o("b-button",{staticStyle:{float:"right","margin-right":"4px"},attrs:{variant:"secondary text-center",value:"back"},on:{click:function(e){return t.$router.push({name:"Bookings",params:{search:t.search}})}}},[t._v("Back To Booking Search")]),o("b-button",{staticStyle:{float:"right","margin-right":"4px"},attrs:{variant:"primary"},on:{click:t.editAccount}},[t._v("Modify Account Info")]),o("b-button",{staticStyle:{float:"right","margin-right":"4px"},attrs:{variant:"primary"},on:{click:function(e){return t.$router.push({name:"CreateBooking",params:{brokerNo:t.form.brokerNo,search:""}})}}},[t._v("Create Booking")])],1)],1)],1),o("b-col",{staticClass:"image-position",staticStyle:{"margin-top":"0px"},attrs:{md:""}},[o("div",{attrs:{id:"preview"}},[null!=t.form.brokerNo?o("b-img",{attrs:{width:"150px",height:"150px",src:"http://localhost:8182/images/"+t.form.brokerNo+".jpg",alt:"Fluid image"}}):t._e()],1)])],1)],1),o("b-card",{attrs:{"no-body":""}},[o("b-tabs",{attrs:{card:""},model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},[o("b-tab",{attrs:{id:"active"},scopedSlots:t._u([{key:"title",fn:function(){return[o("span",{staticStyle:{color:"#28a745"}},[t._v(" ACTIVE ("),o("strong",{staticStyle:{color:"#007bff"}},[t._v(t._s(t.form.runningAccounts.length))]),t._v(") ")])]},proxy:!0}])},[o("b-table",{attrs:{"sticky-header":"true",responsive:"",selectable:"","select-mode":"single",fields:t.fields,items:t.form.runningAccounts},on:{"row-dblclicked":t.selectedBooking},scopedSlots:t._u([{key:"cell(bookingDate)",fn:function(e){return[o("div",[t._v(t._s(t.converteMongoToDate(e.value)))])]}},{key:"cell(lastTransDate)",fn:function(e){return[o("div",[t._v(t._s(t.converteMongoToDate(e.value)))])]}},{key:"cell(closedDate)",fn:function(e){return[o("div",[t._v(t._s(t.converteMongoToDate(e.value)))])]}},{key:"cell(dueDate)",fn:function(e){return[o("div",[t._v(t._s(t.converteMongoToDate(e.value)))])]}},{key:"cell(actualAmount)",fn:function(e){return[o("div",[t._v(t._s(t.formatter.format(e.value)))])]}},{key:"cell(totalPrinciplePaid)",fn:function(e){return[o("div",[t._v(t._s(t.formatter.format(e.value)))])]}},{key:"cell(totalIntrestPaid)",fn:function(e){return[o("div",[t._v(t._s(t.formatter.format(e.value)))])]}}])})],1),o("b-tab",{attrs:{id:"current"},scopedSlots:t._u([{key:"title",fn:function(){return[o("span",{staticStyle:{color:"#007bff"}},[t._v(" CURRENT ("),o("strong",{staticStyle:{color:"#007bff"}},[t._v(t._s(t.form.activeBookings.length))]),t._v(") ")])]},proxy:!0}])},[o("b-table",{attrs:{"sticky-header":"true",responsive:"",selectable:"","select-mode":"single",fields:t.fields,items:t.form.activeBookings},on:{"row-dblclicked":t.selectedBooking},scopedSlots:t._u([{key:"cell(bookingDate)",fn:function(e){return[o("div",[t._v(t._s(t.converteMongoToDate(e.value)))])]}},{key:"cell(lastTransDate)",fn:function(e){return[o("div",[t._v(t._s(t.converteMongoToDate(e.value)))])]}},{key:"cell(closedDate)",fn:function(e){return[o("div",[t._v(t._s(t.converteMongoToDate(e.value)))])]}},{key:"cell(dueDate)",fn:function(e){return[o("div",[t._v(t._s(t.converteMongoToDate(e.value)))])]}},{key:"cell(actualAmount)",fn:function(e){return[o("div",[t._v(t._s(t.formatter.format(e.value)))])]}},{key:"cell(totalPrinciplePaid)",fn:function(e){return[o("div",[t._v(t._s(t.formatter.format(e.value)))])]}},{key:"cell(totalIntrestPaid)",fn:function(e){return[o("div",[t._v(t._s(t.formatter.format(e.value)))])]}}])})],1),o("b-tab",{attrs:{id:"pending"},scopedSlots:t._u([{key:"title",fn:function(){return[o("span",{staticStyle:{color:"orange"}},[t._v(" PENDING ("),o("strong",{staticStyle:{color:"#007bff"}},[t._v(t._s(t.form.pendingBookings.length))]),t._v(") ")])]},proxy:!0}])},[o("b-table",{attrs:{"sticky-header":"true",responsive:"",selectable:"","select-mode":"single",fields:t.fields,items:t.form.pendingBookings},on:{"row-dblclicked":t.selectedBooking},scopedSlots:t._u([{key:"cell(bookingDate)",fn:function(e){return[o("div",[t._v(t._s(t.converteMongoToDate(e.value)))])]}},{key:"cell(closedDate)",fn:function(e){return[o("div",[t._v(t._s(t.converteMongoToDate(e.value)))])]}},{key:"cell(lastTransDate)",fn:function(e){return[o("div",[t._v(t._s(t.converteMongoToDate(e.value)))])]}},{key:"cell(dueDate)",fn:function(e){return[o("div",[t._v(t._s(t.converteMongoToDate(e.value)))])]}},{key:"cell(actualAmount)",fn:function(e){return[o("div",[t._v(t._s(t.formatter.format(e.value)))])]}},{key:"cell(totalPrinciplePaid)",fn:function(e){return[o("div",[t._v(t._s(t.formatter.format(e.value)))])]}},{key:"cell(totalIntrestPaid)",fn:function(e){return[o("div",[t._v(t._s(t.formatter.format(e.value)))])]}}])})],1),o("b-tab",{attrs:{id:"auctioned"},scopedSlots:t._u([{key:"title",fn:function(){return[o("span",{staticStyle:{color:"red"}},[t._v(" AUCTIONED ("),o("strong",{staticStyle:{color:"#007bff"}},[t._v(t._s(t.form.auctionedBookings.length))]),t._v(") ")])]},proxy:!0}])},[o("b-table",{attrs:{"sticky-header":"true",responsive:"",selectable:"","select-mode":"single",fields:t.fields,items:t.form.auctionedBookings},on:{"row-dblclicked":t.selectedBooking},scopedSlots:t._u([{key:"cell(bookingDate)",fn:function(e){return[o("div",[t._v(t._s(t.converteMongoToDate(e.value)))])]}},{key:"cell(closedDate)",fn:function(e){return[o("div",[t._v(t._s(t.converteMongoToDate(e.value)))])]}},{key:"cell(lastTransDate)",fn:function(e){return[o("div",[t._v(t._s(t.converteMongoToDate(e.value)))])]}},{key:"cell(dueDate)",fn:function(e){return[o("div",[t._v(t._s(t.converteMongoToDate(e.value)))])]}},{key:"cell(actualAmount)",fn:function(e){return[o("div",[t._v(t._s(t.formatter.format(e.value)))])]}},{key:"cell(totalPrinciplePaid)",fn:function(e){return[o("div",[t._v(t._s(t.formatter.format(e.value)))])]}},{key:"cell(totalIntrestPaid)",fn:function(e){return[o("div",[t._v(t._s(t.formatter.format(e.value)))])]}}])})],1),o("b-tab",{attrs:{id:"closed"},scopedSlots:t._u([{key:"title",fn:function(){return[o("span",{staticStyle:{color:"black"}},[t._v(" CLOSED ("),o("strong",[t._v(t._s(t.form.closedBookings.length))]),t._v(") ")])]},proxy:!0}])},[o("b-table",{attrs:{"sticky-header":"true",responsive:"",selectable:"","select-mode":"single",fields:t.fields,items:t.form.closedBookings},on:{"row-dblclicked":t.selectedBooking},scopedSlots:t._u([{key:"cell(bookingDate)",fn:function(e){return[o("div",[t._v(t._s(t.converteMongoToDate(e.value)))])]}},{key:"cell(lastTransDate)",fn:function(e){return[o("div",[t._v(t._s(t.converteMongoToDate(e.value)))])]}},{key:"cell(closedDate)",fn:function(e){return[o("div",[t._v(t._s(t.converteMongoToDate(e.value)))])]}},{key:"cell(dueDate)",fn:function(e){return[o("div",[t._v(t._s(t.converteMongoToDate(e.value)))])]}},{key:"cell(actualAmount)",fn:function(e){return[o("div",[t._v(t._s(t.formatter.format(e.value)))])]}},{key:"cell(totalPrinciplePaid)",fn:function(e){return[o("div",[t._v(t._s(t.formatter.format(e.value)))])]}},{key:"cell(totalIntrestPaid)",fn:function(e){return[o("div",[t._v(t._s(t.formatter.format(e.value)))])]}}])})],1)],1)],1)],1)},dt=[],ut=o("2909"),mt={data:function(){return{tabIndex:0,brokerNo:null,formatter:"",search:"",form:{brokerNo:null,brokerName:null,otherPhones1:null,otherPhones2:null,mobileNo:null,occupation:null,age:55,auctionedBookings:[],closedBookings:[],activeBookings:[],pendingBookings:[],runningAccounts:[]},fields:[{key:"bookingDate",label:"Booking Date",sortable:!0},{key:"dueDate",label:"Due Date",sortable:!0},{key:"lastTransDate",label:"Last Transaction Date",sortable:!0},{key:"bookingNo",label:"Booking No",sortable:!0},{key:"tranType",label:"Transaction Type",sortable:!1},{key:"loanType",label:"Loan Type",sortable:!1},{key:"actualAmount",label:"Issue Amount",sortable:!0},{key:"totalPrinciplePaid",label:"Principle Paid",sortable:!0},{key:"totalIntrestPaid",label:"Intrest Paid",sortable:!0},{key:"closedDate",label:"Closed Date",sortable:!0},{key:"totalTrans",label:"Total Transactions",sortable:!0}]}},methods:{converteMongoToDate:function(t){if(null!=t&&t&&""!=t){var e=W()(t);return e.format("DD/MM/YYYY")}return null},getsSelectedBroker:function(){var t=this,e=this.$loading.show({loader:"bars",color:"green"});null!=this.brokerNo&&""!==this.brokerNo?this.$http.get("/middleware/api/secured/get-broker-booking-Lst/"+this.brokerNo+"/"+this.$store.state.selectedCompany.value).then((function(o){if(e.hide(),null!=o.data&&""!=o.data){var a=[].concat(Object(ut["a"])(o.data.actualResults[0].activeBookings),Object(ut["a"])(o.data.actualResults[0].pendingBookings));o.data.actualResults[0].runningAccounts=a,t.form=o.data.actualResults[0]}})).catch((function(t){alert(t)})).finally((function(){})):(e.hide(),this.$bvModal.msgBoxOk("Please select proper user",{title:"Wrong Information Provided",size:"sm",buttonSize:"sm",okVariant:"danger",headerClass:"p-2 border-bottom-0",footerClass:"p-2 border-top-0",centered:!0}).then((function(e){e&&t.$router.push("/bookings")})).catch((function(t){alert(t)})))},editAccount:function(){var t=this.brokerNo;this.$router.push({name:"UpdateAccount",params:{brokerNo:t,search:this.search}})},selectedBooking:function(t){this.$router.push({name:"ViewModifyBooking",params:{req:{brokerNo:this.brokerNo,companyCode:this.$store.state.selectedCompany.value,bookingNo:t.bookingNo}}})}},mounted:function(){this.formatter=new Intl.NumberFormat("en-US",{style:"currency",currency:"INR"}),this.getsSelectedBroker()},created:function(){this.brokerNo=this.$route.params.brokerNo,this.search=this.$route.params.search}},bt=mt,ft=Object(l["a"])(bt,ct,dt,!1,null,null,null),pt=ft.exports,ht=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("b-card",{style:{"background-color":t.form.defaulter?"red":"azure"}},[o("b-row",[o("b-col",[o("span",{staticClass:"my-card-heading"},[t._v("CREATE BOOKING")])])],1),o("b-row",[o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"1"}},[o("b-form-group",{attrs:{id:"brokerNoLbl",label:"A/C Code","label-for":"brokerNo"}},[o("b-form-input",{attrs:{id:"brokerNo",required:"",disabled:""},model:{value:t.header.brokerNo,callback:function(e){t.$set(t.header,"brokerNo",e)},expression:"header.brokerNo"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"3"}},[o("b-form-group",{attrs:{id:"brokerNameLbl",label:"Name","invalid-feedback":"Name is Required","label-for":"brokerName"}},[o("b-form-input",{attrs:{id:"brokerName",required:"",disabled:""},model:{value:t.header.brokerName,callback:function(e){t.$set(t.header,"brokerName",e)},expression:"header.brokerName"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"1"}},[o("b-form-group",{attrs:{id:"ageLbl",label:"Age","label-for":"age"}},[o("b-form-input",{attrs:{id:"age",disabled:"",placeholder:""},model:{value:t.header.age,callback:function(e){t.$set(t.header,"age",e)},expression:"header.age"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:""}},[o("b-form-group",{attrs:{id:"addr1Lbl",label:"Mother/Father","label-for":"addr1"}},[o("b-form-input",{attrs:{id:"addr1",disabled:""},model:{value:t.header.addr1,callback:function(e){t.$set(t.header,"addr1",e)},expression:"header.addr1"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:""}},[o("b-form-group",{attrs:{id:"occupationLbl",label:"Occupation","label-for":"occupation"}},[o("b-form-input",{attrs:{id:"occupation",disabled:"",placeholder:""},model:{value:t.header.occupation,callback:function(e){t.$set(t.header,"occupation",e)},expression:"header.occupation"}})],1)],1),o("b-col",{attrs:{md:"2"}},[o("b-form-group",{attrs:{id:"mobileNoLbl",label:"Mobile No","label-for":"mobileNo"}},[o("b-form-input",{attrs:{id:"mobileNo",disabled:""},model:{value:t.header.mobileNo,callback:function(e){t.$set(t.header,"mobileNo",e)},expression:"header.mobileNo"}})],1)],1)],1),o("b-row",[o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"contactPerson1Lbl",label:"Intro By I","label-for":"contactPerson1"}},[o("b-form-input",{attrs:{id:"contactPerson1",disabled:"",placeholder:""},model:{value:t.header.contactPerson1,callback:function(e){t.$set(t.header,"contactPerson1",e)},expression:"header.contactPerson1"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"contactPerson2Lbl",label:"Intro By II","label-for":"contactPerson2"}},[o("b-form-input",{attrs:{id:"contactPerson2",disabled:"",placeholder:""},model:{value:t.header.contactPerson2,callback:function(e){t.$set(t.header,"contactPerson2",e)},expression:"header.contactPerson2"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"addr2Lbl",label:"Door No","label-for":"addr2"}},[o("b-form-input",{attrs:{id:"addr2",disabled:""},model:{value:t.header.addr2,callback:function(e){t.$set(t.header,"addr2",e)},expression:"header.addr2"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"addr3Lbl",label:"Street","label-for":"addr3"}},[o("b-form-input",{attrs:{id:"addr3",disabled:""},model:{value:t.header.addr3,callback:function(e){t.$set(t.header,"addr3",e)},expression:"header.addr3"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"areaLbl",label:"Area","label-for":"area"}},[o("b-form-input",{attrs:{id:"area",disabled:""},model:{value:t.header.area,callback:function(e){t.$set(t.header,"area",e)},expression:"header.area"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"townLbl",label:"Town","label-for":"town"}},[o("b-form-input",{attrs:{id:"town",disabled:""},model:{value:t.header.town,callback:function(e){t.$set(t.header,"town",e)},expression:"header.town"}})],1)],1)],1)],1),o("b-card",{staticStyle:{"background-color":"azure"}},[o("b-form",{ref:"form",on:{submit:function(t){t.stopPropagation(),t.preventDefault()}}},[o("b-row",[o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"2"}},[o("b-form-group",{attrs:{id:"bookingDateLbl",label:"Booking Date","label-for":"bookingDate"}},[o("date-picker",{class:{"is-invalid":t.attemptSubmit&&t.bookingDateVal},attrs:{config:t.bookingOptions,placeholder:"DD/MM/YYYY"},model:{value:t.bookingDate,callback:function(e){t.bookingDate=e},expression:"bookingDate"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"2"}},[o("b-form-group",{attrs:{id:"bookingNoLbl",label:"Booking No","label-for":"bookingNo"}},[o("b-form-input",{class:{"is-invalid":t.attemptSubmit&&t.bookingNoVal},attrs:{id:"bookingNo",required:""},model:{value:t.form.bookingNo,callback:function(e){t.$set(t.form,"bookingNo",e)},expression:"form.bookingNo"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"2"}},[o("b-form-group",{attrs:{id:"tranTypeLbl",label:"Tranaction Type","label-for":"tranType"}},[o("b-form-select",{class:{"is-invalid":t.attemptSubmit&&t.tranTypeVal},attrs:{id:"tranType"},on:{change:t.changeTransType},model:{value:t.selectedTrans,callback:function(e){t.selectedTrans=e},expression:"selectedTrans"}},t._l(t.typeOfLoans,(function(e,a){return o("option",{key:a,domProps:{value:a}},[t._v(t._s(e.label))])})),0)],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"2"}},[o("b-form-group",{attrs:{id:"loanTypeLbl",label:"Loan Type","label-for":"loanType"}},[o("b-form-select",{class:{"is-invalid":t.attemptSubmit&&t.loanTypeVal},attrs:{id:"loanType",disabled:t.loanOptions.length<=0},on:{change:t.changeLoanType},model:{value:t.form.loanType,callback:function(e){t.$set(t.form,"loanType",e)},expression:"form.loanType"}},t._l(t.loanOptions,(function(e,a){return o("option",{key:a,domProps:{value:e}},[t._v(t._s(e))])})),0)],1),o("div",{staticClass:"invalid-feedback"},[t._v("This Field Required")])],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"4"}},[o("b-form-group",{staticStyle:{color:"red"},attrs:{id:"remarksLbl",label:"Remarks","label-for":"remarks"}},[o("b-form-input",{attrs:{id:"remarks"},model:{value:t.form.remarks,callback:function(e){t.$set(t.form,"remarks",e)},expression:"form.remarks"}})],1)],1)],1),null!=t.form.tranType&&"Issue"==t.form.tranType&&null!=t.form.loanType&&"DOCUMENT"!=t.form.loanType&&"INSECURE"!=t.form.loanType?o("b-row",[o("b-col",{attrs:{md:"3"}},[o("b-form-group",{attrs:{id:"multiLbl",label:"Add/Delete Items","label-for":"multi"}},[o("multiselect",{attrs:{options:t.typeOfItems,multiple:!0,taggable:!0},on:{select:t.selectedItem,remove:t.removedItem},model:{value:t.multiItems,callback:function(e){t.multiItems=e},expression:"multiItems"}})],1)],1),o("b-col",{attrs:{md:"9"}},[o("b-table-simple",{attrs:{hover:"",small:"","caption-top":"",responsive:""}},[o("b-thead",{attrs:{"head-variant":"primary"}},[o("b-tr",[o("b-th",{staticStyle:{"background-color":"#ffc107"},attrs:{colspan:"1"}},[t._v("SNo")]),o("b-th",{staticStyle:{"background-color":"#ffc107"},attrs:{colspan:"4"}},[t._v("Item")]),o("b-th",{staticStyle:{"background-color":"#ffc107"},attrs:{colspan:"1"}},[t._v("Quantity")]),o("b-th",{staticStyle:{"background-color":"#ffc107"},attrs:{colspan:"1"}},[t._v("Gross Weight")]),o("b-th",{staticStyle:{"background-color":"#ffc107"},attrs:{colspan:"1"}},[t._v("Net Weight")]),o("b-th",{staticStyle:{"background-color":"#ffc107"},attrs:{colspan:"2"}},[t._v("UMO")]),o("b-th",{staticStyle:{"background-color":"#ffc107"},attrs:{colspan:"2"}},[t._v("Remarks")])],1)],1),o("b-tbody",t._l(t.form.items,(function(e,a){return o("b-tr",{key:a},[o("b-td",{attrs:{colspan:"1"}},[t._v(t._s(a+1))]),o("b-td",{attrs:{colspan:"4"}},[o("b-form-input",{attrs:{required:"",disabled:""},model:{value:e.itemCode,callback:function(o){t.$set(e,"itemCode",o)},expression:"item.itemCode"}})],1),o("b-td",{attrs:{colspan:"1"}},[o("b-form-input",{class:{"is-invalid":t.attemptSubmit&&t.validateEmpty(e.quantity)},attrs:{type:"number",required:""},on:{blur:t.addTotal},model:{value:e.quantity,callback:function(o){t.$set(e,"quantity",o)},expression:"item.quantity"}})],1),o("b-td",{attrs:{colspan:"1"}},[o("b-form-input",{class:{"is-invalid":t.attemptSubmit&&t.validateEmpty(e.grossWeight)},attrs:{type:"number",required:""},on:{blur:t.addTotal},model:{value:e.grossWeight,callback:function(o){t.$set(e,"grossWeight",o)},expression:"item.grossWeight"}})],1),o("b-td",{attrs:{colspan:"1"}},[o("b-form-input",{class:{"is-invalid":t.attemptSubmit&&t.validateEmpty(e.netWeight)},attrs:{type:"number",required:""},on:{blur:t.addTotal},model:{value:e.netWeight,callback:function(o){t.$set(e,"netWeight",o)},expression:"item.netWeight"}})],1),o("b-td",{attrs:{colspan:"2"}},[o("b-form-select",{attrs:{options:t.umoOptions},model:{value:e.uom,callback:function(o){t.$set(e,"uom",o)},expression:"item.uom"}})],1),o("b-td",{attrs:{colspan:"2"}},[o("b-form-input",{model:{value:e.remarks,callback:function(o){t.$set(e,"remarks",o)},expression:"item.remarks"}})],1)],1)})),1),t.form.items.length>0?o("b-tfoot",[o("b-tr",{staticClass:"text-center",attrs:{variant:"secondary"}},[o("b-td",{attrs:{colspan:"1"}},[t._v(" Total:- ")]),o("b-td",{attrs:{colspan:"4"}}),o("b-td",{staticClass:"text-left",attrs:{colspan:"1"}},[t._v(t._s(t.quantity))]),o("b-td",{staticClass:"text-left",attrs:{colspan:"1"}},[t._v(t._s(t.form.grossWeight))]),o("b-td",{staticClass:"text-left",attrs:{colspan:"1"}},[t._v(t._s(t.form.netWeight))]),o("b-td",{attrs:{colspan:"2"}}),o("b-td",{attrs:{colspan:"2"}})],1)],1):t._e()],1)],1)],1):t._e(),o("b-row",[o("b-col",{attrs:{md:""}},[o("b-form-group",{staticStyle:{color:"red"},attrs:{id:"amountTakenLbl",label:"Issue Amount","label-for":"amountTaken"}},[o("b-form-input",{class:{"is-invalid":t.attemptSubmit&&t.amountTakenVal},staticStyle:{color:"red"},attrs:{id:"amountTaken",type:"number",placeholder:""},model:{value:t.form.amountTaken,callback:function(e){t.$set(t.form,"amountTaken",e)},expression:"form.amountTaken"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{label:"Intrest Type"}},[o("b-form-radio-group",{attrs:{id:"radio-group-1",options:t.typeOfIntrest},model:{value:t.form.intrestType,callback:function(e){t.$set(t.form,"intrestType",e)},expression:"form.intrestType"}})],1)],1),"RS"==t.form.intrestType?o("b-col",{attrs:{md:"1"}},[o("b-form-group",{attrs:{id:"intrestRateLbl",label:"Intrest: â‚¹","label-for":"intrestRate"}},[o("b-form-input",{attrs:{id:"intrestRate",type:"number",placeholder:""},model:{value:t.form.intrestRate,callback:function(e){t.$set(t.form,"intrestRate",e)},expression:"form.intrestRate"}})],1)],1):o("b-col",{attrs:{md:"1"}},[o("b-form-group",{attrs:{id:"intrestRateLbl",label:"Intrest: %","label-for":"intrestRate"}},[o("b-form-input",{attrs:{id:"intrestRate",type:"number",placeholder:""},model:{value:t.form.intrestRate,callback:function(e){t.$set(t.form,"intrestRate",e)},expression:"form.intrestRate"}})],1)],1),o("b-col",{attrs:{md:"1"}},[o("b-form-group",{attrs:{id:"purityLbl",label:"Purity %","label-for":"purity"}},[o("b-form-input",{attrs:{id:"purity",type:"number"},model:{value:t.form.purity,callback:function(e){t.$set(t.form,"purity",e)},expression:"form.purity"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:""}},[o("label",{attrs:{for:"dob"}},[t._v("Due Date")]),o("b-input-group",[o("date-picker",{attrs:{config:t.options,placeholder:"DD/MM/YYYY"},model:{value:t.dueDate,callback:function(e){t.dueDate=e},expression:"dueDate"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:""}},[o("label",{attrs:{for:"dob"}},[t._v("Expiery Date")]),o("b-input-group",[o("date-picker",{attrs:{config:t.options,placeholder:"DD/MM/YYYY"},model:{value:t.valueDate,callback:function(e){t.valueDate=e},expression:"valueDate"}})],1)],1)],1),o("b-row",[o("b-col",{attrs:{md:""}},[o("span",{staticStyle:{float:"left"}},[t._v(" Amount In Words: "),t.form.amountTaken>0?o("span",{staticStyle:{color:"red",font:"bold"}},[t._v(t._s(t._f("toWords")(t.form.amountTaken))+" RUPIES ONLY")]):t._e()])])],1),o("b-row",{staticStyle:{position:"sticky",bottom:"0","padding-top":"10px"},attrs:{"bg-variant":"light"}},[o("b-col",{staticStyle:{"text-align":"center !important"},attrs:{md:""}},[o("b-button",{attrs:{variant:"primary text-center",value:"Create"},on:{click:t.createBooking}},[t._v("Create Booking")]),t._v(" "),o("b-button",{attrs:{variant:"danger text-center",value:"Reset"},on:{click:t.reload}},[t._v("Reset")]),t._v(" "),o("b-button",{attrs:{variant:"secondary text-center",value:"back"},on:{click:function(e){return t.$router.go(-1)}}},[t._v("Back To Booking")])],1)],1)],1)],1)],1)},gt=[],kt=o("8e5f"),vt=o.n(kt),yt=o("81b2"),_t=o.n(yt),Ct={components:{Multiselect:vt.a},data:function(){return{umoOptions:["Grams","Kgs"],selectedTrans:0,typeOfIntrest:[{text:"Rs",value:"RS"},{text:"%",value:"Percent"}],bookingOptions:{format:"DD/MM/YYYY",useCurrent:!0},options:{format:"DD/MM/YYYY",useCurrent:!0,minDate:new Date},typeOfLoans:[{label:"Issue",options:["DOCUMENT","GOLD","INSECURE","SILVER"]},{label:"Capital",options:["BANK","DEPOSIT","OWN"]},{label:"Off Exp",options:[]},{label:"Res-Exp",options:[]}],loanOptions:["GOLD","SILVER","INSECURE","DOCUMENT"],typeOfItems:[],amountWords:"",header:{brokerNo:null,companyCode:null,brokerName:null,otherPhones1:null,otherPhones2:null,mobileNo:null,occupation:null,age:null,addr1:null,addr2:null,addr3:null,area:null,town:null},bookingDate:new Date,dueDate:new Date,valueDate:new Date,quantity:0,form:{brokerNo:null,companyCode:null,bookingDate:new Date,bookingNo:null,tranType:"Issue",grossWeight:0,netWeight:0,purity:null,intrestRate:null,dueDate:null,valueDate:null,loanType:null,remarks:null,amountTaken:null,intrestType:"RS",items:[],createdBy:null,updatedBy:null,bookingTrans:[]},multiItems:[],search:"",attemptSubmit:!1}},filters:{toWords:function(t){return t?_t.a.toWords(t).toUpperCase():""}},created:function(){this.header.brokerNo=this.$route.params.brokerNo,this.search=this.$route.params.search},mounted:function(){this.typeOfItems=this.$store.state.master.typeOfItems,this.getsSelectedAccount()},methods:{createBooking:function(){var t=this;this.attemptSubmit=!0;var e=new FormData;this.form.createdBy=this.$store.state.user.username,this.form.updatedBy=this.$store.state.user.username,e.append("form",JSON.stringify(this.form)),this.$bvModal.msgBoxConfirm("Please confirm that you want to Create New Booking.",{title:"Confirmation",size:"sm",buttonSize:"sm",okVariant:"primary",cancelVariant:"danger",okTitle:"Proceed...",cancelTitle:"Cancel",footerClass:"p-2",hideHeaderClose:!1,centered:!0}).then((function(o){if(o){var a=t.$loading.show({loader:"dots",color:"green"});t.$http.post("/middleware/api/secured/create-booking",e).then((function(){a.hide(),t.$bvModal.msgBoxOk("Booking Account",{title:"Confirmation",size:"sm",buttonSize:"sm",okVariant:"info",headerClass:"p-2 border-bottom-0",footerClass:"p-2 border-top-0",centered:!0}).then((function(e){e&&t.$router.push({name:"BookingsView",params:{brokerNo:t.form.brokerNo,search:t.search}})})).catch((function(t){alert(t)}))})).catch((function(t){alert(t)})).finally((function(){}))}})).catch((function(t){alert(t)}))},validateEmpty:function(t){return""===t||t<=0},getsSelectedAccount:function(){var t=this,e=this.$loading.show({loader:"bars",color:"green"});this.$http.get("/middleware/api/secured/get-broker/"+this.header.brokerNo+"/"+this.$store.state.selectedCompany.value).then((function(o){e.hide(),null!=o.data&&""!=o.data?(t.header=o.data,t.form.companyCode=t.header.companyCode,t.form.brokerNo=t.header.brokerNo):t.$bvModal.msgBoxOk("Please select proper user",{title:"Wrong Information Provided",size:"sm",buttonSize:"sm",okVariant:"danger",headerClass:"p-2 border-bottom-0",footerClass:"p-2 border-top-0",centered:!0}).then((function(e){e&&t.$router.push("/bookings")})).catch((function(t){alert(t)}))})).catch((function(t){alert(t)})).finally((function(){}))},reload:function(){window.location.reload(!0)},converter:function(){return _t.a},changeTransType:function(){this.form.loanType="",this.loanOptions=this.typeOfLoans[this.selectedTrans].options,this.form.tranType=this.typeOfLoans[this.selectedTrans].label,this.form.items=[],this.multiItems=[]},changeLoanType:function(){this.form.items=[],this.multiItems=[]},selectedItem:function(t){this.form.items.push({itemNo:this.form.items.length+1,itemCode:t,grossWeight:parseFloat(0),netWeight:parseFloat(0),uom:"Grams",quantity:parseInt(0),remarks:null})},removedItem:function(t){this.form.items=this.form.items.filter((function(e){return e.itemCode!==t}))},addTotal:function(){var t=this;this.form.grossWeight=parseFloat(0),this.form.netWeight=parseFloat(0),this.quantity=parseInt(0),this.form.items.forEach((function(e){t.form.grossWeight+=parseFloat(e.grossWeight),t.form.netWeight+=parseFloat(e.netWeight),t.quantity+=parseInt(e.quantity)}))}},computed:{bookingDateVal:function(){return null===this.form.bookingDate||""===this.form.bookingDate},tranTypeVal:function(){return!(null!==this.form.tranType&&""!==this.form.tranType&&this.form.tranType.length>=1)},loanTypeVal:function(){return null!==this.form.tranType&&""!==this.form.tranType&&"Off Exp"!==this.form.tranType&&"Res-Exp"!==this.form.tranType&&!(null!==this.form.loanType&&void 0!==this.form.loanType&&""!==this.form.loanType&&this.form.loanType.length>=1)},amountTakenVal:function(){return!(null!==this.form.amountTaken&&""!==this.form.amountTaken&&this.form.amountTaken>=1)},intrestRateVal:function(){return!(null!==this.form.intrestRate&&""!==this.form.intrestRate&&this.form.intrestRate>0)},bookingNoVal:function(){return!(null!==this.form.bookingNo&&""!==this.form.bookingNo&&this.form.bookingNo.length>=5)}},watch:{bookingDate:function(){this.form.bookingDate=W()(this.bookingDate,"DD/MM/YYYY")},dueDate:function(){this.form.dueDate=W()(this.dueDate,"DD/MM/YYYY")},valueDate:function(){this.form.valueDate=W()(this.valueDate,"DD/MM/YYYY")}}},wt=Ct,xt=(o("60bc"),Object(l["a"])(wt,ht,gt,!1,null,null,null)),St=xt.exports,Dt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("b-card",{style:{"background-color":t.form.defaulter?"red":"azure"}},[o("b-row",[o("b-col",[o("span",{staticClass:"my-card-heading"},[t._v("View/Modify BOOKING")])])],1),o("b-row",[o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"1"}},[o("b-form-group",{attrs:{id:"brokerNoLbl",label:"A/C Code","label-for":"brokerNo"}},[o("b-form-input",{attrs:{id:"brokerNo",required:"",disabled:""},model:{value:t.form.brokerNo,callback:function(e){t.$set(t.form,"brokerNo",e)},expression:"form.brokerNo"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"3"}},[o("b-form-group",{attrs:{id:"brokerNameLbl",label:"Name","invalid-feedback":"Name is Required","label-for":"brokerName"}},[o("b-form-input",{attrs:{id:"brokerName",required:"",disabled:""},model:{value:t.form.brokerName,callback:function(e){t.$set(t.form,"brokerName",e)},expression:"form.brokerName"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"1"}},[o("b-form-group",{attrs:{id:"ageLbl",label:"Age","label-for":"age"}},[o("b-form-input",{attrs:{id:"age",disabled:"",placeholder:""},model:{value:t.form.age,callback:function(e){t.$set(t.form,"age",e)},expression:"form.age"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:""}},[o("b-form-group",{attrs:{id:"addr1Lbl",label:"Mother/Father","label-for":"addr1"}},[o("b-form-input",{attrs:{id:"addr1",disabled:""},model:{value:t.form.addr1,callback:function(e){t.$set(t.form,"addr1",e)},expression:"form.addr1"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:""}},[o("b-form-group",{attrs:{id:"occupationLbl",label:"Occupation","label-for":"occupation"}},[o("b-form-input",{attrs:{id:"occupation",disabled:"",placeholder:""},model:{value:t.form.occupation,callback:function(e){t.$set(t.form,"occupation",e)},expression:"form.occupation"}})],1)],1),o("b-col",{attrs:{md:"2"}},[o("b-form-group",{attrs:{id:"mobileNoLbl",label:"Mobile No","label-for":"mobileNo"}},[o("b-form-input",{attrs:{id:"mobileNo",disabled:""},model:{value:t.form.mobileNo,callback:function(e){t.$set(t.form,"mobileNo",e)},expression:"form.mobileNo"}})],1)],1)],1),o("b-row",[o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"contactPerson1Lbl",label:"Intro By I","label-for":"contactPerson1"}},[o("b-form-input",{attrs:{id:"contactPerson1",disabled:"",placeholder:""},model:{value:t.form.contactPerson1,callback:function(e){t.$set(t.form,"contactPerson1",e)},expression:"form.contactPerson1"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"contactPerson2Lbl",label:"Intro By II","label-for":"contactPerson2"}},[o("b-form-input",{attrs:{id:"contactPerson2",disabled:"",placeholder:""},model:{value:t.form.contactPerson2,callback:function(e){t.$set(t.form,"contactPerson2",e)},expression:"form.contactPerson2"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"addr2Lbl",label:"Door No","label-for":"addr2"}},[o("b-form-input",{attrs:{id:"addr2",disabled:""},model:{value:t.form.addr2,callback:function(e){t.$set(t.form,"addr2",e)},expression:"form.addr2"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"addr3Lbl",label:"Street","label-for":"addr3"}},[o("b-form-input",{attrs:{id:"addr3",disabled:""},model:{value:t.form.addr3,callback:function(e){t.$set(t.form,"addr3",e)},expression:"form.addr3"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"areaLbl",label:"Area","label-for":"area"}},[o("b-form-input",{attrs:{id:"area",disabled:""},model:{value:t.form.area,callback:function(e){t.$set(t.form,"area",e)},expression:"form.area"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"townLbl",label:"Town","label-for":"town"}},[o("b-form-input",{attrs:{id:"town",disabled:""},model:{value:t.form.town,callback:function(e){t.$set(t.form,"town",e)},expression:"form.town"}})],1)],1)],1)],1),o("b-card",{staticStyle:{"background-color":"azure"}},[o("b-form",{ref:"form",on:{submit:function(t){t.stopPropagation(),t.preventDefault()}}},[o("b-row",[o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"2"}},[o("b-form-group",{attrs:{id:"bookingDateLbl",label:"Booking Date","label-for":"bookingDate"}},[o("date-picker",{class:{"is-invalid":t.attemptSubmit&&t.bookingDateVal},attrs:{config:t.bookingOptions,placeholder:"DD/MM/YYYY",disabled:t.displayFlg},model:{value:t.bookingDate,callback:function(e){t.bookingDate=e},expression:"bookingDate"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"2"}},[o("b-form-group",{attrs:{id:"bookingNoLbl",label:"Booking No","label-for":"bookingNo"}},[o("b-form-input",{class:{"is-invalid":t.attemptSubmit&&t.bookingNoVal},attrs:{id:"bookingNo",required:"",disabled:t.displayFlg},model:{value:t.form.bookings.bookingNo,callback:function(e){t.$set(t.form.bookings,"bookingNo",e)},expression:"form.bookings.bookingNo"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"2"}},[o("b-form-group",{attrs:{id:"tranTypeLbl",label:"Tranaction Type","label-for":"tranType"}},[o("b-form-select",{class:{"is-invalid":t.attemptSubmit&&t.tranTypeVal},attrs:{id:"tranType",disabled:t.displayFlg},on:{change:t.changeTransType},model:{value:t.selectedTrans,callback:function(e){t.selectedTrans=e},expression:"selectedTrans"}},t._l(t.typeOfLoans,(function(e,a){return o("option",{key:a,domProps:{value:a}},[t._v(t._s(e.label))])})),0)],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"2"}},[o("b-form-group",{attrs:{id:"loanTypeLbl",label:"Loan Type","label-for":"loanType"}},[o("b-form-select",{class:{"is-invalid":t.attemptSubmit&&t.loanTypeVal},attrs:{id:"loanType",disabled:t.loanOptions.length<=0||t.displayFlg},on:{change:t.changeLoanType},model:{value:t.form.bookings.loanType,callback:function(e){t.$set(t.form.bookings,"loanType",e)},expression:"form.bookings.loanType"}},t._l(t.loanOptions,(function(e,a){return o("option",{key:a,domProps:{value:e}},[t._v(t._s(e))])})),0)],1),o("div",{staticClass:"invalid-feedback"},[t._v("This Field Required")])],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"4"}},[o("b-form-group",{staticStyle:{color:"red"},attrs:{id:"remarksLbl",label:"Remarks","label-for":"remarks"}},[o("b-form-input",{attrs:{id:"remarks",disabled:t.displayFlg},model:{value:t.form.bookings.remarks,callback:function(e){t.$set(t.form.bookings,"remarks",e)},expression:"form.bookings.remarks"}})],1)],1)],1),null!=t.form.bookings.tranType&&"Issue"==t.form.bookings.tranType&&null!=t.form.bookings.loanType&&"DOCUMENT"!=t.form.bookings.loanType&&"INSECURE"!=t.form.bookings.loanType?o("b-row",[o("b-col",{attrs:{md:"3"}},[o("b-form-group",{attrs:{id:"multiLbl",label:"Add/Delete Items","label-for":"multi"}},[o("multiselect",{attrs:{options:t.typeOfItems,multiple:!0,disabled:t.displayFlg,taggable:!0},on:{select:t.selectedItem,remove:t.removedItem},model:{value:t.multiItems,callback:function(e){t.multiItems=e},expression:"multiItems"}})],1)],1),o("b-col",{attrs:{md:"9"}},[o("b-table-simple",{attrs:{hover:"",small:"","caption-top":"",responsive:""}},[o("b-thead",{attrs:{"head-variant":"secondary"}},[o("b-tr",[o("b-th",{staticStyle:{"background-color":"#d6d8db"},attrs:{colspan:"1"}},[t._v("SNo")]),o("b-th",{staticStyle:{"background-color":"#d6d8db"},attrs:{colspan:"4"}},[t._v("Item")]),o("b-th",{staticStyle:{"background-color":"#d6d8db"},attrs:{colspan:"1"}},[t._v("Quantity")]),o("b-th",{staticStyle:{"background-color":"#d6d8db"},attrs:{colspan:"1"}},[t._v("Gross Weight")]),o("b-th",{staticStyle:{"background-color":"#d6d8db"},attrs:{colspan:"1"}},[t._v("Net Weight")]),o("b-th",{staticStyle:{"background-color":"#d6d8db"},attrs:{colspan:"2"}},[t._v("UMO")]),o("b-th",{staticStyle:{"background-color":"#d6d8db"},attrs:{colspan:"2"}},[t._v("Remarks")])],1)],1),o("b-tbody",t._l(t.form.bookings.items,(function(e,a){return o("b-tr",{key:a},[o("b-td",{attrs:{colspan:"1"}},[t._v(t._s(a+1))]),o("b-td",{attrs:{colspan:"4"}},[o("b-form-input",{attrs:{required:"",disabled:""},model:{value:e.itemCode,callback:function(o){t.$set(e,"itemCode",o)},expression:"item.itemCode"}})],1),o("b-td",{attrs:{colspan:"1"}},[o("b-form-input",{class:{"is-invalid":t.attemptSubmit&&t.validateEmpty(e.quantity)},attrs:{type:"number",disabled:t.displayFlg,required:""},on:{blur:t.addTotal},model:{value:e.quantity,callback:function(o){t.$set(e,"quantity",o)},expression:"item.quantity"}})],1),o("b-td",{attrs:{colspan:"1"}},[o("b-form-input",{class:{"is-invalid":t.attemptSubmit&&t.validateEmpty(e.grossWeight)},attrs:{type:"number",disabled:t.displayFlg,required:""},on:{blur:t.addTotal},model:{value:e.grossWeight,callback:function(o){t.$set(e,"grossWeight",o)},expression:"item.grossWeight"}})],1),o("b-td",{attrs:{colspan:"1"}},[o("b-form-input",{class:{"is-invalid":t.attemptSubmit&&t.validateEmpty(e.netWeight)},attrs:{disabled:t.displayFlg,type:"number",required:""},on:{blur:t.addTotal},model:{value:e.netWeight,callback:function(o){t.$set(e,"netWeight",o)},expression:"item.netWeight"}})],1),o("b-td",{attrs:{colspan:"2"}},[o("b-form-select",{attrs:{disabled:t.displayFlg,options:t.umoOptions},model:{value:e.uom,callback:function(o){t.$set(e,"uom",o)},expression:"item.uom"}})],1),o("b-td",{attrs:{colspan:"2"}},[o("b-form-input",{attrs:{disabled:t.displayFlg},model:{value:e.remarks,callback:function(o){t.$set(e,"remarks",o)},expression:"item.remarks"}})],1)],1)})),1),t.form.bookings.items.length>0?o("b-tfoot",[o("b-tr",{staticClass:"text-center",attrs:{variant:"secondary"}},[o("b-td",{attrs:{colspan:"1"}},[t._v(" Total:- ")]),o("b-td",{attrs:{colspan:"4"}}),o("b-td",{staticClass:"text-left",attrs:{colspan:"1"}},[t._v(t._s(t.quantity))]),o("b-td",{staticClass:"text-left",attrs:{colspan:"1"}},[t._v(t._s(t.form.bookings.grossWeight))]),o("b-td",{staticClass:"text-left",attrs:{colspan:"1"}},[t._v(t._s(t.form.bookings.netWeight))]),o("b-td",{attrs:{colspan:"2"}}),o("b-td",{attrs:{colspan:"2"}})],1)],1):t._e()],1)],1)],1):t._e(),o("b-row",[o("b-col",{attrs:{md:""}},[o("b-form-group",{staticStyle:{color:"red"},attrs:{id:"amountTakenLbl",label:"Issue Amount","label-for":"amountTaken"}},[o("b-form-input",{class:{"is-invalid":t.attemptSubmit&&t.amountTakenVal},staticStyle:{color:"red"},attrs:{id:"amountTaken",type:"number",disabled:t.displayFlg,placeholder:""},model:{value:t.form.bookings.amountTaken,callback:function(e){t.$set(t.form.bookings,"amountTaken",e)},expression:"form.bookings.amountTaken"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{label:"Intrest Type"}},[o("b-form-radio-group",{attrs:{id:"radio-group-1",disabled:t.displayFlg,options:t.typeOfIntrest},model:{value:t.form.bookings.intrestType,callback:function(e){t.$set(t.form.bookings,"intrestType",e)},expression:"form.bookings.intrestType"}})],1)],1),"RS"==t.form.bookings.intrestType?o("b-col",{attrs:{md:"1"}},[o("b-form-group",{attrs:{id:"intrestRateLbl",label:"Intrest: â‚¹","label-for":"intrestRate"}},[o("b-form-input",{attrs:{id:"intrestRate",type:"number",disabled:t.displayFlg,placeholder:""},model:{value:t.form.bookings.intrestRate,callback:function(e){t.$set(t.form.bookings,"intrestRate",e)},expression:"form.bookings.intrestRate"}})],1)],1):o("b-col",{attrs:{md:"1"}},[o("b-form-group",{attrs:{id:"intrestRateLbl",label:"Intrest: %","label-for":"intrestRate"}},[o("b-form-input",{attrs:{id:"intrestRate",type:"number",disabled:t.displayFlg,placeholder:""},model:{value:t.form.bookings.intrestRate,callback:function(e){t.$set(t.form.bookings,"intrestRate",e)},expression:"form.bookings.intrestRate"}})],1)],1),o("b-col",{attrs:{md:"1"}},[o("b-form-group",{attrs:{id:"purityLbl",label:"Purity %","label-for":"purity"}},[o("b-form-input",{attrs:{id:"purity",disabled:t.displayFlg,type:"number"},model:{value:t.form.bookings.purity,callback:function(e){t.$set(t.form.bookings,"purity",e)},expression:"form.bookings.purity"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:""}},[o("label",{attrs:{for:"dob"}},[t._v("Due Date")]),o("b-input-group",[o("date-picker",{attrs:{disabled:t.form.bookings.closed||t.form.bookings.auctioned,config:t.options,placeholder:"DD/MM/YYYY"},model:{value:t.dueDate,callback:function(e){t.dueDate=e},expression:"dueDate"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:""}},[o("label",{attrs:{for:"dob"}},[t._v("Expiery Date")]),o("b-input-group",[o("date-picker",{attrs:{disabled:t.form.bookings.closed||t.form.bookings.auctioned,config:t.options,placeholder:"DD/MM/YYYY"},model:{value:t.valueDate,callback:function(e){t.valueDate=e},expression:"valueDate"}})],1)],1)],1),o("b-row",[o("b-col",{attrs:{md:""}},[o("span",{staticStyle:{float:"left"}},[t._v(" Amount In Words: "),t.form.bookings.amountTaken>0?o("span",{staticStyle:{color:"red",font:"bold"}},[t._v(t._s(t._f("toWords")(t.form.bookings.amountTaken))+" RUPIES ONLY")]):t._e()])])],1),t.form.bookings.bookingTrans.length>0?o("b-row",[o("b-table-simple",{attrs:{hover:"",small:"","caption-top":"",responsive:""}},[o("b-thead",{attrs:{"head-variant":"dark"}},[o("b-tr",[o("b-th",[t._v("Principle Amount")]),o("b-th",[t._v("Transaction Date")]),o("b-th",[t._v("Paid Principle")]),o("b-th",[t._v("Paid Interest")]),o("b-th",[t._v("Pending Interest")])],1)],1),o("b-tbody",t._l(t.form.bookings.bookingTrans,(function(e,a){return o("b-tr",{key:a,attrs:{variant:"secondary"}},[0==a?o("b-th",{attrs:{rowspan:t.form.bookings.bookingTrans.length}}):t._e(),o("b-td",[t._v(t._s(t.converteMongoToDate(e.rcvDate)))]),o("b-td",[t._v(t._s(t.formatter.format(e.principle)))]),o("b-td",[t._v(t._s(t.formatter.format(e.intrest)))]),o("b-td",{style:{color:"#fff","background-color":Math.sign(e.pending)>=-0?"#28a745":"#DC3547"}},[t._v(t._s(t.formatter.format(e.pending)))])],1)})),1),o("b-tfoot",[o("b-tr",{attrs:{variant:"success"}},[o("b-td",{staticStyle:{color:"red",font:"bold"}},[t._v(" "+t._s(t.formatter.format(t.form.bookings.amountTaken))+" ")]),o("b-td"),o("b-td",{staticStyle:{color:"red",font:"bold"}},[t._v(t._s(t.formatter.format(t.paidPrinciple)))]),o("b-td",{staticStyle:{color:"red",font:"bold"}},[t._v(t._s(t.formatter.format(t.paidIntrest)))]),o("b-td")],1)],1)],1)],1):t._e(),o("b-row",{staticStyle:{position:"sticky",bottom:"0","padding-top":"10px"},attrs:{"bg-variant":"light"}},[o("b-col",{staticStyle:{"text-align":"center !important"},attrs:{md:""}},[o("b-button",{attrs:{variant:"primary text-center",value:"Create"},on:{click:function(e){return t.$router.push({name:"CreateBooking",params:{brokerNo:t.form.brokerNo,search:t.form.brokerNo}})}}},[t._v("Create Booking")]),t._v(" "),o("b-button",{attrs:{variant:"secondary text-center",value:"back"},on:{click:function(e){return t.$router.push({name:"BookingsView",params:{brokerNo:t.form.brokerNo,search:t.form.brokerNo}})}}},[t._v("Back To Booking")])],1)],1)],1)],1)],1)},Nt=[],It={components:{Multiselect:vt.a},data:function(){return{formatter:{},displayFlg:!1,req:{brokerNo:null,companyCode:null,bookingNo:null},umoOptions:["Grams","Kgs"],selectedTrans:0,typeOfIntrest:[{text:"Rs",value:"RS"},{text:"%",value:"Percent"}],bookingOptions:{format:"DD/MM/YYYY",useCurrent:!0},options:{format:"DD/MM/YYYY",useCurrent:!1},typeOfLoans:[{label:"Issue",options:["DOCUMENT","GOLD","INSECURE","SILVER"]},{label:"Capital",options:["BANK","DEPOSIT","OWN"]},{label:"Off Exp",options:[]},{label:"Res-Exp",options:[]}],loanOptions:["GOLD","SILVER","INSECURE","DOCUMENT"],typeOfItems:[],amountWords:"",bookingDate:new Date,dueDate:new Date,valueDate:new Date,quantity:0,paidPrinciple:0,paidIntrest:0,form:{brokerNo:null,brokerName:null,otherPhones1:null,otherPhones2:null,mobileNo:null,occupation:null,age:null,addr1:null,addr2:null,addr3:null,area:null,town:null,bookings:{bookingDate:new Date,bookingNo:null,tranType:"Issue",grossWeight:0,netWeight:0,purity:null,intrestRate:null,dueDate:null,valueDate:null,loanType:null,remarks:null,amountTaken:null,intrestType:"RS",items:[],createdBy:null,updatedBy:null,bookingTrans:[]}},multiItems:[],search:"",attemptSubmit:!1}},filters:{toWords:function(t){return t?_t.a.toWords(t).toUpperCase():""}},created:function(){this.req=this.$route.params.req},mounted:function(){this.formatter=new Intl.NumberFormat("en-US",{style:"currency",currency:"INR"}),this.typeOfItems=this.$store.state.master.typeOfItems,this.getsSelectedAccount()},methods:{converteMongoToDate:function(t){if(null!=t&&t&&""!=t){var e=W()(t);return e.format("DD/MM/YYYY")}return null},createBooking:function(){var t=this;this.attemptSubmit=!0;var e=new FormData;this.form.updatedBy=this.$store.state.user.username,e.append("form",JSON.stringify(this.form)),this.$bvModal.msgBoxConfirm("Please confirm that you want to Create New Booking.",{title:"Confirmation",size:"sm",buttonSize:"sm",okVariant:"primary",cancelVariant:"danger",okTitle:"Proceed...",cancelTitle:"Cancel",footerClass:"p-2",hideHeaderClose:!1,centered:!0}).then((function(o){if(o){var a=t.$loading.show({loader:"dots",color:"green"});t.$http.post("/middleware/api/secured/create-booking",e).then((function(){a.hide(),t.$bvModal.msgBoxOk("Booking Account",{title:"Confirmation",size:"sm",buttonSize:"sm",okVariant:"info",headerClass:"p-2 border-bottom-0",footerClass:"p-2 border-top-0",centered:!0}).then((function(e){e&&t.$router.push({name:"BookingsView",params:{brokerNo:t.form.brokerNo,search:t.search}})})).catch((function(t){alert(t)}))})).catch((function(t){alert(t)})).finally((function(){}))}})).catch((function(t){alert(t)}))},validateEmpty:function(t){return""===t||t<=0},getsSelectedAccount:function(){var t=this,e=new FormData;e.append("form",JSON.stringify(this.req));var o=this.$loading.show({loader:"bars",color:"green"});this.$http.post("/middleware/api/secured/get-broker-booking-details",e).then((function(e){o.hide(),null!=e.data&&""!=e.data?(t.bookingDate=W()(e.data.bookings.bookingDate).format("DD/MM/YYYY"),t.dueDate=W()(e.data.bookings.dueDate).format("DD/MM/YYYY"),t.valueDate=W()(e.data.bookings.valueDate).format("DD/MM/YYYY"),e.data.bookings.items.length>0&&e.data.bookings.items.forEach((function(e){t.multiItems.push(e.itemCode),t.quantity+=e.quantity})),e.data.bookings.bookingTrans.length>0&&(t.displayFlg=!0,e.data.bookings.bookingTrans.sort((function(t,e){return W()(t.rcvDate)-W()(e.rcvDate)})),e.data.bookings.bookingTrans.forEach((function(o,a){var r;t.paidPrinciple+=parseFloat(o.principle),t.paidIntrest+=parseFloat(o.intrest);var n,s=parseFloat(e.data.bookings.amountTaken),i=parseFloat(e.data.bookings.intrestRate),l=parseFloat(s*(12*i/100)),c=parseFloat(l/360);if(0==a)r=W()(o.rcvDate).diff(W()(e.data.bookings.bookingDate),"days"),n=parseFloat(r*c),o.pending=parseFloat(parseFloat(o.intrest)-n);else{for(var d=parseFloat(0),u=a-1;u>=0;u--)d+=parseFloat(e.data.bookings.bookingTrans[u].principle);s=parseFloat(e.data.bookings.amountTaken)-parseFloat(d),r=W()(o.rcvDate).diff(W()(e.data.bookings.bookingTrans[a-1].rcvDate),"days"),l=parseFloat(s*(12*i/100)),c=parseFloat(l/360),n=parseFloat(r*c)-parseFloat(e.data.bookings.bookingTrans[a-1].pending),o.pending=parseFloat(parseFloat(o.intrest)-n)}}))),t.form=e.data,t.form.bookings.bookingDate=W()(t.bookingDate,"DD/MM/YYYY"),t.form.bookings.dueDate=W()(t.dueDate,"DD/MM/YYYY"),t.form.bookings.valueDate=W()(t.valueDate,"DD/MM/YYYY")):t.$bvModal.msgBoxOk("Please select proper user",{title:"Wrong Information Provided",size:"sm",buttonSize:"sm",okVariant:"danger",headerClass:"p-2 border-bottom-0",footerClass:"p-2 border-top-0",centered:!0}).then((function(e){e&&t.$router.push("/bookings")})).catch((function(t){alert(t)}))})).catch((function(t){alert(t)})).finally((function(){}))},reload:function(){window.location.reload(!0)},converter:function(){return _t.a},changeTransType:function(){this.form.bookings.loanType="",this.loanOptions=this.typeOfLoans[this.selectedTrans].options,this.form.bookings.tranType=this.typeOfLoans[this.selectedTrans].label,this.form.bookings.items=[],this.multiItems=[]},changeLoanType:function(){this.form.bookings.items=[],this.multiItems=[]},selectedItem:function(t){this.form.bookings.items.push({itemNo:this.form.bookings.items.length+1,itemCode:t,grossWeight:parseFloat(0),netWeight:parseFloat(0),uom:"Grams",quantity:parseInt(0),remarks:null})},removedItem:function(t){this.form.bookings.items=this.form.bookings.items.filter((function(e){return e.itemCode!==t}))},addTotal:function(){var t=this;this.form.bookings.grossWeight=parseFloat(0),this.form.bookings.netWeight=parseFloat(0),this.quantity=parseInt(0),this.form.bookings.items.forEach((function(e){t.form.bookings.grossWeight+=parseFloat(e.grossWeight),t.form.bookings.netWeight+=parseFloat(e.netWeight),t.quantity+=parseInt(e.quantity)}))}},computed:{bookingDateVal:function(){return null===this.form.bookings.bookingDate||""===this.form.bookings.bookingDate},tranTypeVal:function(){return!(null!==this.form.bookings.tranType&&""!==this.form.bookings.tranType&&this.form.bookings.tranType.length>=1)},loanTypeVal:function(){return null!==this.form.bookings.tranType&&""!==this.form.bookings.tranType&&"Off Exp"!==this.form.bookings.tranType&&"Res-Exp"!==this.form.bookings.tranType&&!(null!==this.form.bookings.loanType&&void 0!==this.form.bookings.loanType&&""!==this.form.bookings.loanType&&this.form.bookings.loanType.length>=1)},amountTakenVal:function(){return!(null!==this.form.bookings.amountTaken&&""!==this.form.bookings.amountTaken&&this.form.bookings.amountTaken>=1)},intrestRateVal:function(){return!(null!==this.form.bookings.intrestRate&&""!==this.form.bookings.intrestRate&&this.form.bookings.intrestRate>0)},bookingNoVal:function(){return!(null!==this.form.bookings.bookingNo&&""!==this.form.bookings.bookingNo&&this.form.bookings.bookingNo.length>=5)}},watch:{bookingDate:function(){this.form.bookings.bookingDate=W()(this.bookingDate,"DD/MM/YYYY")},dueDate:function(){this.form.bookings.dueDate=W()(this.dueDate,"DD/MM/YYYY")},valueDate:function(){this.form.bookings.valueDate=W()(this.valueDate,"DD/MM/YYYY")}}},Pt=It,$t=Object(l["a"])(Pt,Dt,Nt,!1,null,null,null),Tt=$t.exports,Mt=o("2f62"),Ot=o("bc3a"),Rt=o.n(Ot),jt=o("0e44");a["default"].use(Mt["a"]);var Lt=new Mt["a"].Store({state:{status:"",token:localStorage.getItem("token")||"",user:{},master:{},selectedCompany:""},plugins:[Object(jt["a"])()],mutations:{auth_request:function(t){t.status="loading"},auth_success:function(t,e){t.status="success",t.token=e},auth_error:function(t){t.status="error"},logout:function(t){t.status="",t.token="",t.user={},t.master={},t.selectedCompany=""},masterData:function(t,e){t.master=e},updateMaster:function(t,e){t.master=e},userData:function(t,e){t.user=e},userComp:function(t,e){t.selectedCompany=e}},actions:{login:function(t,e){var o=t.commit;return new Promise((function(t,a){o("auth_request"),Rt.a.post("/desktop/oauth/token",e).then((function(e){var a=e.data.access_token;a="Bearer "+a,localStorage.setItem("token",a),Rt.a.defaults.headers.common["Authorization"]=a,o("auth_success",a),t(e)})).catch((function(t){o("auth_error"),localStorage.removeItem("token"),a(t)}))}))},register:function(t,e){var o=t.commit;return new Promise((function(t,a){o("auth_request"),Rt()({url:"http://localhost:8182/security/register",data:e,method:"POST"}).then((function(e){var a=e.data.token,r=e.data.user;localStorage.setItem("token",a),Rt.a.defaults.headers.common["Authorization"]=a,o("auth_success",a,r),t(e)})).catch((function(t){o("auth_error",t),localStorage.removeItem("token"),a(t)}))}))},logout:function(t){var e=t.commit;return new Promise((function(t){e("logout"),localStorage.removeItem("token"),delete Rt.a.defaults.headers.common["Authorization"],t()}))},userData:function(t){var e=t.commit;return new Promise((function(t,o){Rt.a.get("/security/users/user-details").then((function(o){e("userData",o.data),t()})).catch((function(t){e("auth_error",t),localStorage.removeItem("token"),o(t)}))}))},userComp:function(t,e){var o=t.commit;o("userComp",e)},master:function(t){var e=t.commit;return new Promise((function(t,o){Rt.a.get("/middleware/api/secured/get-masterdata").then((function(o){e("masterData",o.data),t(o.data.company)})).catch((function(t){e("auth_error",t),localStorage.removeItem("token"),o(t)}))}))},updateMaster:function(t,e){var o=t.commit;return new Promise((function(t,a){Rt.a.post("/middleware/api/secured/update-masterdata",e).then((function(e){o("updateMaster",e.data),t()})).catch((function(t){o("auth_error",t),localStorage.removeItem("token"),a(t)}))}))}},getters:{isLoggedIn:function(t){return!!t.token},authStatus:function(t){return t.status},compStatus:function(t){return!!t.selectedCompany},isAdmin:function(t){return!(!t.user.roles.some((function(t){return"ROLE_SUPER"===t}))&&!t.user.roles.some((function(t){return"ROLE_ADMIN"===t})))}}});a["default"].use(m["a"]);var At=[{path:"/",name:"Home",component:x,meta:{requiresAuth:!0}},{path:"/account",name:"Account",component:F,meta:{requiresAuth:!0}},{path:"/createAccount",name:"CreateAccount",component:J,meta:{requiresAuth:!0}},{path:"/updateAccount/",name:"UpdateAccount",component:ot,props:!0,meta:{requiresAuth:!0}},{path:"/options",name:"Options Master",component:L,meta:{requiresAuth:!0}},{path:"/bookings",name:"Bookings",component:lt,meta:{requiresAuth:!0}},{path:"/bookings-view",name:"BookingsView",component:pt,meta:{requiresAuth:!0}},{path:"/create-booking",name:"CreateBooking",component:St,meta:{requiresAuth:!0}},{path:"/view-modify-booking",name:"ViewModifyBooking",component:Tt,meta:{requiresAuth:!0}},{path:"/login",name:"Login",component:$},{path:"/about",name:"About",meta:{requiresAuth:!0},component:function(){return o.e("about").then(o.bind(null,"f820"))}}],Bt=new m["a"]({mode:"history",base:"/desktop/",routes:At});Bt.beforeEach((function(t,e,o){if(t.matched.some((function(t){return t.meta.requiresAuth}))){if(Lt.getters.isLoggedIn)return void o();o("/login")}else o()}));var Yt=Bt,Et=o("5f5b"),zt=o("b1e0"),Ft=(o("f9e3"),o("2dd8"),o("9062")),qt=o.n(Ft),Vt=(o("e40d"),o("133f")),Ut=o.n(Vt),Wt=o("1157"),Gt=o.n(Wt),Ht=(o("ca56"),o("ecee")),Kt=o("c074"),Jt=o("ad3d");o("15f5"),o("7051");Ht["c"].add(Kt["a"]),Gt.a.extend(!0,Gt.a.fn.datetimepicker.defaults,{icons:{time:"far fa-clock",date:"far fa-calendar",up:"fas fa-arrow-up",down:"fas fa-arrow-down",previous:"fas fa-chevron-left",next:"fas fa-chevron-right",today:"fas fa-calendar-check",clear:"far fa-trash-alt",close:"far fa-times-circle"}}),a["default"].component("font-awesome-icon",Jt["a"]),a["default"].use(Ut.a),a["default"].use(qt.a),a["default"].prototype.$http=Rt.a,a["default"].use(Et["a"]),a["default"].use(zt["a"]),a["default"].use(o("2ead"));var Qt=localStorage.getItem("token");Qt&&(a["default"].prototype.$http.defaults.headers.common["Authorization"]=Qt),a["default"].config.productionTip=!1,new a["default"]({router:Yt,store:Lt,Loading:qt.a,render:function(t){return t(d)}}).$mount("#app")},"5d06":function(t,e,o){"use strict";var a=o("5272"),r=o.n(a);r.a},"85ec":function(t,e,o){},9373:function(t,e,o){"use strict";var a=o("9e29"),r=o.n(a);r.a},"9e29":function(t,e,o){},c940:function(t,e,o){}});
//# sourceMappingURL=app.e76275b6.js.map