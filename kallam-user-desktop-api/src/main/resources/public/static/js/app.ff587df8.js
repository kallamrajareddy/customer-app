(function(t){function e(e){for(var a,s,i=e[0],l=e[1],c=e[2],d=0,m=[];d<i.length;d++)s=i[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&m.push(r[s][0]),r[s]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);u&&u(e);while(m.length)m.shift()();return n.push.apply(n,c||[]),o()}function o(){for(var t,e=0;e<n.length;e++){for(var o=n[e],a=!0,s=1;s<o.length;s++){var l=o[s];0!==r[l]&&(a=!1)}a&&(n.splice(e--,1),t=i(i.s=o[0]))}return t}var a={},r={app:0},n=[];function s(t){return i.p+"static/js/"+({about:"about"}[t]||t)+"."+{about:"7a08c39c"}[t]+".js"}function i(e){if(a[e])return a[e].exports;var o=a[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.e=function(t){var e=[],o=r[t];if(0!==o)if(o)e.push(o[2]);else{var a=new Promise((function(e,a){o=r[t]=[e,a]}));e.push(o[2]=a);var n,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=s(t);var c=new Error;n=function(e){l.onerror=l.onload=null,clearTimeout(d);var o=r[t];if(0!==o){if(o){var a=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+a+": "+n+")",c.name="ChunkLoadError",c.type=a,c.request=n,o[1](c)}r[t]=void 0}};var d=setTimeout((function(){n({type:"timeout",target:l})}),12e4);l.onerror=l.onload=n,document.head.appendChild(l)}return Promise.all(e)},i.m=t,i.c=a,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(o,a,function(e){return t[e]}.bind(null,a));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/desktop/",i.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var u=c;n.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"034f":function(t,e,o){"use strict";var a=o("85ec"),r=o.n(a);r.a},"0564":function(t,e,o){"use strict";var a=o("f82a"),r=o.n(a);r.a},"18df":function(t,e,o){},2346:function(t,e,o){"use strict";var a=o("34d9"),r=o.n(a);r.a},"34d9":function(t,e,o){},4678:function(t,e,o){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(t){var e=n(t);return o(e)}function n(t){if(!o.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}r.keys=function(){return Object.keys(a)},r.resolve=n,t.exports=r,r.id="4678"},5272:function(t,e,o){},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d");var a=o("2b0e"),r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[t.isLoggedIn&&t.compStatus?o("b-navbar",{staticStyle:{"margin-bottom":"5px"},attrs:{toggleable:"lg",type:"dark",variant:"primary"}},[!t.isLoggedIn&&t.compStatus?o("b-navbar-brand",{attrs:{href:"/login"}},[t._v("Login")]):t._e(),o("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),o("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[o("b-navbar-nav",[o("b-dropdown",{attrs:{variant:"primary"},scopedSlots:t._u([{key:"button-content",fn:function(){return[o("b-icon",{attrs:{icon:"pencil-square"}}),t._v("Masters ")]},proxy:!0}],null,!1,232493187)},[t.$store.getters.isAdmin?o("b-dropdown-item-button",{on:{click:function(e){return t.$router.push("/options")}}},[o("b-icon",{attrs:{icon:"card-checklist","aria-hidden":"true"}}),t._v("Options Master "),o("span",{staticClass:"sr-only"},[t._v("(Click to unlock)")])],1):t._e(),t.$store.getters.isAdmin?o("b-dropdown-divider"):t._e(),o("b-dropdown-item-button",{on:{click:function(e){return t.$router.push("/account")}}},[o("b-icon",{attrs:{icon:"person-check","aria-hidden":"true"}}),t._v("Acount Master "),o("span",{staticClass:"sr-only"},[t._v("(Click to unlock)")])],1)],1),o("b-dropdown",{attrs:{variant:"primary"},scopedSlots:t._u([{key:"button-content",fn:function(){return[o("b-icon",{attrs:{icon:"briefcase"}}),t._v("Transactions ")]},proxy:!0}],null,!1,2646084452)},[o("b-dropdown-item-button",{on:{click:function(e){return t.$router.push("/bookings")}}},[t._v("Bookings")]),o("b-dropdown-divider"),o("b-dropdown-item-button",{on:{click:function(e){return t.$router.push("/recipts")}}},[t._v("Recipts")])],1),o("b-dropdown",{attrs:{variant:"primary"},scopedSlots:t._u([{key:"button-content",fn:function(){return[o("b-icon",{attrs:{icon:"file-earmark-text"}}),t._v("Reports ")]},proxy:!0}],null,!1,2382564696)},[o("b-dropdown-item-button",{on:{click:function(e){return t.$router.push("/reports")}}},[t._v("Financial Reports")]),o("b-dropdown-divider")],1)],1),t.isLoggedIn?o("b-navbar-nav",{staticClass:"ml-auto"},[o("b-dropdown",{attrs:{variant:"primary"},scopedSlots:t._u([{key:"button-content",fn:function(){return[o("b-avatar",{attrs:{src:"/images/"+t.username+".jpg"}}),t._v(" "+t._s(t.username)+" ")]},proxy:!0}],null,!1,2217390286)},[o("b-dropdown-item-button",{on:{click:t.logout}},[o("b-icon",{attrs:{icon:"power","aria-hidden":"true"}}),t._v("Logout "),o("span",{staticClass:"sr-only"},[t._v("(Click to unlock)")])],1)],1)],1):t._e()],1)],1):t._e(),o("router-view")],1)},n=[],s=(o("b0c0"),{data:function(){return{}},methods:{forword:function(){this.$router.push("/")},logout:function(){var t=this;this.$store.dispatch("logout").then((function(){t.$router.push("/login")}))}},computed:{isLoggedIn:function(){return this.$store.getters.isLoggedIn},compStatus:function(){return this.$store.getters.compStatus},username:function(){return this.$store.state.user.name}}}),i=s,l=(o("034f"),o("2877")),c=Object(l["a"])(i,r,n,!1,null,null,null),d=c.exports,u=o("9483");Object(u["a"])("".concat("/desktop/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});o("45fc"),o("d3b7");var m=o("8c4f"),b=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"home"},[o("HelloWorld",{attrs:{msg:"Welcome to Your Vue.js App"}})],1)},f=[],p=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"hello"},[o("h1",[t._v(t._s(t.msg))])])},h=[],g={name:"HelloWorld",props:{msg:String}},v=g,k=(o("5d06"),Object(l["a"])(v,p,h,!1,null,"43f48a4c",null)),y=k.exports,_={name:"Home",components:{HelloWorld:y}},D=_,x=Object(l["a"])(D,b,f,!1,null,null,null),S=x.exports,C=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("b-card",{staticStyle:{margin:"0 auto","padding-top":"25px","margin-top":"25px"}},[o("div",[o("div",{staticClass:"col wrapper-box"},[o("p",{staticClass:"wrapper-box__title text-center"},[t._v("Sign in")]),o("div",[o("form",{staticClass:"form form-newaccount",attrs:{id:"loginForm"},on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"inputUser"}},[t._v("E-mail")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Username"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"inputPassword"}},[t._v("Password")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{id:"inputPassword",type:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),o("div",{staticClass:"custom-control custom-checkbox pull-right"},[o("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customCheck1"}}),o("label",{staticClass:"custom-control-label",attrs:{for:"customCheck1"}},[t._v("Remember password")])]),o("button",{staticClass:"btn btn-default",attrs:{type:"submit"}},[t._v("Login")]),o("hr"),o("router-link",{staticClass:"text-link d-block text-right",attrs:{to:"/register"}},[t._v("No account yet?")])],1)])])]),o("b-modal",{ref:"companyModal",attrs:{id:"modal-company",size:"lg","hide-header":"","hide-footer":""}},[o("b-card",{attrs:{title:"Company Selection"}},[o("form",{ref:"form",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit(e)}}},[o("b-row",[o("b-col",[o("b-form-group",{attrs:{label:"Company","label-for":"company",state:t.companyState,"invalid-feedback":"Company is Required"}},[o("b-form-select",{staticClass:"mb-3",attrs:{required:"",state:t.companyState,id:"company",options:t.company},on:{change:t.checkFormValidity},scopedSlots:t._u([{key:"first",fn:function(){return[o("b-form-select-option",{attrs:{value:null,disabled:""}},[t._v("-- Please select a Company --")])]},proxy:!0}]),model:{value:t.selectedComp,callback:function(e){t.selectedComp=e},expression:"selectedComp"}})],1)],1)],1),o("b-row",[o("b-col",{staticStyle:{"text-align":"center !important"}},[o("b-button",{attrs:{variant:"primary text-center",disabled:null==t.selectCompany},on:{click:t.selectCompany}},[t._v("Select")])],1)],1)],1)])],1)],1)},w=[],T=(o("7db0"),{data:function(){return{email:"",password:"",company:[],selectedComp:null,companyState:null}},methods:{checkFormValidity:function(){var t=this.$refs.form.checkValidity();return this.companyState=t,t},selectCompany:function(){var t=this;if(this.checkFormValidity()){if(null!==this.selectedComp){var e=this.company.find((function(e){return e.value===t.selectedComp}));this.$store.dispatch("userComp",e)}else this.$router.push("/logout");this.$bvModal.hide("modal-company"),this.$router.push("/bookings")}},login:function(){var t=this,e=this.email,o=this.password,a=this.$loading.show({loader:"bars",color:"green"});this.$store.dispatch("login",{username:e,password:o}).then((function(){t.$store.dispatch("master").then((function(e){t.company=e,t.$store.dispatch("userData").then((function(){if(a.hide(),t.$store.getters.isAdmin)t.$bvModal.show("modal-company");else{var e=t.company.find((function(e){return e.value===t.$store.state.user.assComp}));t.$store.dispatch("userComp",e),t.$router.push("/bookings")}})).catch((function(e){alert(e),t.email="",t.password="",a.hide()}))})).catch((function(e){alert(e),t.email="",t.password="",a.hide()}))})).catch((function(e){alert(e),t.email="",t.password="",a.hide()}))}}}),N=T,I=(o("2346"),Object(l["a"])(N,C,w,!1,null,"0c2d4288",null)),P=I.exports,M=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("b-card",[o("b-row",[o("b-col",[o("form",{ref:"form",on:{submit:function(t){t.stopPropagation(),t.preventDefault()}}},[o("b-row",[o("b-col"),o("b-col",[o("b-form-group",{attrs:{label:"Select the Master Type to Modify","label-for":"master"}},[o("b-form-select",{staticClass:"mb-3",attrs:{required:"",id:"master",options:t.masterOptions},on:{change:t.makeEmpty},scopedSlots:t._u([{key:"first",fn:function(){return[o("b-form-select-option",{attrs:{value:null,selected:"selected",disabled:""}},[t._v("-- Please select a Master Type --")])]},proxy:!0}]),model:{value:t.selectedMaster,callback:function(e){t.selectedMaster=e},expression:"selectedMaster"}})],1)],1),o("b-col")],1),o("b-row",["typeOfItems"===t.selectedMaster?o("b-col",[o("b-card",{attrs:{title:"Create or Update Items"}},[o("b-row",{staticStyle:{"margin-bottom":"5px"}},[o("b-col",[o("b-form-input",{staticStyle:{"text-transform":"uppercase"},attrs:{id:"items",required:"",placeholder:"Enter Item",inline:""},model:{value:t.item,callback:function(e){t.item=e},expression:"item"}})],1),o("b-col",{staticStyle:{"text-align":"start"}},[o("b-button",{attrs:{variant:"primary text-center",disabled:t.valExisItems},on:{click:t.addNewItems}},[t._v("Add Item")]),o("b-button",{staticStyle:{"margin-left":"3px"},attrs:{variant:"danger text-center",disabled:!t.valExisItems||""==this.item},on:{click:t.deleteItems}},[t._v("Delete Item")])],1)],1),o("b-row",t._l(t.masterData.typeOfItems,(function(e,a){return o("b-col",{key:e},[o("b-card",{staticStyle:{cursor:"pointer","background-color":"azure",width:"200px","text-align":"left"},attrs:{id:a},on:{click:function(o){return t.clickDeleteItems(e,a)}}},[o("span",{staticStyle:{"white-space":"nowrap","text-align":"left"}},[o("strong",[t._v(t._s(e))])])])],1)})),1)],1)],1):"typeOfRelation"===t.selectedMaster?o("b-col",[o("b-card",{attrs:{title:"Create or Update Relations"}},[o("b-row",{staticStyle:{"margin-bottom":"5px"}},[o("b-col",[o("b-form-input",{staticStyle:{"text-transform":"uppercase"},attrs:{id:"relation",required:"",placeholder:"Enter Relation",inline:""},model:{value:t.relation,callback:function(e){t.relation=e},expression:"relation"}})],1),o("b-col",{staticStyle:{"text-align":"start"}},[o("b-button",{attrs:{variant:"primary text-center",disabled:t.valExisRelation},on:{click:t.addNewRelation}},[t._v("Add Relation")]),o("b-button",{staticStyle:{"margin-left":"3px"},attrs:{variant:"danger text-center",disabled:!t.valExisRelation||""==t.relation},on:{click:t.deleteRelation}},[t._v("Delete Relation")])],1)],1),o("b-row",t._l(t.masterData.typeOfRelation,(function(e,a){return o("b-col",{key:e},[o("b-card",{staticStyle:{cursor:"pointer","background-color":"azure",width:"200px","text-align":"left"},attrs:{id:a},on:{click:function(o){return t.clickDeleteRelation(e,a)}}},[o("span",{staticStyle:{"white-space":"nowrap","text-align":"left"}},[o("strong",[t._v(t._s(e))])])])],1)})),1)],1)],1):"typeOfMeasurment"===t.selectedMaster?o("b-col",[o("b-card",{attrs:{title:"Create or Update Measurment Type"}},[o("b-row",{staticStyle:{"margin-bottom":"5px"}},[o("b-col",[o("b-form-input",{staticStyle:{"text-transform":"uppercase"},attrs:{id:"measurment",required:"",placeholder:"Enter Measurment Type",inline:""},model:{value:t.measurment,callback:function(e){t.measurment=e},expression:"measurment"}})],1),o("b-col",{staticStyle:{"text-align":"start"}},[o("b-button",{attrs:{variant:"primary text-center",disabled:t.valExisMeasurment},on:{click:t.addNewMeasurment}},[t._v("Add Measurment")]),o("b-button",{staticStyle:{"margin-left":"3px"},attrs:{variant:"danger text-center",disabled:!t.valExisMeasurment||""==t.measurment},on:{click:t.deleteMeasurment}},[t._v("Delete Measurment")])],1)],1),o("b-row",t._l(t.masterData.typeOfMeasurment,(function(e,a){return o("b-col",{key:e},[o("b-card",{staticStyle:{cursor:"pointer","background-color":"azure",width:"200px","text-align":"left"},attrs:{id:a},on:{click:function(o){return t.clickDeleteMeasurment(e,a)}}},[o("span",{staticStyle:{"white-space":"nowrap","text-align":"left"}},[o("strong",[t._v(t._s(e))])])])],1)})),1)],1)],1):"typeOfIntrest"===t.selectedMaster?o("b-col",[o("b-card",{attrs:{title:"Create or Update Intrest Type"}},[o("b-row",{staticStyle:{"margin-bottom":"5px"}},[o("b-col",[o("b-form-input",{staticStyle:{"text-transform":"uppercase"},attrs:{id:"intrest",required:"",placeholder:"Enter Intrest Type",inline:""},model:{value:t.intrest,callback:function(e){t.intrest=e},expression:"intrest"}})],1),o("b-col",{staticStyle:{"text-align":"start"}},[o("b-button",{attrs:{variant:"primary text-center",disabled:t.valExisIntrest},on:{click:t.addNewIntrest}},[t._v("Add Intrest")]),o("b-button",{staticStyle:{"margin-left":"3px"},attrs:{variant:"danger text-center",disabled:!t.valExisIntrest||""==t.intrest},on:{click:t.deleteIntrest}},[t._v("Delete Intrest")])],1)],1),o("b-row",t._l(t.masterData.typeOfIntrest,(function(e,a){return o("b-col",{key:e},[o("b-card",{staticStyle:{cursor:"pointer","background-color":"azure",width:"200px","text-align":"left"},attrs:{id:a},on:{click:function(o){return t.clickDeleteIntrest(e,a)}}},[o("span",{staticStyle:{"white-space":"nowrap","text-align":"left"}},[o("strong",[t._v(t._s(e))])])])],1)})),1)],1)],1):o("b-col",[o("span",{staticStyle:{color:"red"}},[o("strong",[t._v("--Select a Master to Modify--")])])])],1),o("b-row",{staticStyle:{"background-color":"white",position:"sticky",bottom:"0","padding-top":"10px"},attrs:{"bg-variant":"light"}},[o("b-col",{staticStyle:{"text-align":"center !important"}},[null!==t.selectedMaster?o("b-button",{attrs:{variant:"primary text-center",value:"update"},on:{click:t.updateMaster}},[t._v("Update Master")]):t._e(),t._v(" "),o("b-button",{attrs:{variant:"danger text-center",value:"Cancel"},on:{click:function(e){return t.$router.push("/")}}},[t._v("Cancel")])],1)],1)],1)])],1)],1)},$=[],R=(o("4de4"),o("498a"),{data:function(){return{masterData:null,selectedMaster:null,relation:"",measurment:"",intrest:"",item:"",disabledFlg:!0,masterOptions:[{value:"typeOfItems",text:"Item Master"},{value:"typeOfRelation",text:"Relation Master"},{value:"typeOfMeasurment",text:"Measurments Master"},{value:"typeOfIntrest",text:"Intrest Type Master"}]}},mounted:function(){this.masterData=this.$store.state.master},methods:{makeEmpty:function(){this.relation="",this.measurment="",this.intrest="",this.item=""},updateMaster:function(){var t=this;this.$bvModal.msgBoxConfirm("Please confirm that you want to Update Master Data.",{title:"Confirmation",size:"sm",buttonSize:"sm",okVariant:"primary",cancelVariant:"danger",okTitle:"Proceed...",cancelTitle:"Cancel",footerClass:"p-2",hideHeaderClose:!1,centered:!0}).then((function(e){e&&(t.masterData.typeOfItems.sort(),t.masterData.typeOfIntrest.sort(),t.masterData.typeOfMeasurment.sort(),t.masterData.typeOfRelation.sort(),t.$store.dispatch("updateMaster",t.masterData).then((function(){t.$bvModal.msgBoxOk("Updated Master Data",{title:"Confirmation",size:"sm",buttonSize:"sm",okVariant:"info",headerClass:"p-2 border-bottom-0",footerClass:"p-2 border-top-0",centered:!0}).then((function(e){e&&t.$router.push("/options")})).catch((function(t){alert(t)}))})).catch((function(t){return alert(t)})))})).catch((function(t){alert(t)}))},addNewItems:function(){this.masterData.typeOfItems.unshift(this.item.trim().toUpperCase()),this.item=""},deleteItems:function(){var t=this;this.masterData.typeOfItems=this.masterData.typeOfItems.filter((function(e){return e!==t.item.trim().toUpperCase()})),this.item=""},clickDeleteItems:function(t,e){document.getElementById(e).style.backgroundColor="#dc3545",document.getElementById(e).style.color="#fff";for(var o=0;o<this.masterData.typeOfItems.length;o++)o!=e&&(document.getElementById(o).style.backgroundColor="azure",document.getElementById(o).style.color="black");this.item=t.toLowerCase()},addNewIntrest:function(){this.masterData.typeOfIntrest.unshift(this.intrest.trim().toUpperCase()),this.intrest=""},deleteIntrest:function(){var t=this;this.masterData.typeOfIntrest=this.masterData.typeOfIntrest.filter((function(e){return e!==t.intrest.trim().toUpperCase()})),this.intrest=""},clickDeleteIntrest:function(t,e){document.getElementById(e).style.backgroundColor="#dc3545",document.getElementById(e).style.color="#fff";for(var o=0;o<this.masterData.typeOfIntrest.length;o++)o!=e&&(document.getElementById(o).style.backgroundColor="azure",document.getElementById(o).style.color="black");this.intrest=t.toLowerCase()},addNewMeasurment:function(){this.masterData.typeOfMeasurment.unshift(this.measurment.trim().toUpperCase()),this.measurment=""},deleteMeasurment:function(){var t=this;this.masterData.typeOfMeasurment=this.masterData.typeOfMeasurment.filter((function(e){return e!==t.measurment.trim().toUpperCase()})),this.measurment=""},clickDeleteMeasurment:function(t,e){document.getElementById(e).style.backgroundColor="#dc3545",document.getElementById(e).style.color="#fff";for(var o=0;o<this.masterData.typeOfMeasurment.length;o++)o!=e&&(document.getElementById(o).style.backgroundColor="azure",document.getElementById(o).style.color="black");this.measurment=t.toLowerCase()},addNewRelation:function(){this.masterData.typeOfRelation.unshift(this.relation.trim().toUpperCase()),this.relation=""},deleteRelation:function(){var t=this;this.masterData.typeOfRelation=this.masterData.typeOfRelation.filter((function(e){return e!==t.relation.trim().toUpperCase()})),this.relation=""},clickDeleteRelation:function(t,e){document.getElementById(e).style.backgroundColor="#dc3545",document.getElementById(e).style.color="#fff";for(var o=0;o<this.masterData.typeOfRelation.length;o++)o!=e&&(document.getElementById(o).style.backgroundColor="azure",document.getElementById(o).style.color="black");this.relation=t.toLowerCase()}},computed:{valExisItems:function(){var t=this;return""===this.item||void 0!==this.masterData.typeOfItems.find((function(e){return e.toLowerCase()===t.item.trim()}))},valExisIntrest:function(){var t=this;return""===this.intrest||void 0!==this.masterData.typeOfIntrest.find((function(e){return e.toLowerCase()===t.intrest.trim()}))},valExisMeasurment:function(){var t=this;return""===this.measurment||void 0!==this.masterData.typeOfMeasurment.find((function(e){return e.toLowerCase()===t.measurment.trim()}))},valExisRelation:function(){var t=this;return""===this.relation||void 0!==this.masterData.typeOfRelation.find((function(e){return e.toLowerCase()===t.relation.trim()}))}}}),Y=R,A=Object(l["a"])(Y,M,$,!1,null,null,null),B=A.exports,O=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("b-card",[o("b-row",[o("b-col",[o("span",{staticClass:"my-card-heading"},[t._v("ACCOUNT SEARCH")])])],1),o("b-row",[o("b-col",{attrs:{md:""}},[o("form",{ref:"form",on:{submit:function(t){t.stopPropagation(),t.preventDefault()}}},[o("b-row",{staticClass:"my-1"},[o("b-col",{staticStyle:{"padding-top":"10px"},attrs:{md:"",sm:"2"}},[o("label",{attrs:{for:"accountSearch"}},[o("strong",[t._v("Account Search:")])])]),o("b-col",{staticStyle:{display:"flex","padding-left":"0px"},attrs:{sm:"10",md:"9"}},[o("b-form-input",{staticStyle:{"text-transform":"uppercase","margin-right":"3px"},attrs:{id:"accountSearch",size:"lg"},model:{value:t.accountSearch,callback:function(e){t.accountSearch=e},expression:"accountSearch"}}),o("b-button",{attrs:{variant:"primary",disabled:!(null!==t.accountSearch&&t.accountSearch.length>=3)},on:{click:t.searchAccount}},[o("b-icon",{attrs:{icon:"search","aria-hidden":"true"}}),o("span",{staticClass:"sr-only"},[t._v("Search")])],1)],1)],1)],1)])],1),o("b-row",[o("b-col",[o("b-card",[o("b-row",[o("b-col",{staticStyle:{"max-width":"260px"},attrs:{md:"3"}},[o("b-card-title",{staticStyle:{"text-align":"left",width:"260px"}},[t._v("Accounts Found ("+t._s(t.totalRows)+")")])],1),o("b-col",{attrs:{md:"3"}},[o("b-form-input",{staticStyle:{"margin-right":"10px",display:"inline-flex"},attrs:{size:"sm",readonly:t.totalRows<1,placeholder:"ðŸ”  Search..."},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})],1),o("b-col",{staticStyle:{"padding-right":"0px"},attrs:{md:"6"}},[o("b-button",{staticStyle:{float:"right","margin-left":"4px"},attrs:{disabled:""==t.selected,variant:"primary"},on:{click:t.editBookings}},[t._v("GoTo Booking ")]),o("b-button",{staticStyle:{float:"right"},attrs:{variant:"primary",disabled:""==t.selected},on:{click:t.editAccount}},[o("b-icon",{attrs:{icon:"pencil","aria-hidden":"true"}}),o("span",{staticClass:"sr-only"},[t._v("pencil")]),t._v("Edit Account ")],1),o("b-button",{staticStyle:{float:"right","margin-right":"4px"},attrs:{variant:"primary"},on:{click:function(e){return t.$router.push("/createAccount")}}},[t._v("Create Account ")])],1)],1),o("b-table",{ref:"selectableTable",attrs:{id:"accountSearchResult",selectable:"",filter:t.filter,"select-mode":"single",items:t.items,fields:t.fields,"sticky-header":"true",responsive:""},on:{filtered:t.onFiltered,"row-selected":t.onRowSelected},scopedSlots:t._u([{key:"cell(brokerName)",fn:function(e){return[o("div",{staticStyle:{"text-align":"left"}},[t._v(t._s(e.value))])]}},{key:"cell(brokerNo)",fn:function(e){return[o("div",{staticStyle:{"text-align":"left",width:"100px"}},[t._v(t._s(e.value))])]}},{key:"cell(mobileNo)",fn:function(e){return[o("div",{staticStyle:{"text-align":"left"}},[t._v(t._s(e.value))])]}},{key:"cell(addr1)",fn:function(e){return[o("div",{staticStyle:{"text-align":"left"}},[t._v(t._s(e.value))])]}},{key:"cell(addr2)",fn:function(e){return[o("div",{staticStyle:{"text-align":"left"}},[t._v(t._s(e.value))])]}},{key:"cell(addr3)",fn:function(e){return[o("div",{staticStyle:{"text-align":"left"}},[t._v(t._s(e.value))])]}},{key:"cell(town)",fn:function(e){return[o("div",{staticStyle:{"text-align":"left"}},[t._v(t._s(e.value))])]}},{key:"cell(image)",fn:function(e){return[o("div",[o("b-avatar",{staticClass:"align-baseline",staticStyle:{},attrs:{src:"/images/"+e.item.brokerNo+".jpg"},on:{click:function(o){return t.openImage(e.item.brokerNo)}}}),void 0!=e.item.bookings.find((function(t){return!0!==t.closed}))?o("span",{staticClass:"rounded-circle",staticStyle:{"background-color":"#73D500","vertical-align":"top",display:"inline-block",height:"10px",width:"10px"}}):t._e()],1)]}}])})],1)],1)],1),o("b-modal",{ref:"imageModal",attrs:{id:"modal-image",size:"sm","hide-header":"","hide-footer":""}},[o("b-row",[o("b-col",[o("b-img",{attrs:{src:"/images/"+t.showImg+".jpg",thumbnail:"",fluid:"",alt:"Fluid image"}})],1)],1),o("b-row",{staticStyle:{"margin-top":"5px"}},[o("b-col",{staticStyle:{"text-align":"center !important"}},[o("b-button",{attrs:{variant:"danger text-center"},on:{click:function(e){return t.$bvModal.hide("modal-image")}}},[t._v("Close")])],1)],1)],1)],1)},F=[],L=(o("4160"),o("ac1f"),o("5319"),o("841c"),o("159b"),{data:function(){return{selected:"",showImg:"",filter:null,totalRows:0,accountSearch:null,fields:[{key:"image",label:"Identity",sortable:!1},{key:"brokerName",label:"Name",sortable:!0},{key:"brokerNo",label:"Acc No",sortable:!0},{key:"mobileNo",label:"Mobile No",sortable:!0},{key:"addr1",label:"Relation",sortable:!0},{key:"addr2",label:"Door No",sortable:!0},{key:"addr3",label:"Street",sortable:!0},{key:"town",label:"Town",sortable:!0}],items:[]}},methods:{editBookings:function(){var t=this.selected[0].brokerNo;this.$router.push({name:"BookingsView",params:{brokerNo:t,search:this.accountSearch}})},editAccount:function(){var t=this.selected[0].brokerNo;this.$router.push({name:"UpdateAccount",params:{brokerNo:t,search:this.accountSearch}})},onRowSelected:function(t){this.selected=t},onFiltered:function(t){this.totalRows=t.length},openImage:function(t){this.showImg=t,this.$bvModal.show("modal-image")},searchAccount:function(){var t=this,e=this.$loading.show({loader:"dots",color:"green"}),o=this.accountSearch.toUpperCase();o=o.replace(/\//g,"+"),this.$http.get("/middleware/api/secured/get-broker-Lst/"+encodeURIComponent(o.toUpperCase())+"/"+this.$store.state.selectedCompany.value).then((function(o){o.data.forEach((function(t){t.defaulter&&(t._rowVariant="danger")})),t.items=o.data,t.totalRows=t.items.length,e.hide()})).catch((function(t){alert(t)})).finally((function(){}))}},mounted:function(){void 0!=this.accountSearch&&""!=this.accountSearch&&this.searchAccount()},created:function(){this.$route.params.search&&(this.accountSearch=this.$route.params.search)}}),E=L,j=Object(l["a"])(E,O,F,!1,null,"59aeb669",null),z=j.exports,q=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("b-card",[o("b-row",[o("b-col",[o("span",{staticClass:"my-card-heading"},[t._v("CREATE ACCOUNT")])])],1),o("b-form",{ref:"form",on:{submit:function(t){t.stopPropagation(),t.preventDefault()}}},[o("b-row",[o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"1"}},[o("b-form-group",{attrs:{id:"brokerNoLbl",label:"A/C Code","label-for":"brokerNo"}},[o("b-form-input",{attrs:{id:"brokerNo",required:"",disabled:""},model:{value:t.form.brokerNo,callback:function(e){t.$set(t.form,"brokerNo",e)},expression:"form.brokerNo"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"3"}},[o("b-form-group",{attrs:{id:"brokerNameLbl",label:"Name",state:t.nameState,"invalid-feedback":"Name is Required","label-for":"brokerName"}},[o("b-form-input",{attrs:{id:"brokerName",state:t.nameState,required:""},on:{keypress:t.checkFormValidity},model:{value:t.form.brokerName,callback:function(e){t.$set(t.form,"brokerName",e)},expression:"form.brokerName"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right"},[o("b-form-group",{attrs:{id:"addr1Lbl",label:"Mother/Father/Husband","label-for":"addr1"}},[o("b-form-input",{attrs:{id:"addr1"},model:{value:t.form.addr1,callback:function(e){t.$set(t.form,"addr1",e)},expression:"form.addr1"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"1"}},[o("b-form-group",{attrs:{id:"gender",label:"Gender","label-for":"gender"}},[o("b-form-select",{attrs:{id:"gender",options:t.genderOptions},model:{value:t.form.gender,callback:function(e){t.$set(t.form,"gender",e)},expression:"form.gender"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"1"}},[o("b-form-group",{attrs:{id:"ageLbl",label:"Age","label-for":"age"}},[o("b-form-input",{attrs:{id:"age",placeholder:""},on:{blur:t.changeDOB},model:{value:t.form.age,callback:function(e){t.$set(t.form,"age",e)},expression:"form.age"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"2"}},[o("label",{attrs:{for:"dob"}},[t._v("Date Of Birth")]),o("b-input-group",[o("date-picker",{attrs:{config:t.dobOptions,placeholder:"DD/MM/YYYY"},model:{value:t.dateDob,callback:function(e){t.dateDob=e},expression:"dateDob"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"2"}},[o("label",{attrs:{for:"dow"}},[t._v("Date Of Creation")]),o("b-input-group",[o("b-form-input",{attrs:{id:"dow",disabled:"",type:"text",placeholder:"DD/MM/YYYY"},model:{value:t.dow,callback:function(e){t.dow=e},expression:"dow"}})],1)],1)],1),o("b-row",[o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"occupationLbl",label:"Occupation","label-for":"occupation"}},[o("b-form-select",{attrs:{id:"occupation",options:t.occupationOptions},model:{value:t.form.occupation,callback:function(e){t.$set(t.form,"occupation",e)},expression:"form.occupation"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"mobileNoLbl",label:"Mobile No","label-for":"mobileNo"}},[o("b-form-input",{attrs:{id:"mobileNo"},model:{value:t.form.mobileNo,callback:function(e){t.$set(t.form,"mobileNo",e)},expression:"form.mobileNo"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"otherPhones1Lbl",label:"Other Mobile I","label-for":"otherPhones1"}},[o("b-form-input",{attrs:{id:"otherPhones1"},model:{value:t.form.otherPhones1,callback:function(e){t.$set(t.form,"otherPhones1",e)},expression:"form.otherPhones1"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"otherPhones2Lbl",label:"Other Mobile II","label-for":"otherPhones2"}},[o("b-form-input",{attrs:{id:"otherPhones2"},model:{value:t.form.otherPhones2,callback:function(e){t.$set(t.form,"otherPhones2",e)},expression:"form.otherPhones2"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"addr2Lbl",label:"Door No","label-for":"addr2"}},[o("b-form-input",{attrs:{id:"addr2"},model:{value:t.form.addr2,callback:function(e){t.$set(t.form,"addr2",e)},expression:"form.addr2"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"addr3Lbl",label:"Street","label-for":"addr3"}},[o("b-form-input",{attrs:{id:"addr3"},model:{value:t.form.addr3,callback:function(e){t.$set(t.form,"addr3",e)},expression:"form.addr3"}})],1)],1)],1),o("b-row",[o("b-col",{attrs:{md:"7"}},[o("b-row",[o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"areaLbl",label:"Area","label-for":"area"}},[o("b-form-input",{attrs:{id:"area"},model:{value:t.form.area,callback:function(e){t.$set(t.form,"area",e)},expression:"form.area"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"townLbl",label:"Town","label-for":"town"}},[o("b-form-input",{attrs:{id:"town"},model:{value:t.form.town,callback:function(e){t.$set(t.form,"town",e)},expression:"form.town"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"districtLbl",label:"District","label-for":"district"}},[o("b-form-input",{attrs:{id:"district"},model:{value:t.form.district,callback:function(e){t.$set(t.form,"district",e)},expression:"form.district"}})],1)],1),o("b-col",{attrs:{md:"2"}},[o("b-form-group",{attrs:{id:"zipCodeLbl",label:"ZipCode","label-for":"zipCode"}},[o("b-form-input",{attrs:{id:"zipCode",maxlength:"6"},model:{value:t.form.zipCode,callback:function(e){t.$set(t.form,"zipCode",e)},expression:"form.zipCode"}})],1)],1)],1),o("b-row",[o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"contactPerson1Lbl",label:"Intro By I","label-for":"contactPerson1"}},[o("div",{staticStyle:{display:"flex"}},[o("b-form-input",{attrs:{id:"contactPerson1",placeholder:""},model:{value:t.form.contactPerson1,callback:function(e){t.$set(t.form,"contactPerson1",e)},expression:"form.contactPerson1"}}),o("b-button",{attrs:{variant:"primary",disabled:null==t.form.contactPerson1||t.form.contactPerson1.length<3},on:{click:t.searchContact1Person}},[o("b-icon",{attrs:{icon:"search","aria-hidden":"true"}}),o("span",{staticClass:"sr-only"},[t._v("Search")])],1)],1)])],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"contact1RelationLbl",label:" Intro I Relation Type","label-for":"contact1Relation"}},[o("b-form-select",{attrs:{id:"contact1Relation",options:t.contactRelationOptions},model:{value:t.form.contact1Relation,callback:function(e){t.$set(t.form,"contact1Relation",e)},expression:"form.contact1Relation"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"contact1MobileLbl",label:"Intro I Mobile","label-for":"relationPhones"}},[o("b-form-input",{attrs:{id:"contact1Mobile",disabled:""},model:{value:t.form.contact1Mobile,callback:function(e){t.$set(t.form,"contact1Mobile",e)},expression:"form.contact1Mobile"}})],1)],1)],1),o("b-row",[o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"contactPerson2Lbl",label:"Intro By II","label-for":"contactPerson2"}},[o("div",{staticStyle:{display:"flex"}},[o("b-form-input",{attrs:{id:"contactPerson2",placeholder:""},model:{value:t.form.contactPerson2,callback:function(e){t.$set(t.form,"contactPerson2",e)},expression:"form.contactPerson2"}}),o("b-button",{attrs:{variant:"primary",disabled:null==t.form.contactPerson2||t.form.contactPerson2.length<3},on:{click:t.searchContact2Person}},[o("b-icon",{attrs:{icon:"search","aria-hidden":"true"}}),o("span",{staticClass:"sr-only"},[t._v("Search")])],1)],1)])],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"contact2RelationLbl",label:" Intro II Relation Type","label-for":"contact2Relation"}},[o("b-form-select",{attrs:{id:"contact2Relation",options:t.contactRelationOptions},model:{value:t.form.contact2Relation,callback:function(e){t.$set(t.form,"contact2Relation",e)},expression:"form.contact2Relation"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"contact2MobileLbl",label:"Intro II Mobile","label-for":"contact2Mobile"}},[o("b-form-input",{attrs:{id:"contact2Mobile",disabled:""},model:{value:t.form.contact2Mobile,callback:function(e){t.$set(t.form,"contact2Mobile",e)},expression:"form.contact2Mobile"}})],1)],1)],1),o("b-row",[o("b-col",{attrs:{md:"2"}},[o("b-form-group",{attrs:{id:"aadharNoLbl",label:"Aadhar Number","label-for":"aadharNo"}},[o("b-form-input",{attrs:{id:"aadharNo"},model:{value:t.form.aadharNo,callback:function(e){t.$set(t.form,"aadharNo",e)},expression:"form.aadharNo"}})],1)],1),o("b-col",{attrs:{md:"3"}},[o("b-form-group",{attrs:{id:"emailLbl",label:"Email","label-for":"email"}},[o("b-form-input",{attrs:{id:"email"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1)],1),o("b-col",{attrs:{md:"2"}},[o("b-form-group",{attrs:{id:"ownrentLbl",label:"Own or Rent","label-for":"ownrent"}},[o("b-form-checkbox",{attrs:{id:"ownrent"},model:{value:t.form.ownrent,callback:function(e){t.$set(t.form,"ownrent",e)},expression:"form.ownrent"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{staticStyle:{color:"red"},attrs:{id:"remarksLbl",label:"Remarks","label-for":"remarks"}},[o("b-form-textarea",{attrs:{id:"remarks",rows:"3","max-rows":"6"},model:{value:t.form.remarks,callback:function(e){t.$set(t.form,"remarks",e)},expression:"form.remarks"}})],1)],1)],1)],1),o("b-col",{attrs:{md:""}},[o("b-row",[o("b-col",{staticClass:"image-position",attrs:{md:""}},[o("span",{staticStyle:{"text-align":"center"}},[t._v("Account Holder")]),o("div",{staticClass:"image-input",style:{"background-image":"url("+t.imageData+")"},on:{click:t.chooseImage}},[t.imageData?t._e():o("span",{staticClass:"placeholder"},[t._v("Choose an Image")]),o("input",{ref:"fileInput",staticClass:"file-input",attrs:{type:"file"},on:{input:t.onSelectFile}})])]),o("b-col",{staticClass:"image-position",attrs:{md:""}},[o("span",{staticStyle:{"text-align":"center"}},[t._v("Intro I")]),o("div",{attrs:{id:"preview"}},[""==t.form.contact1PersonId||null==t.form.contact1PersonId?o("b-img",t._b({attrs:{rounded:"top",alt:"Top-rounded image"}},"b-img",t.mainProps,!1)):o("b-img",{attrs:{src:"/images/"+t.form.contact1PersonId+".jpg",thumbnail:"",fluid:"",alt:"Fluid image"}})],1)]),o("b-col",{staticClass:"image-position",attrs:{md:""}},[o("span",{staticStyle:{"text-align":"center"}},[t._v("Intro II")]),o("div",{attrs:{id:"preview"}},[""==t.form.contact2PersonId||null==t.form.contact2PersonId?o("b-img",t._b({attrs:{rounded:"top",alt:"Top-rounded image"}},"b-img",t.mainProps,!1)):o("b-img",{attrs:{src:"/images/"+t.form.contact2PersonId+".jpg",thumbnail:"",fluid:"",alt:"Fluid image"}})],1)])],1)],1)],1),o("b-row",{staticStyle:{position:"sticky",bottom:"0","padding-top":"10px"},attrs:{"bg-variant":"light"}},[o("b-col",{staticStyle:{"text-align":"center !important"},attrs:{md:""}},[o("b-button",{attrs:{variant:"primary text-center",value:"Create"},on:{click:t.createAccount}},[t._v("Create Account")]),t._v(" "),o("b-button",{attrs:{variant:"danger text-center",value:"Reset"},on:{click:t.reload}},[t._v("Reset")]),t._v(" "),o("b-button",{attrs:{variant:"secondary text-center",value:"back"},on:{click:function(e){return t.$router.go(-1)}}},[t._v("Back To Search")])],1)],1)],1),o("b-modal",{ref:"contactPersonModal",attrs:{size:"xl",centered:"",id:"modal-contactPerson","hide-header":"","hide-footer":""}},[o("b-card",{attrs:{title:"Contact Person Search"}},[o("b-row",[o("b-col",[o("b-form-group",{attrs:{id:"contactPersonLbl",label:"Intro By","label-for":"contactPerson"}},[o("div",{staticStyle:{display:"flex"}},[o("b-form-input",{attrs:{id:"contactPerson",placeholder:""},model:{value:t.contactPerson,callback:function(e){t.contactPerson=e},expression:"contactPerson"}}),o("b-button",{attrs:{variant:"primary",disabled:null==t.contactPerson||t.contactPerson.length<3},on:{click:t.searchContactPerson}},[o("b-icon",{attrs:{icon:"search","aria-hidden":"true"}}),o("span",{staticClass:"sr-only"},[t._v("Search")])],1)],1)])],1)],1),o("b-row",[o("b-col",[o("b-table",{ref:"selectableTable",attrs:{id:"accountSearchResult",selectable:"","select-mode":"single",items:t.items,fields:t.fields,"sticky-header":"true",responsive:""},on:{"row-dblclicked":t.onRowSelected},scopedSlots:t._u([{key:"cell(brokerName)",fn:function(e){return[o("div",{staticStyle:{"text-align":"left"}},[t._v(t._s(e.value))])]}},{key:"cell(brokerNo)",fn:function(e){return[o("div",{staticStyle:{"text-align":"left",width:"100px"}},[t._v(t._s(e.value))])]}},{key:"cell(mobileNo)",fn:function(e){return[o("div",{staticStyle:{"text-align":"left"}},[t._v(t._s(e.value))])]}},{key:"cell(addr1)",fn:function(e){return[o("div",{staticStyle:{"text-align":"left"}},[t._v(t._s(e.value))])]}},{key:"cell(addr2)",fn:function(e){return[o("div",{staticStyle:{"text-align":"left"}},[t._v(t._s(e.value))])]}},{key:"cell(addr3)",fn:function(e){return[o("div",{staticStyle:{"text-align":"left"}},[t._v(t._s(e.value))])]}},{key:"cell(town)",fn:function(e){return[o("div",{staticStyle:{"text-align":"left"}},[t._v(t._s(e.value))])]}},{key:"cell(image)",fn:function(e){return[o("div",[o("b-avatar",{staticClass:"align-baseline",staticStyle:{},attrs:{src:"/images/"+e.item.brokerNo+".jpg"}}),void 0!=e.item.bookings.find((function(t){return!0!==t.closed}))?o("span",{staticClass:"rounded-circle",staticStyle:{"background-color":"#73D500","vertical-align":"top",display:"inline-block",height:"10px",width:"10px"}}):t._e()],1)]}}])})],1)],1)],1)],1)],1)},V=[],U=o("c1df"),W=o.n(U),G={data:function(){return{url:"",dow:null,dobOptions:{format:"DD/MM/YYYY",useCurrent:!0},dateDob:null,imageData:null,custImage:null,mainProps:{blank:!0,blankColor:"#e0e0e0;",width:250,height:250,class:"m1"},genderOptions:["MALE","FEMALE"],occupationOptions:[],contactRelationOptions:[],nameState:null,form:{companyCode:null,brokerNo:null,brokerName:null,aadharNo:null,addr1:null,addr2:null,addr3:null,town:null,district:"KRISHNA",area:null,zipCode:null,otherPhones1:null,otherPhones2:null,mobileNo:null,email:null,dob:null,dow:new Date,occupation:null,age:null,gender:"MALE",remarks:null,ownrent:!1,defaulter:!1,contactPerson1:null,contact1Mobile:null,contact1PersonId:null,contact1Relation:null,contactPerson2:null,contact2Mobile:null,contact2PersonId:null,contact2Relation:null,createdBy:null,updatedBy:null},fields:[{key:"image",label:"Identity",sortable:!1},{key:"brokerName",label:"Name",sortable:!0},{key:"brokerNo",label:"Acc No",sortable:!0},{key:"mobileNo",label:"Mobile No",sortable:!0},{key:"addr1",label:"Relation",sortable:!0},{key:"addr2",label:"Door No",sortable:!0},{key:"addr3",label:"Street",sortable:!0},{key:"town",label:"Town",sortable:!0}],items:[],contactPerson:null,contact1Person:!1,contact2Person:!1}},methods:{chooseImage:function(){this.$refs.fileInput.click()},changeDOB:function(){if(null==this.form.age||this.form.age<1)return!1;this.dateDob=W()().subtract(this.form.age,"years").startOf("year").format("DD/MM/YYYY")},onSelectFile:function(){var t=this,e=this.$refs.fileInput,o=e.files;if(this.custImage=o,o&&o[0]){var a=new FileReader;a.onload=function(e){t.imageData=e.target.result},a.readAsDataURL(o[0]),this.$emit("input",o[0])}},reload:function(){window.location.reload(!0)},nameCheck:function(){var t=this,e=this.$loading.show({loader:"bars",color:"green"});this.$http.get("/middleware/api/secured/existing-broker-check/"+this.form.brokerName.toUpperCase()+"/"+this.$store.state.selectedCompany.value).then((function(o){e.hide(),o.data&&t.$bvModal.msgBoxOk("Account Name Already Exists",{title:"Name Validation",size:"sm",buttonSize:"sm",okVariant:"danger",headerClass:"p-2 border-bottom-0",footerClass:"p-2 border-top-0",centered:!0}).then((function(t){t&&document.getElementById("brokerName").focus()})).catch((function(t){alert(t)}))})).catch((function(t){alert(t)})).finally((function(){}))},searchContact1Person:function(){this.contact1Person=!0,this.contactPerson=this.form.contactPerson1,this.contact2Person=!1,this.showContactModal()},searchContact2Person:function(){this.contact1Person=!1,this.contactPerson=this.form.contactPerson2,this.contact2Person=!0,this.showContactModal()},searchContactPerson:function(){var t=this,e=this.contactPerson.toUpperCase();e=e.replace(/\//g,"+"),this.$http.get("/middleware/api/secured/get-broker-Lst/"+encodeURIComponent(e.toUpperCase())+"/"+this.$store.state.selectedCompany.value).then((function(e){t.items=e.data})).catch((function(t){alert(t)})).finally((function(){}))},showContactModal:function(){var t=this,e=this.$loading.show({loader:"bars",color:"green"}),o=this.contactPerson.toUpperCase();o=o.replace(/\//g,"+"),this.$http.get("/middleware/api/secured/get-broker-Lst/"+encodeURIComponent(o.toUpperCase())+"/"+this.$store.state.selectedCompany.value).then((function(o){t.items=o.data,e.hide(),t.$bvModal.show("modal-contactPerson")})).catch((function(t){alert(t)})).finally((function(){}))},onRowSelected:function(t){this.$bvModal.hide("modal-contactPerson"),this.contact1Person&&(this.form.contactPerson1=t.brokerName,this.form.contact1PersonId=t.brokerNo,this.form.contact1Mobile=t.mobileNo),this.contact2Person&&(this.form.contactPerson2=t.brokerName,this.form.contact2PersonId=t.brokerNo,this.form.contact2Mobile=t.mobileNo)},getAccountCode:function(){var t=this;this.$http.get("/middleware/api/secured/broker-account-code/"+this.$store.state.selectedCompany.value).then((function(e){t.form.brokerNo=e.data})).catch((function(t){alert(t)})).finally((function(){}))},existingName:function(){this.$http.get("/middleware/api/secured/existing-broker-check/"+this.$store.state.selectedCompany.value).then((function(t){alert(t.data)})).catch((function(t){alert(t)})).finally((function(){}))},checkFormValidity:function(){var t=this.$refs.form.checkValidity();return this.nameState=t,t},createAccount:function(){var t=this;if(this.checkFormValidity()){var e=new FormData;this.form.createdBy=this.$store.state.user.username,this.form.updatedBy=this.$store.state.user.username,e.append("form",JSON.stringify(this.form)),null!=this.custImage&&e.append("file",this.custImage[0]),this.$bvModal.msgBoxConfirm("Please confirm that you want to Create New Account.",{title:"Confirmation",size:"sm",buttonSize:"sm",okVariant:"primary",cancelVariant:"danger",okTitle:"Proceed...",cancelTitle:"Cancel",footerClass:"p-2",hideHeaderClose:!1,centered:!0}).then((function(o){if(o){var a=t.$loading.show({loader:"dots",color:"green"});t.$http.post("/middleware/api/secured/save-broker",e).then((function(){a.hide(),t.$bvModal.msgBoxOk("Created Account",{title:"Confirmation",size:"sm",buttonSize:"sm",okVariant:"info",headerClass:"p-2 border-bottom-0",footerClass:"p-2 border-top-0",centered:!0}).then((function(e){e&&t.$router.push("/account")})).catch((function(t){alert(t)}))})).catch((function(t){alert(t)})).finally((function(){}))}})).catch((function(t){alert(t)}))}}},mounted:function(){this.occupationOptions=this.$store.state.master.typeOfOccupation,this.contactRelationOptions=this.$store.state.master.typeOfRelation,this.form.companyCode=this.$store.state.selectedCompany.value,this.dow=W()().format("DD/MM/YYYY"),this.getAccountCode()},computed:{dob:function(){return this.form.dob}},watch:{dateDob:function(){var t=W()();this.form.dob=W()(this.dateDob,"DD/MM/YYYY");var e=t.diff(this.form.dob,"years");this.form.age=e}}},H=G,J=(o("0564"),Object(l["a"])(H,q,V,!1,null,"2a9a4109",null)),K=J.exports,Q=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("b-card",{style:{"background-color":t.form.defaulter?"red":"azure"}},[o("b-row",[o("b-col",[o("span",{staticClass:"my-card-heading"},[t._v("UPDATE ACCOUNT")])])],1),o("b-form",{ref:"form",on:{submit:function(t){t.stopPropagation(),t.preventDefault()}}},[o("b-row",[o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"1"}},[o("b-form-group",{attrs:{id:"brokerNoLbl",label:"A/C Code","label-for":"brokerNo"}},[o("b-form-input",{attrs:{id:"brokerNo",required:"",disabled:""},model:{value:t.form.brokerNo,callback:function(e){t.$set(t.form,"brokerNo",e)},expression:"form.brokerNo"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"3"}},[o("b-form-group",{attrs:{id:"brokerNameLbl",label:"Name",state:t.nameState,"invalid-feedback":"Name is Required","label-for":"brokerName"}},[o("b-form-input",{attrs:{id:"brokerName",state:t.nameState,required:""},on:{keypress:t.checkFormValidity},model:{value:t.form.brokerName,callback:function(e){t.$set(t.form,"brokerName",e)},expression:"form.brokerName"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right"},[o("b-form-group",{attrs:{id:"addr1Lbl",label:"Mother/Father/Husband","label-for":"addr1"}},[o("b-form-input",{attrs:{id:"addr1"},model:{value:t.form.addr1,callback:function(e){t.$set(t.form,"addr1",e)},expression:"form.addr1"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"1"}},[o("b-form-group",{attrs:{id:"gender",label:"Gender","label-for":"gender"}},[o("b-form-select",{attrs:{id:"gender",options:t.genderOptions},model:{value:t.form.gender,callback:function(e){t.$set(t.form,"gender",e)},expression:"form.gender"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"1"}},[o("b-form-group",{attrs:{id:"ageLbl",label:"Age","label-for":"age"}},[o("b-form-input",{attrs:{id:"age",placeholder:""},on:{blur:t.changeDOB},model:{value:t.form.age,callback:function(e){t.$set(t.form,"age",e)},expression:"form.age"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"2"}},[o("label",{attrs:{for:"dob"}},[t._v("Date Of Birth")]),o("b-input-group",[o("date-picker",{attrs:{config:t.dobOptions,placeholder:"DD/MM/YYYY"},model:{value:t.dateDob,callback:function(e){t.dateDob=e},expression:"dateDob"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"2"}},[o("label",{attrs:{for:"dow"}},[t._v("Date Of Creation")]),o("b-input-group",[o("b-form-input",{attrs:{id:"dow",disabled:"",type:"text",placeholder:"DD/MM/YYYY"},model:{value:t.dow,callback:function(e){t.dow=e},expression:"dow"}})],1)],1)],1),o("b-row",[o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"occupationLbl",label:"Occupation","label-for":"occupation"}},[o("b-form-select",{attrs:{id:"occupation",options:t.occupationOptions},model:{value:t.form.occupation,callback:function(e){t.$set(t.form,"occupation",e)},expression:"form.occupation"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"mobileNoLbl",label:"Mobile No","label-for":"mobileNo"}},[o("b-form-input",{attrs:{id:"mobileNo"},model:{value:t.form.mobileNo,callback:function(e){t.$set(t.form,"mobileNo",e)},expression:"form.mobileNo"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"otherPhones1Lbl",label:"Other Mobile I","label-for":"otherPhones1"}},[o("b-form-input",{attrs:{id:"otherPhones1"},model:{value:t.form.otherPhones1,callback:function(e){t.$set(t.form,"otherPhones1",e)},expression:"form.otherPhones1"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"otherPhones2Lbl",label:"Other Mobile II","label-for":"otherPhones2"}},[o("b-form-input",{attrs:{id:"otherPhones2"},model:{value:t.form.otherPhones2,callback:function(e){t.$set(t.form,"otherPhones2",e)},expression:"form.otherPhones2"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"addr2Lbl",label:"Door No","label-for":"addr2"}},[o("b-form-input",{attrs:{id:"addr2"},model:{value:t.form.addr2,callback:function(e){t.$set(t.form,"addr2",e)},expression:"form.addr2"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"addr3Lbl",label:"Street","label-for":"addr3"}},[o("b-form-input",{attrs:{id:"addr3"},model:{value:t.form.addr3,callback:function(e){t.$set(t.form,"addr3",e)},expression:"form.addr3"}})],1)],1)],1),o("b-row",[o("b-col",{attrs:{md:"7"}},[o("b-row",[o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"areaLbl",label:"Area","label-for":"area"}},[o("b-form-input",{attrs:{id:"area"},model:{value:t.form.area,callback:function(e){t.$set(t.form,"area",e)},expression:"form.area"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"townLbl",label:"Town","label-for":"town"}},[o("b-form-input",{attrs:{id:"town"},model:{value:t.form.town,callback:function(e){t.$set(t.form,"town",e)},expression:"form.town"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"districtLbl",label:"District","label-for":"district"}},[o("b-form-input",{attrs:{id:"district"},model:{value:t.form.district,callback:function(e){t.$set(t.form,"district",e)},expression:"form.district"}})],1)],1),o("b-col",{attrs:{md:"2"}},[o("b-form-group",{attrs:{id:"zipCodeLbl",label:"ZipCode","label-for":"zipCode"}},[o("b-form-input",{attrs:{id:"zipCode",maxlength:"6"},model:{value:t.form.zipCode,callback:function(e){t.$set(t.form,"zipCode",e)},expression:"form.zipCode"}})],1)],1)],1),o("b-row",[o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"contactPerson1Lbl",label:"Intro By I","label-for":"contactPerson1"}},[o("div",{staticStyle:{display:"flex"}},[o("b-form-input",{attrs:{id:"contactPerson1",placeholder:""},model:{value:t.form.contactPerson1,callback:function(e){t.$set(t.form,"contactPerson1",e)},expression:"form.contactPerson1"}}),o("b-button",{attrs:{variant:"primary",disabled:null==t.form.contactPerson1||t.form.contactPerson1.length<3},on:{click:t.searchContact1Person}},[o("b-icon",{attrs:{icon:"search","aria-hidden":"true"}}),o("span",{staticClass:"sr-only"},[t._v("Search")])],1)],1)])],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"contact1RelationLbl",label:" Intro I Relation Type","label-for":"contact1Relation"}},[o("b-form-select",{attrs:{id:"contact1Relation",options:t.contactRelationOptions},model:{value:t.form.contact1Relation,callback:function(e){t.$set(t.form,"contact1Relation",e)},expression:"form.contact1Relation"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"contact1MobileLbl",label:"Intro I Mobile","label-for":"relationPhones"}},[o("b-form-input",{attrs:{id:"contact1Mobile",disabled:""},model:{value:t.form.contact1Mobile,callback:function(e){t.$set(t.form,"contact1Mobile",e)},expression:"form.contact1Mobile"}})],1)],1)],1),o("b-row",[o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"contactPerson2Lbl",label:"Intro By II","label-for":"contactPerson2"}},[o("div",{staticStyle:{display:"flex"}},[o("b-form-input",{attrs:{id:"contactPerson2",placeholder:""},model:{value:t.form.contactPerson2,callback:function(e){t.$set(t.form,"contactPerson2",e)},expression:"form.contactPerson2"}}),o("b-button",{attrs:{variant:"primary",disabled:null==t.form.contactPerson2||t.form.contactPerson2.length<3},on:{click:t.searchContact2Person}},[o("b-icon",{attrs:{icon:"search","aria-hidden":"true"}}),o("span",{staticClass:"sr-only"},[t._v("Search")])],1)],1)])],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"contact2RelationLbl",label:" Intro II Relation Type","label-for":"contact2Relation"}},[o("b-form-select",{attrs:{id:"contact2Relation",options:t.contactRelationOptions},model:{value:t.form.contact2Relation,callback:function(e){t.$set(t.form,"contact2Relation",e)},expression:"form.contact2Relation"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"contact2MobileLbl",label:"Intro II Mobile","label-for":"contact2Mobile"}},[o("b-form-input",{attrs:{id:"contact2Mobile",disabled:""},model:{value:t.form.contact2Mobile,callback:function(e){t.$set(t.form,"contact2Mobile",e)},expression:"form.contact2Mobile"}})],1)],1)],1),o("b-row",[o("b-col",{attrs:{md:"2"}},[o("b-form-group",{attrs:{id:"aadharNoLbl",label:"Aadhar Number","label-for":"aadharNo"}},[o("b-form-input",{attrs:{id:"aadharNo"},model:{value:t.form.aadharNo,callback:function(e){t.$set(t.form,"aadharNo",e)},expression:"form.aadharNo"}})],1)],1),o("b-col",{attrs:{md:"3"}},[o("b-form-group",{attrs:{id:"emailLbl",label:"Email","label-for":"email"}},[o("b-form-input",{attrs:{id:"email"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1)],1),o("b-col",{attrs:{md:"2"}},[o("b-form-group",{attrs:{id:"ownrentLbl",label:"Own or Rent","label-for":"ownrent"}},[o("b-form-checkbox",{attrs:{id:"ownrent"},model:{value:t.form.ownrent,callback:function(e){t.$set(t.form,"ownrent",e)},expression:"form.ownrent"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{staticStyle:{color:"red"},attrs:{id:"remarksLbl",label:"Remarks","label-for":"remarks"}},[o("b-form-textarea",{attrs:{id:"remarks",rows:"3","max-rows":"6"},model:{value:t.form.remarks,callback:function(e){t.$set(t.form,"remarks",e)},expression:"form.remarks"}})],1)],1)],1)],1),o("b-col",{attrs:{md:""}},[o("b-row",[o("b-col",{staticClass:"image-position",attrs:{md:""}},[o("span",{staticStyle:{"text-align":"center"}},[t._v("Account Holder")]),o("div",{staticClass:"image-input",style:{"background-image":"url("+t.imageData+")"},on:{click:t.chooseImage}},[t.imageData?t._e():o("div",{attrs:{id:"preview"}},[t.imageData?t._e():o("b-img",{attrs:{src:"/images/"+t.form.brokerNo+".jpg",thumbnail:"",fluid:"",alt:"Fluid image"}})],1),o("input",{ref:"fileInput",staticClass:"file-input",attrs:{type:"file"},on:{input:t.onSelectFile}})])]),o("b-col",{staticClass:"image-position",attrs:{md:""}},[o("span",{staticStyle:{"text-align":"center"}},[t._v("Intro I")]),o("div",{attrs:{id:"preview"}},[""==t.form.contact1PersonId||null==t.form.contact1PersonId?o("b-img",t._b({attrs:{rounded:"top",alt:"Top-rounded image"}},"b-img",t.mainProps,!1)):o("b-img",{attrs:{src:"/images/"+t.form.contact1PersonId+".jpg",thumbnail:"",fluid:"",alt:"Fluid image"}})],1)]),o("b-col",{staticClass:"image-position",attrs:{md:""}},[o("span",{staticStyle:{"text-align":"center"}},[t._v("Intro II")]),o("div",{attrs:{id:"preview"}},[""==t.form.contact2PersonId||null==t.form.contact2PersonId?o("b-img",t._b({attrs:{rounded:"top",alt:"Top-rounded image"}},"b-img",t.mainProps,!1)):o("b-img",{attrs:{src:"/images/"+t.form.contact2PersonId+".jpg",thumbnail:"",fluid:"",alt:"Fluid image"}})],1)])],1)],1)],1),o("b-row",{staticStyle:{position:"sticky",bottom:"0","padding-top":"10px"},attrs:{"bg-variant":"light"}},[t.form.defaulter?o("b-col",{staticStyle:{"text-align":"center !important"},attrs:{md:""}},[t.$store.getters.isAdmin?o("b-button",{attrs:{variant:"success text-center",value:"activate"},on:{click:t.activateDefaulter}},[t._v("Activate Account")]):t._e(),t._v(" "),o("b-button",{attrs:{variant:"secondary text-center",value:"back"},on:{click:function(e){return t.$router.push({name:"Account",params:{search:t.search}})}}},[t._v("Back To Search")])],1):o("b-col",{staticStyle:{"text-align":"center !important"},attrs:{md:""}},[t.$store.getters.isAdmin?o("b-button",{attrs:{variant:"danger text-center",value:"default"},on:{click:t.makeDefaulter}},[t._v("Make Defaulter")]):t._e(),t._v(" "),o("b-button",{attrs:{variant:"primary text-center",value:"UpdateBooking"},on:{click:t.updateAccount}},[t._v("Update & GoTo Booking")]),t._v(" "),o("b-button",{attrs:{variant:"primary text-center",value:"Update"},on:{click:t.updateAccount}},[t._v("Update Account")]),t._v(" "),o("b-button",{attrs:{variant:"secondary text-center",value:"back"},on:{click:function(e){return t.$router.push({name:"Account",params:{search:t.search}})}}},[t._v("Back To Search")])],1)],1)],1),o("b-modal",{ref:"contactPersonModal",attrs:{size:"xl",centered:"",id:"modal-contactPerson","hide-header":"","hide-footer":""}},[o("b-card",{attrs:{title:"Contact Person Search"}},[o("b-row",[o("b-col",[o("b-form-group",{attrs:{id:"contactPersonLbl",label:"Intro By","label-for":"contactPerson"}},[o("div",{staticStyle:{display:"flex"}},[o("b-form-input",{attrs:{id:"contactPerson",placeholder:""},model:{value:t.contactPerson,callback:function(e){t.contactPerson=e},expression:"contactPerson"}}),o("b-button",{attrs:{variant:"primary",disabled:null==t.contactPerson||t.contactPerson.length<3},on:{click:t.searchContactPerson}},[o("b-icon",{attrs:{icon:"search","aria-hidden":"true"}}),o("span",{staticClass:"sr-only"},[t._v("Search")])],1)],1)])],1)],1),o("b-row",[o("b-col",[o("b-table",{ref:"selectableTable",attrs:{id:"accountSearchResult",selectable:"","select-mode":"single",items:t.items,fields:t.fields,"sticky-header":"true",responsive:""},on:{"row-dblclicked":t.onRowSelected},scopedSlots:t._u([{key:"cell(brokerName)",fn:function(e){return[o("div",{staticStyle:{"text-align":"left"}},[t._v(t._s(e.value))])]}},{key:"cell(brokerNo)",fn:function(e){return[o("div",{staticStyle:{"text-align":"left",width:"100px"}},[t._v(t._s(e.value))])]}},{key:"cell(mobileNo)",fn:function(e){return[o("div",{staticStyle:{"text-align":"left"}},[t._v(t._s(e.value))])]}},{key:"cell(addr1)",fn:function(e){return[o("div",{staticStyle:{"text-align":"left"}},[t._v(t._s(e.value))])]}},{key:"cell(addr2)",fn:function(e){return[o("div",{staticStyle:{"text-align":"left"}},[t._v(t._s(e.value))])]}},{key:"cell(addr3)",fn:function(e){return[o("div",{staticStyle:{"text-align":"left"}},[t._v(t._s(e.value))])]}},{key:"cell(town)",fn:function(e){return[o("div",{staticStyle:{"text-align":"left"}},[t._v(t._s(e.value))])]}},{key:"cell(image)",fn:function(e){return[o("div",[o("b-avatar",{staticClass:"align-baseline",staticStyle:{},attrs:{src:"/images/"+e.item.brokerNo+".jpg"}}),void 0!=e.item.bookings.find((function(t){return!0!==t.closed}))?o("span",{staticClass:"rounded-circle",staticStyle:{"background-color":"#73D500","vertical-align":"top",display:"inline-block",height:"10px",width:"10px"}}):t._e()],1)]}}])})],1)],1)],1)],1)],1)},Z=[],X={data:function(){return{search:"",url:"",dateDob:null,dow:null,dobOptions:{format:"DD/MM/YYYY",useCurrent:!1},imageData:null,custImage:null,mainProps:{blank:!0,blankColor:"#e0e0e0;",width:250,height:250,class:"m1"},genderOptions:["MALE","FEMALE"],occupationOptions:[],contactRelationOptions:[],nameState:null,form:{companyCode:null,brokerNo:null,brokerName:null,aadharNo:null,addr1:null,addr2:null,addr3:null,town:null,district:null,area:null,zipCode:null,otherPhones1:null,otherPhones2:null,mobileNo:null,email:null,dob:null,dow:null,occupation:null,age:null,gender:null,remarks:null,ownrent:!0,defaulter:!1,contactPerson1:null,contact1Mobile:null,contact1PersonId:null,contact1Relation:null,contactPerson2:null,contact2Mobile:null,contact2PersonId:null,contact2Relation:null,createdBy:null,updatedBy:null},fields:[{key:"image",label:"Identity",sortable:!1},{key:"brokerName",label:"Name",sortable:!0},{key:"brokerNo",label:"Acc No",sortable:!0},{key:"mobileNo",label:"Mobile No",sortable:!0},{key:"addr1",label:"Relation",sortable:!0},{key:"addr2",label:"Door No",sortable:!0},{key:"addr3",label:"Street",sortable:!0},{key:"town",label:"Town",sortable:!0}],items:[],contactPerson:null,contact1Person:!1,contact2Person:!1}},methods:{print:function(){window.print()},chooseImage:function(){this.$refs.fileInput.click()},onSelectFile:function(){var t=this,e=this.$refs.fileInput,o=e.files;if(this.custImage=o,o&&o[0]){var a=new FileReader;a.onload=function(e){t.imageData=e.target.result},a.readAsDataURL(o[0]),this.$emit("input",o[0])}},makeDefaulter:function(){var t=this,e=new FormData;e.append("brokerNo",this.form.brokerNo),e.append("compCode",this.form.companyCode),e.append("updatedBy",this.$store.state.user.username),e.append("status",!0),this.$bvModal.msgBoxConfirm("Please confirm that you want to Make Defaulter Account.",{title:"Confirmation",size:"sm",buttonSize:"sm",okVariant:"primary",cancelVariant:"danger",okTitle:"Proceed...",cancelTitle:"Cancel",footerClass:"p-2",hideHeaderClose:!1,centered:!0}).then((function(o){if(o){var a=t.$loading.show({loader:"dots",color:"red"});t.$http.post("/middleware/api/secured/update-broker-status",e).then((function(){a.hide(),t.$bvModal.msgBoxOk("Defaulted Successfully",{title:"Confirmation",size:"sm",buttonSize:"sm",okVariant:"info",headerClass:"p-2 border-bottom-0",footerClass:"p-2 border-top-0",centered:!0}).then((function(e){e&&t.getsSelectedAccount()})).catch((function(t){alert(t)}))})).catch((function(t){alert(t)})).finally((function(){}))}})).catch((function(t){alert(t)}))},activateDefaulter:function(){var t=this,e=new FormData;e.append("brokerNo",this.form.brokerNo),e.append("compCode",this.form.companyCode),e.append("updatedBy",this.$store.state.user.username),e.append("status",!1),this.$bvModal.msgBoxConfirm("Please confirm that you want to Activate Account.",{title:"Confirmation",size:"sm",buttonSize:"sm",okVariant:"primary",cancelVariant:"danger",okTitle:"Proceed...",cancelTitle:"Cancel",footerClass:"p-2",hideHeaderClose:!1,centered:!0}).then((function(o){if(o){var a=t.$loading.show({loader:"dots",color:"green"});t.$http.post("/middleware/api/secured/update-broker-status",e).then((function(){a.hide(),t.$bvModal.msgBoxOk("Activated Successfully",{title:"Confirmation",size:"sm",buttonSize:"sm",okVariant:"info",headerClass:"p-2 border-bottom-0",footerClass:"p-2 border-top-0",centered:!0}).then((function(e){e&&t.getsSelectedAccount()})).catch((function(t){alert(t)}))})).catch((function(t){alert(t)})).finally((function(){}))}})).catch((function(t){alert(t)}))},searchContact1Person:function(){this.contact1Person=!0,this.contactPerson=this.form.contactPerson1,this.contact2Person=!1,this.showContactModal()},searchContact2Person:function(){this.contact1Person=!1,this.contactPerson=this.form.contactPerson2,this.contact2Person=!0,this.showContactModal()},searchContactPerson:function(){var t=this,e=this.contactPerson.toUpperCase();e=e.replace(/\//g,"+"),this.$http.get("/middleware/api/secured/get-broker-Lst/"+encodeURIComponent(e.toUpperCase())+"/"+this.$store.state.selectedCompany.value).then((function(e){t.items=e.data})).catch((function(t){alert(t)})).finally((function(){}))},showContactModal:function(){var t=this,e=this.$loading.show({loader:"bars",color:"green"}),o=this.contactPerson.toUpperCase();o=o.replace(/\//g,"+"),this.$http.get("/middleware/api/secured/get-broker-Lst/"+encodeURIComponent(o.toUpperCase())+"/"+this.$store.state.selectedCompany.value).then((function(o){t.items=o.data,e.hide(),t.$bvModal.show("modal-contactPerson")})).catch((function(t){alert(t)})).finally((function(){}))},onRowSelected:function(t){this.$bvModal.hide("modal-contactPerson"),this.contact1Person&&(this.form.contactPerson1=t.brokerName,this.form.contact1PersonId=t.brokerNo,this.form.contact1Mobile=t.mobileNo),this.contact2Person&&(this.form.contactPerson2=t.brokerName,this.form.contact2PersonId=t.brokerNo,this.form.contact2Mobile=t.mobileNo)},checkFormValidity:function(){var t=this.$refs.form.checkValidity();return this.nameState=t,t},updateAccount:function(){var t=this,e=event.srcElement.value;if(this.checkFormValidity()){var o=new FormData;this.form.updatedBy=this.$store.state.user.username,o.append("form",JSON.stringify(this.form)),null!=this.custImage&&this.custImage.length>0?o.append("file",this.custImage[0]):o.append("file",null),this.$bvModal.msgBoxConfirm("Please confirm that you want to Update Account.",{title:"Confirmation",size:"sm",buttonSize:"sm",okVariant:"primary",cancelVariant:"danger",okTitle:"Proceed...",cancelTitle:"Cancel",footerClass:"p-2",hideHeaderClose:!1,centered:!0}).then((function(a){if(a){var r=t.$loading.show({loader:"dots",color:"green"});t.$http.post("/middleware/api/secured/update-broker",o).then((function(){r.hide(),t.$bvModal.msgBoxOk("Updated Account",{title:"Confirmation",size:"sm",buttonSize:"sm",okVariant:"info",headerClass:"p-2 border-bottom-0",footerClass:"p-2 border-top-0",centered:!0}).then((function(o){if(o)if("Update"==e)t.getsSelectedAccount();else if("UpdateBooking"==e){var a=t.form.brokerNo;t.$router.push({name:"BookingsView",params:{brokerNo:a,search:t.accountSearch}})}})).catch((function(t){alert(t)}))})).catch((function(t){alert(t)})).finally((function(){}))}})).catch((function(t){alert(t)}))}},getsSelectedAccount:function(){var t=this,e=this.$loading.show({loader:"bars",color:"green"});this.$http.get("/middleware/api/secured/get-broker/"+this.form.brokerNo+"/"+this.$store.state.selectedCompany.value).then((function(o){e.hide(),null!=o.data&&""!=o.data?(t.dateDob=t.converteMongoToDate(o.data.dob),t.dow=t.converteMongoToDate(o.data.dow),o.data.dow=W()(t.dow,"YYYY-MM-DD"),o.data.createdDt=null,o.data.updatedDt=null,o.data.bookings=null,t.form=o.data):t.$bvModal.msgBoxOk("Please select proper user",{title:"Wrong Information Provided",size:"sm",buttonSize:"sm",okVariant:"danger",headerClass:"p-2 border-bottom-0",footerClass:"p-2 border-top-0",centered:!0}).then((function(e){e&&t.$router.push("/account")})).catch((function(t){alert(t)}))})).catch((function(t){alert(t)})).finally((function(){}))},converteMongoToDate:function(t){if(null!=t){var e=W.a.utc();return e.set("year",t.year),e.set("month",t.month),e.set("date",t.dayOfMonth),e.startOf("day"),e.format("DD/MM/YYYY")}return null}},mounted:function(){this.occupationOptions=this.$store.state.master.typeOfOccupation,this.contactRelationOptions=this.$store.state.master.typeOfRelation,this.form.companyCode=this.$store.state.selectedCompany.value,this.getsSelectedAccount()},computed:{dob:function(){return this.form.dob}},watch:{dateDob:function(){var t=W()();this.form.dob=W()(this.dateDob,"DD/MM/YYYY");var e=t.diff(this.form.dob,"years");this.form.age=e}},created:function(){this.form.brokerNo=this.$route.params.brokerNo,this.search=this.$route.params.search}},tt=X,et=(o("d3af"),Object(l["a"])(tt,Q,Z,!1,null,"6ee6f7b7",null)),ot=et.exports,at=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("b-card",[o("b-row",[o("b-col",[o("span",{staticClass:"my-card-heading"},[t._v("BOOKINGS SEARCH")])])],1),o("b-row",[o("b-col",{attrs:{md:""}},[o("form",{ref:"form",on:{submit:function(t){t.stopPropagation(),t.preventDefault()}}},[o("b-row",{staticClass:"my-1"},[o("b-col",{staticStyle:{"padding-top":"10px"},attrs:{md:"",sm:"2"}},[o("label",{attrs:{for:"accountSearch"}},[o("strong",[t._v("Bookings Search:")])])]),o("b-col",{staticStyle:{display:"flex","padding-left":"0px"},attrs:{sm:"10",md:"9"}},[o("b-form-input",{staticStyle:{"text-transform":"uppercase","margin-right":"3px"},attrs:{id:"accountSearch",size:"lg"},model:{value:t.accountSearch,callback:function(e){t.accountSearch=e},expression:"accountSearch"}}),o("b-button",{attrs:{variant:"primary",disabled:!(null!==t.accountSearch&&t.accountSearch.length>=3)},on:{click:t.searchAccount}},[o("b-icon",{attrs:{icon:"search","aria-hidden":"true"}}),o("span",{staticClass:"sr-only"},[t._v("Search")])],1)],1)],1)],1)])],1),o("b-row",[o("b-col",[o("b-card",[o("b-row",[o("b-col",{staticStyle:{"max-width":"260px"},attrs:{md:"3"}},[o("b-card-title",{staticStyle:{"text-align":"left",width:"260px"}},[t._v("Booking Found ("+t._s(t.totalRows)+")")])],1),o("b-col",{attrs:{md:"3"}},[o("b-form-input",{staticStyle:{"margin-right":"10px",display:"inline-flex"},attrs:{size:"sm",readonly:t.totalRows<1,placeholder:"ðŸ”  Search..."},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})],1),o("b-col",{staticStyle:{"padding-right":"0px"},attrs:{md:"6"}},[o("b-button",{staticStyle:{float:"right","margin-left":"4px"},attrs:{disabled:""==t.selected,variant:"primary"},on:{click:function(e){return t.$router.push({name:"UpdateAccount",params:{brokerNo:t.selected[0].brokerNo,search:t.accountSearch}})}}},[t._v("GoTo Account ")]),o("b-button",{staticStyle:{float:"right"},attrs:{variant:"primary",disabled:""==t.selected},on:{click:t.editBookings}},[o("b-icon",{attrs:{icon:"pencil","aria-hidden":"true"}}),o("span",{staticClass:"sr-only"},[t._v("pencil")]),t._v("Edit Bookings ")],1),o("b-button",{staticStyle:{float:"right","margin-right":"4px"},attrs:{disabled:""==t.selected,variant:"primary"},on:{click:function(e){return t.$router.push({name:"CreateBooking",params:{brokerNo:t.selected[0].brokerNo,search:t.accountSearch}})}}},[t._v("Create Booking ")])],1)],1),o("b-table",{ref:"selectableTable",attrs:{id:"accountSearchResult",selectable:"",filter:t.filter,"select-mode":"single",items:t.items,fields:t.fields,"sticky-header":"true",responsive:""},on:{filtered:t.onFiltered,"row-selected":t.onRowSelected},scopedSlots:t._u([{key:"cell(brokerName)",fn:function(e){return[o("div",{staticStyle:{"text-align":"left"}},[t._v(t._s(e.value))])]}},{key:"cell(activeCount)",fn:function(e){return[e.value>0?o("div",{staticClass:"count-color"},[o("strong",[t._v(t._s(e.value))])]):o("div",{staticStyle:{"text-align":"center"}},[t._v(t._s(e.value))])]}},{key:"cell(total)",fn:function(e){return[o("div",[o("strong",[t._v(t._s(e.value))])])]}},{key:"cell(pendingCount)",fn:function(e){return[e.value>0?o("div",{staticClass:"count-color",staticStyle:{"background-color":"#ffc107"}},[o("strong",[t._v(t._s(e.value))])]):o("div",{staticStyle:{"text-align":"center"}},[t._v(t._s(e.value))])]}},{key:"cell(auctionedCount)",fn:function(e){return[e.value>0?o("div",{staticClass:"count-color",staticStyle:{"background-color":"#dc3545"}},[o("strong",[t._v(t._s(e.value))])]):o("div",{staticStyle:{"text-align":"center"}},[t._v(t._s(e.value))])]}},{key:"cell(closedCount)",fn:function(e){return[e.value>0?o("div",{staticClass:"count-color",staticStyle:{"background-color":"#17a2b8"}},[o("strong",[t._v(t._s(e.value))])]):o("div",{staticStyle:{"text-align":"center"}},[t._v(t._s(e.value))])]}},{key:"cell(brokerNo)",fn:function(e){return[o("div",{staticStyle:{"text-align":"left",width:"100px"}},[t._v(t._s(e.value))])]}},{key:"cell(image)",fn:function(e){return[o("div",[o("b-avatar",{staticClass:"align-baseline",attrs:{src:"/images/"+e.item.brokerNo+".jpg"},on:{click:function(o){return t.openImage(e.item.brokerNo)}}}),e.item.activeCount>0?o("span",{staticClass:"rounded-circle",staticStyle:{"background-color":"#73D500","vertical-align":"top",display:"inline-block",height:"10px",width:"10px"}}):t._e()],1)]}}])})],1)],1)],1),o("b-modal",{ref:"imageModal",attrs:{id:"modal-image",size:"sm","hide-header":"","hide-footer":""}},[o("b-row",[o("b-col",[o("b-img",{attrs:{src:"/images/"+t.showImg+".jpg",thumbnail:"",fluid:"",alt:"Fluid image"}})],1)],1),o("b-row",{staticStyle:{"margin-top":"5px"}},[o("b-col",{staticStyle:{"text-align":"center !important"}},[o("b-button",{attrs:{variant:"danger text-center"},on:{click:function(e){return t.$bvModal.hide("modal-image")}}},[t._v("Close")])],1)],1)],1)],1)},rt=[],nt=(o("99af"),{data:function(){return{selected:"",showImg:"",filter:null,totalRows:0,accountSearch:null,fields:[{key:"image",label:"Identity",sortable:!1},{key:"brokerName",label:"Name",sortable:!0},{key:"brokerNo",label:"Acc No",sortable:!0},{key:"activeCount",label:"Active Bookings",sortable:!0},{key:"pendingCount",label:"Pending Bookings",sortable:!0},{key:"auctionedCount",label:"Auctioned Bookings",sortable:!0},{key:"closedCount",label:"Closed Bookings",sortable:!0},{key:"total",label:"Total Bookings",sortable:!0}],items:[]}},methods:{editBookings:function(){var t=this.selected[0].brokerNo;this.$router.push({name:"BookingsView",params:{brokerNo:t,search:this.accountSearch}})},onRowSelected:function(t){this.selected=t},onFiltered:function(t){this.totalRows=t.length},openImage:function(t){this.showImg=t,this.$bvModal.show("modal-image")},searchAccount:function(){var t=this,e=this.$loading.show({loader:"dots",color:"green"}),o=this.accountSearch.toUpperCase();o=o.replace(/\//g,"+"),this.$http.get("/middleware/api/secured/get-booking-Lst/"+encodeURIComponent(o.toUpperCase())+"/"+this.$store.state.selectedCompany.value).then((function(o){var a=o.data.actualResults,r=o.data.emptyResults;r.length>0&&(a=o.data.actualResults.concat(o.data.emptyResults)),a.forEach((function(t){t.defaulter&&(t._rowVariant="danger")})),t.items=a,t.totalRows=t.items.length,e.hide()})).catch((function(t){alert(t)})).finally((function(){}))}},mounted:function(){void 0!=this.accountSearch&&""!=this.accountSearch&&this.searchAccount()},created:function(){this.$route.params.search&&(this.accountSearch=this.$route.params.search)}}),st=nt,it=(o("5a3d"),Object(l["a"])(st,at,rt,!1,null,"844f50ec",null)),lt=it.exports,ct=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("b-card",{style:{"background-color":t.form.defaulter?"red":"azure"}},[o("b-row",[o("b-col",[o("span",{staticClass:"my-card-heading"},[t._v("BOOKINGS VIEW")])])],1),o("b-row",[o("b-col",{attrs:{md:"10"}},[o("b-row",[o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"2"}},[o("b-form-group",{attrs:{id:"brokerNoLbl",label:"A/C Code","label-for":"brokerNo"}},[o("b-form-input",{attrs:{id:"brokerNo",required:"",disabled:""},model:{value:t.form.brokerNo,callback:function(e){t.$set(t.form,"brokerNo",e)},expression:"form.brokerNo"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"3"}},[o("b-form-group",{attrs:{id:"brokerNameLbl",label:"Name","invalid-feedback":"Name is Required","label-for":"brokerName"}},[o("b-form-input",{attrs:{id:"brokerName",required:"",disabled:""},model:{value:t.form.brokerName,callback:function(e){t.$set(t.form,"brokerName",e)},expression:"form.brokerName"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"1"}},[o("b-form-group",{attrs:{id:"ageLbl",label:"Age","label-for":"age"}},[o("b-form-input",{attrs:{id:"age",disabled:"",placeholder:""},model:{value:t.form.age,callback:function(e){t.$set(t.form,"age",e)},expression:"form.age"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:""}},[o("b-form-group",{attrs:{id:"addr1Lbl",label:"Mother/Father/Husband","label-for":"addr1"}},[o("b-form-input",{attrs:{id:"addr1",disabled:""},model:{value:t.form.addr1,callback:function(e){t.$set(t.form,"addr1",e)},expression:"form.addr1"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:""}},[o("b-form-group",{attrs:{id:"occupationLbl",label:"Occupation","label-for":"occupation"}},[o("b-form-input",{attrs:{id:"occupation",disabled:"",placeholder:""},model:{value:t.form.occupation,callback:function(e){t.$set(t.form,"occupation",e)},expression:"form.occupation"}})],1)],1)],1),o("b-row",[o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"mobileNoLbl",label:"Mobile No","label-for":"mobileNo"}},[o("b-form-input",{attrs:{id:"mobileNo",disabled:""},model:{value:t.form.mobileNo,callback:function(e){t.$set(t.form,"mobileNo",e)},expression:"form.mobileNo"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"contactPerson1Lbl",label:"Intro By I","label-for":"contactPerson1"}},[o("b-form-input",{attrs:{id:"contactPerson1",disabled:"",placeholder:""},model:{value:t.form.contactPerson1,callback:function(e){t.$set(t.form,"contactPerson1",e)},expression:"form.contactPerson1"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"contactPerson2Lbl",label:"Intro By II","label-for":"contactPerson2"}},[o("b-form-input",{attrs:{id:"contactPerson2",disabled:"",placeholder:""},model:{value:t.form.contactPerson2,callback:function(e){t.$set(t.form,"contactPerson2",e)},expression:"form.contactPerson2"}})],1)],1)],1),o("b-row",[o("b-col",{attrs:{md:""}},[o("b-button",{staticStyle:{float:"right","margin-right":"4px"},attrs:{variant:"secondary text-center",value:"back"},on:{click:function(e){return t.$router.push({name:"Account",params:{search:t.search}})}}},[t._v("Back To Account Search")]),o("b-button",{staticStyle:{float:"right","margin-right":"4px"},attrs:{variant:"secondary text-center",value:"back"},on:{click:function(e){return t.$router.push({name:"Bookings",params:{search:t.search}})}}},[t._v("Back To Booking Search")]),o("b-button",{staticStyle:{float:"right","margin-right":"4px"},attrs:{variant:"primary"},on:{click:t.editAccount}},[t._v("Modify Account Info")]),o("b-button",{staticStyle:{float:"right","margin-right":"4px"},attrs:{variant:"primary"},on:{click:function(e){return t.$router.push({name:"CreateBooking",params:{brokerNo:t.form.brokerNo,search:""}})}}},[t._v("Create Booking")])],1)],1)],1),o("b-col",{staticClass:"image-position",staticStyle:{"margin-top":"0px"},attrs:{md:""}},[o("div",{attrs:{id:"preview"}},[null!=t.form.brokerNo?o("b-img",{attrs:{width:"150px",height:"150px",src:"/images/"+t.form.brokerNo+".jpg",alt:"Fluid image"}}):t._e()],1)])],1)],1),o("b-card",{attrs:{"no-body":""}},[o("b-tabs",{attrs:{card:""},model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},[o("b-tab",{attrs:{id:"active"},scopedSlots:t._u([{key:"title",fn:function(){return[o("span",{staticStyle:{color:"#28a745"}},[t._v(" ACTIVE ("),o("strong",{staticStyle:{color:"#007bff"}},[t._v(t._s(t.form.runningAccounts.length))]),t._v(") ")])]},proxy:!0}])},[o("b-table",{attrs:{"sticky-header":"true",responsive:"",selectable:"","select-mode":"single",fields:t.fields,"sort-by":t.sortBy,"sort-desc":t.sortDesc,items:t.form.runningAccounts},on:{"row-dblclicked":t.selectedBooking,"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(bookingDate)",fn:function(e){return[o("div",[t._v(t._s(t.converteMongoToDate(e.value)))])]}},{key:"cell(lastTransDate)",fn:function(e){return[o("div",[t._v(t._s(t.converteMongoToDate(e.value)))])]}},{key:"cell(closedDate)",fn:function(e){return[o("div",[t._v(t._s(t.converteMongoToDate(e.value)))])]}},{key:"cell(dueDate)",fn:function(e){return[o("div",[t._v(t._s(t.converteMongoToDate(e.value)))])]}},{key:"cell(actualAmount)",fn:function(e){return[o("div",[t._v(t._s(t.formatter.format(e.value)))])]}},{key:"cell(totalPrinciplePaid)",fn:function(e){return[o("div",[t._v(t._s(t.formatter.format(e.value)))])]}},{key:"cell(totalIntrestPaid)",fn:function(e){return[o("div",[t._v(t._s(t.formatter.format(e.value)))])]}}])})],1),o("b-tab",{attrs:{id:"current"},scopedSlots:t._u([{key:"title",fn:function(){return[o("span",{staticStyle:{color:"#007bff"}},[t._v(" CURRENT ("),o("strong",{staticStyle:{color:"#007bff"}},[t._v(t._s(t.form.activeBookings.length))]),t._v(") ")])]},proxy:!0}])},[o("b-table",{attrs:{"sticky-header":"true",responsive:"",selectable:"","select-mode":"single",fields:t.fields,"sort-by":t.sortBy,"sort-desc":t.sortDesc,items:t.form.activeBookings},on:{"row-dblclicked":t.selectedBooking,"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(bookingDate)",fn:function(e){return[o("div",[t._v(t._s(t.converteMongoToDate(e.value)))])]}},{key:"cell(lastTransDate)",fn:function(e){return[o("div",[t._v(t._s(t.converteMongoToDate(e.value)))])]}},{key:"cell(closedDate)",fn:function(e){return[o("div",[t._v(t._s(t.converteMongoToDate(e.value)))])]}},{key:"cell(dueDate)",fn:function(e){return[o("div",[t._v(t._s(t.converteMongoToDate(e.value)))])]}},{key:"cell(actualAmount)",fn:function(e){return[o("div",[t._v(t._s(t.formatter.format(e.value)))])]}},{key:"cell(totalPrinciplePaid)",fn:function(e){return[o("div",[t._v(t._s(t.formatter.format(e.value)))])]}},{key:"cell(totalIntrestPaid)",fn:function(e){return[o("div",[t._v(t._s(t.formatter.format(e.value)))])]}}])})],1),o("b-tab",{attrs:{id:"pending"},scopedSlots:t._u([{key:"title",fn:function(){return[o("span",{staticStyle:{color:"orange"}},[t._v(" PENDING ("),o("strong",{staticStyle:{color:"#007bff"}},[t._v(t._s(t.form.pendingBookings.length))]),t._v(") ")])]},proxy:!0}])},[o("b-table",{attrs:{"sticky-header":"true",responsive:"",selectable:"","select-mode":"single",fields:t.fields,"sort-by":t.sortBy,"sort-desc":t.sortDesc,items:t.form.pendingBookings},on:{"row-dblclicked":t.selectedBooking,"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(bookingDate)",fn:function(e){return[o("div",[t._v(t._s(t.converteMongoToDate(e.value)))])]}},{key:"cell(closedDate)",fn:function(e){return[o("div",[t._v(t._s(t.converteMongoToDate(e.value)))])]}},{key:"cell(lastTransDate)",fn:function(e){return[o("div",[t._v(t._s(t.converteMongoToDate(e.value)))])]}},{key:"cell(dueDate)",fn:function(e){return[o("div",[t._v(t._s(t.converteMongoToDate(e.value)))])]}},{key:"cell(actualAmount)",fn:function(e){return[o("div",[t._v(t._s(t.formatter.format(e.value)))])]}},{key:"cell(totalPrinciplePaid)",fn:function(e){return[o("div",[t._v(t._s(t.formatter.format(e.value)))])]}},{key:"cell(totalIntrestPaid)",fn:function(e){return[o("div",[t._v(t._s(t.formatter.format(e.value)))])]}}])})],1),o("b-tab",{attrs:{id:"auctioned"},scopedSlots:t._u([{key:"title",fn:function(){return[o("span",{staticStyle:{color:"red"}},[t._v(" AUCTIONED ("),o("strong",{staticStyle:{color:"#007bff"}},[t._v(t._s(t.form.auctionedBookings.length))]),t._v(") ")])]},proxy:!0}])},[o("b-table",{attrs:{"sticky-header":"true",responsive:"",selectable:"","select-mode":"single",fields:t.fields,"sort-by":t.sortBy,"sort-desc":t.sortDesc,items:t.form.auctionedBookings},on:{"row-dblclicked":t.selectedBooking,"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(bookingDate)",fn:function(e){return[o("div",[t._v(t._s(t.converteMongoToDate(e.value)))])]}},{key:"cell(closedDate)",fn:function(e){return[o("div",[t._v(t._s(t.converteMongoToDate(e.value)))])]}},{key:"cell(lastTransDate)",fn:function(e){return[o("div",[t._v(t._s(t.converteMongoToDate(e.value)))])]}},{key:"cell(dueDate)",fn:function(e){return[o("div",[t._v(t._s(t.converteMongoToDate(e.value)))])]}},{key:"cell(actualAmount)",fn:function(e){return[o("div",[t._v(t._s(t.formatter.format(e.value)))])]}},{key:"cell(totalPrinciplePaid)",fn:function(e){return[o("div",[t._v(t._s(t.formatter.format(e.value)))])]}},{key:"cell(totalIntrestPaid)",fn:function(e){return[o("div",[t._v(t._s(t.formatter.format(e.value)))])]}}])})],1),o("b-tab",{attrs:{id:"closed"},scopedSlots:t._u([{key:"title",fn:function(){return[o("span",{staticStyle:{color:"black"}},[t._v(" CLOSED ("),o("strong",[t._v(t._s(t.form.closedBookings.length))]),t._v(") ")])]},proxy:!0}])},[o("b-table",{attrs:{"sticky-header":"true",responsive:"",selectable:"","select-mode":"single",fields:t.fields,"sort-by":t.sortBy,"sort-desc":t.sortDesc,items:t.form.closedBookings},on:{"row-dblclicked":t.selectedBooking,"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(bookingDate)",fn:function(e){return[o("div",[t._v(t._s(t.converteMongoToDate(e.value)))])]}},{key:"cell(lastTransDate)",fn:function(e){return[o("div",[t._v(t._s(t.converteMongoToDate(e.value)))])]}},{key:"cell(closedDate)",fn:function(e){return[o("div",[t._v(t._s(t.converteMongoToDate(e.value)))])]}},{key:"cell(dueDate)",fn:function(e){return[o("div",[t._v(t._s(t.converteMongoToDate(e.value)))])]}},{key:"cell(actualAmount)",fn:function(e){return[o("div",[t._v(t._s(t.formatter.format(e.value)))])]}},{key:"cell(totalPrinciplePaid)",fn:function(e){return[o("div",[t._v(t._s(t.formatter.format(e.value)))])]}},{key:"cell(totalIntrestPaid)",fn:function(e){return[o("div",[t._v(t._s(t.formatter.format(e.value)))])]}}])})],1)],1)],1)],1)},dt=[],ut=o("2909"),mt={data:function(){return{tabIndex:0,brokerNo:null,formatter:"",search:"",form:{brokerNo:null,brokerName:null,otherPhones1:null,otherPhones2:null,mobileNo:null,occupation:null,age:55,auctionedBookings:[],closedBookings:[],activeBookings:[],pendingBookings:[],runningAccounts:[]},fields:[{key:"bookingDate",label:"Booking Date",sortable:!0},{key:"dueDate",label:"Due Date",sortable:!0},{key:"lastTransDate",label:"Last Transaction Date",sortable:!0},{key:"bookingNo",label:"Booking No",sortable:!0},{key:"tranType",label:"Transaction Type",sortable:!1},{key:"loanType",label:"Loan Type",sortable:!1},{key:"actualAmount",label:"Issue Amount",sortable:!0},{key:"totalPrinciplePaid",label:"Principle Paid",sortable:!0},{key:"totalIntrestPaid",label:"Intrest Paid",sortable:!0},{key:"closedDate",label:"Closed Date",sortable:!0},{key:"totalTrans",label:"Total Transactions",sortable:!0}],sortBy:"bookingDate",sortDesc:!1}},methods:{converteMongoToDate:function(t){if(null!=t&&t&&""!=t){var e=W()(t);return e.format("DD/MM/YYYY")}return null},getsSelectedBroker:function(){var t=this,e=this.$loading.show({loader:"bars",color:"green"});null!=this.brokerNo&&""!==this.brokerNo?this.$http.get("/middleware/api/secured/get-broker-booking-Lst/"+this.brokerNo+"/"+this.$store.state.selectedCompany.value).then((function(o){if(e.hide(),null!=o.data&&""!=o.data){var a=[].concat(Object(ut["a"])(o.data.actualResults[0].activeBookings),Object(ut["a"])(o.data.actualResults[0].pendingBookings));o.data.actualResults[0].runningAccounts=a,t.form=o.data.actualResults[0]}})).catch((function(t){alert(t)})).finally((function(){})):(e.hide(),this.$bvModal.msgBoxOk("Please select proper user",{title:"Wrong Information Provided",size:"sm",buttonSize:"sm",okVariant:"danger",headerClass:"p-2 border-bottom-0",footerClass:"p-2 border-top-0",centered:!0}).then((function(e){e&&t.$router.push("/bookings")})).catch((function(t){alert(t)})))},editAccount:function(){var t=this.brokerNo;this.$router.push({name:"UpdateAccount",params:{brokerNo:t,search:this.search}})},selectedBooking:function(t){this.$router.push({name:"ViewModifyBooking",params:{req:{brokerNo:this.brokerNo,companyCode:this.$store.state.selectedCompany.value,bookingNo:t.bookingNo}}})}},mounted:function(){this.formatter=new Intl.NumberFormat("en-IN"),this.getsSelectedBroker()},created:function(){this.brokerNo=this.$route.params.brokerNo,this.search=this.$route.params.search}},bt=mt,ft=Object(l["a"])(bt,ct,dt,!1,null,null,null),pt=ft.exports,ht=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("b-card",{style:{"background-color":t.form.defaulter?"red":"azure"}},[o("b-row",[o("b-col",[o("span",{staticClass:"my-card-heading"},[t._v("CREATE BOOKING")])])],1),o("b-row",[o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"1"}},[o("b-form-group",{attrs:{id:"brokerNoLbl",label:"A/C Code","label-for":"brokerNo"}},[o("b-form-input",{attrs:{id:"brokerNo",required:"",disabled:""},model:{value:t.header.brokerNo,callback:function(e){t.$set(t.header,"brokerNo",e)},expression:"header.brokerNo"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"3"}},[o("b-form-group",{attrs:{id:"brokerNameLbl",label:"Name","invalid-feedback":"Name is Required","label-for":"brokerName"}},[o("b-form-input",{attrs:{id:"brokerName",required:"",disabled:""},model:{value:t.header.brokerName,callback:function(e){t.$set(t.header,"brokerName",e)},expression:"header.brokerName"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"1"}},[o("b-form-group",{attrs:{id:"ageLbl",label:"Age","label-for":"age"}},[o("b-form-input",{attrs:{id:"age",disabled:"",placeholder:""},model:{value:t.header.age,callback:function(e){t.$set(t.header,"age",e)},expression:"header.age"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:""}},[o("b-form-group",{attrs:{id:"addr1Lbl",label:"Mother/Father/Husband","label-for":"addr1"}},[o("b-form-input",{attrs:{id:"addr1",disabled:""},model:{value:t.header.addr1,callback:function(e){t.$set(t.header,"addr1",e)},expression:"header.addr1"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:""}},[o("b-form-group",{attrs:{id:"occupationLbl",label:"Occupation","label-for":"occupation"}},[o("b-form-input",{attrs:{id:"occupation",disabled:"",placeholder:""},model:{value:t.header.occupation,callback:function(e){t.$set(t.header,"occupation",e)},expression:"header.occupation"}})],1)],1),o("b-col",{attrs:{md:"2"}},[o("b-form-group",{attrs:{id:"mobileNoLbl",label:"Mobile No","label-for":"mobileNo"}},[o("b-form-input",{attrs:{id:"mobileNo",disabled:""},model:{value:t.header.mobileNo,callback:function(e){t.$set(t.header,"mobileNo",e)},expression:"header.mobileNo"}})],1)],1)],1),o("b-row",[o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"contactPerson1Lbl",label:"Intro By I","label-for":"contactPerson1"}},[o("b-form-input",{attrs:{id:"contactPerson1",disabled:"",placeholder:""},model:{value:t.header.contactPerson1,callback:function(e){t.$set(t.header,"contactPerson1",e)},expression:"header.contactPerson1"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"contactPerson2Lbl",label:"Intro By II","label-for":"contactPerson2"}},[o("b-form-input",{attrs:{id:"contactPerson2",disabled:"",placeholder:""},model:{value:t.header.contactPerson2,callback:function(e){t.$set(t.header,"contactPerson2",e)},expression:"header.contactPerson2"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"addr2Lbl",label:"Door No","label-for":"addr2"}},[o("b-form-input",{attrs:{id:"addr2",disabled:""},model:{value:t.header.addr2,callback:function(e){t.$set(t.header,"addr2",e)},expression:"header.addr2"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"addr3Lbl",label:"Street","label-for":"addr3"}},[o("b-form-input",{attrs:{id:"addr3",disabled:""},model:{value:t.header.addr3,callback:function(e){t.$set(t.header,"addr3",e)},expression:"header.addr3"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"areaLbl",label:"Area","label-for":"area"}},[o("b-form-input",{attrs:{id:"area",disabled:""},model:{value:t.header.area,callback:function(e){t.$set(t.header,"area",e)},expression:"header.area"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"townLbl",label:"Town","label-for":"town"}},[o("b-form-input",{attrs:{id:"town",disabled:""},model:{value:t.header.town,callback:function(e){t.$set(t.header,"town",e)},expression:"header.town"}})],1)],1)],1)],1),o("b-card",{staticStyle:{"background-color":"azure"}},[o("b-form",{ref:"form",on:{submit:function(t){t.stopPropagation(),t.preventDefault()}}},[o("b-row",[o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"2"}},[o("b-form-group",{attrs:{id:"bookingDateLbl",label:"Booking Date","label-for":"bookingDate"}},[o("date-picker",{class:{"is-invalid":t.attemptSubmit&&t.bookingDateVal},attrs:{config:t.bookingOptions,placeholder:"DD/MM/YYYY"},model:{value:t.bookingDate,callback:function(e){t.bookingDate=e},expression:"bookingDate"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"2"}},[o("b-form-group",{attrs:{id:"bookingNoLbl",label:"Booking No","label-for":"bookingNo"}},[o("b-form-input",{class:{"is-invalid":t.attemptSubmit&&t.bookingNoVal},attrs:{id:"bookingNo",required:""},model:{value:t.form.bookingNo,callback:function(e){t.$set(t.form,"bookingNo",e)},expression:"form.bookingNo"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"2"}},[o("b-form-group",{attrs:{id:"tranTypeLbl",label:"Tranaction Type","label-for":"tranType"}},[o("b-form-select",{class:{"is-invalid":t.attemptSubmit&&t.tranTypeVal},attrs:{id:"tranType"},on:{change:t.changeTransType},model:{value:t.selectedTrans,callback:function(e){t.selectedTrans=e},expression:"selectedTrans"}},t._l(t.typeOfLoans,(function(e,a){return o("option",{key:a,domProps:{value:a}},[t._v(t._s(e.label))])})),0)],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"2"}},[o("b-form-group",{attrs:{id:"loanTypeLbl",label:"Loan Type","label-for":"loanType"}},[o("b-form-select",{class:{"is-invalid":t.attemptSubmit&&t.loanTypeVal},attrs:{id:"loanType",disabled:t.loanOptions.length<=0},on:{change:t.changeLoanType},model:{value:t.form.loanType,callback:function(e){t.$set(t.form,"loanType",e)},expression:"form.loanType"}},t._l(t.loanOptions,(function(e,a){return o("option",{key:a,domProps:{value:e}},[t._v(t._s(e))])})),0)],1),o("div",{staticClass:"invalid-feedback"},[t._v("This Field Required")])],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"4"}},[o("b-form-group",{staticStyle:{color:"red"},attrs:{id:"remarksLbl",label:"Remarks","label-for":"remarks"}},[o("b-form-input",{attrs:{id:"remarks"},model:{value:t.form.remarks,callback:function(e){t.$set(t.form,"remarks",e)},expression:"form.remarks"}})],1)],1)],1),null!=t.form.tranType&&"Issue"==t.form.tranType&&null!=t.form.loanType&&"DOCUMENT"!=t.form.loanType&&"INSECURE"!=t.form.loanType?o("b-row",[o("b-col",{attrs:{md:"3"}},[o("b-form-group",{attrs:{id:"multiLbl",label:"Add/Delete Items","label-for":"multi"}},[o("multiselect",{attrs:{options:t.typeOfItems,multiple:!0,taggable:!0},on:{select:t.selectedItem,remove:t.removedItem},model:{value:t.multiItems,callback:function(e){t.multiItems=e},expression:"multiItems"}})],1)],1),o("b-col",{attrs:{md:"9"}},[o("b-table-simple",{attrs:{hover:"",small:"","caption-top":"",responsive:""}},[o("b-thead",{attrs:{"head-variant":"primary"}},[o("b-tr",[o("b-th",{staticStyle:{"background-color":"#ffc107"},attrs:{colspan:"1"}},[t._v("SNo")]),o("b-th",{staticStyle:{"background-color":"#ffc107"},attrs:{colspan:"4"}},[t._v("Item")]),o("b-th",{staticStyle:{"background-color":"#ffc107"},attrs:{colspan:"1"}},[t._v("Quantity")]),o("b-th",{staticStyle:{"background-color":"#ffc107"},attrs:{colspan:"1"}},[t._v("Gross Weight")]),o("b-th",{staticStyle:{"background-color":"#ffc107"},attrs:{colspan:"1"}},[t._v("Net Weight")]),o("b-th",{staticStyle:{"background-color":"#ffc107"},attrs:{colspan:"2"}},[t._v("UMO")]),o("b-th",{staticStyle:{"background-color":"#ffc107"},attrs:{colspan:"2"}},[t._v("Remarks")])],1)],1),o("b-tbody",t._l(t.form.items,(function(e,a){return o("b-tr",{key:a},[o("b-td",{attrs:{colspan:"1"}},[t._v(t._s(a+1))]),o("b-td",{attrs:{colspan:"4"}},[o("b-form-input",{attrs:{required:"",disabled:""},model:{value:e.itemCode,callback:function(o){t.$set(e,"itemCode",o)},expression:"item.itemCode"}})],1),o("b-td",{attrs:{colspan:"1"}},[o("b-form-input",{class:{"is-invalid":t.attemptSubmit&&t.validateEmpty(e.quantity)},attrs:{type:"number",required:""},on:{blur:t.addTotal},model:{value:e.quantity,callback:function(o){t.$set(e,"quantity",o)},expression:"item.quantity"}})],1),o("b-td",{attrs:{colspan:"1"}},[o("b-form-input",{class:{"is-invalid":t.attemptSubmit&&t.validateEmpty(e.grossWeight)},attrs:{type:"number",required:""},on:{blur:t.addTotal},model:{value:e.grossWeight,callback:function(o){t.$set(e,"grossWeight",o)},expression:"item.grossWeight"}})],1),o("b-td",{attrs:{colspan:"1"}},[o("b-form-input",{class:{"is-invalid":t.attemptSubmit&&t.validateEmpty(e.netWeight)},attrs:{type:"number",required:""},on:{blur:t.addTotal},model:{value:e.netWeight,callback:function(o){t.$set(e,"netWeight",o)},expression:"item.netWeight"}})],1),o("b-td",{attrs:{colspan:"2"}},[o("b-form-select",{attrs:{options:t.umoOptions},model:{value:e.uom,callback:function(o){t.$set(e,"uom",o)},expression:"item.uom"}})],1),o("b-td",{attrs:{colspan:"2"}},[o("b-form-input",{model:{value:e.remarks,callback:function(o){t.$set(e,"remarks",o)},expression:"item.remarks"}})],1)],1)})),1),t.form.items.length>0?o("b-tfoot",[o("b-tr",{staticClass:"text-center",attrs:{variant:"secondary"}},[o("b-td",{attrs:{colspan:"1"}},[t._v(" Total:- ")]),o("b-td",{attrs:{colspan:"4"}}),o("b-td",{staticClass:"text-left",attrs:{colspan:"1"}},[t._v(t._s(t.quantity))]),o("b-td",{staticClass:"text-left",attrs:{colspan:"1"}},[t._v(t._s(t.form.grossWeight))]),o("b-td",{staticClass:"text-left",attrs:{colspan:"1"}},[t._v(t._s(t.form.netWeight))]),o("b-td",{attrs:{colspan:"2"}}),o("b-td",{attrs:{colspan:"2"}})],1)],1):t._e()],1)],1)],1):t._e(),o("b-row",[o("b-col",{attrs:{md:""}},[o("b-form-group",{staticStyle:{color:"red"},attrs:{id:"amountTakenLbl",label:"Issue Amount","label-for":"amountTaken"}},[o("b-form-input",{class:{"is-invalid":t.attemptSubmit&&t.amountTakenVal},staticStyle:{color:"red"},attrs:{id:"amountTaken",type:"number",placeholder:""},model:{value:t.form.amountTaken,callback:function(e){t.$set(t.form,"amountTaken",e)},expression:"form.amountTaken"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{label:"Intrest Type"}},[o("b-form-radio-group",{attrs:{id:"radio-group-1",options:t.typeOfIntrest},model:{value:t.form.intrestType,callback:function(e){t.$set(t.form,"intrestType",e)},expression:"form.intrestType"}})],1)],1),"RS"==t.form.intrestType?o("b-col",{attrs:{md:"1"}},[o("b-form-group",{attrs:{id:"intrestRateLbl",label:"Intrest: â‚¹","label-for":"intrestRate"}},[o("b-form-input",{attrs:{id:"intrestRate",type:"number",placeholder:""},model:{value:t.form.intrestRate,callback:function(e){t.$set(t.form,"intrestRate",e)},expression:"form.intrestRate"}})],1)],1):o("b-col",{attrs:{md:"1"}},[o("b-form-group",{attrs:{id:"intrestRateLbl",label:"Intrest: %","label-for":"intrestRate"}},[o("b-form-input",{attrs:{id:"intrestRate",type:"number",placeholder:""},model:{value:t.form.intrestRate,callback:function(e){t.$set(t.form,"intrestRate",e)},expression:"form.intrestRate"}})],1)],1),o("b-col",{attrs:{md:"1"}},[o("b-form-group",{attrs:{id:"purityLbl",label:"Purity %","label-for":"purity"}},[o("b-form-input",{attrs:{id:"purity",type:"number"},model:{value:t.form.purity,callback:function(e){t.$set(t.form,"purity",e)},expression:"form.purity"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"1"}},[o("label",{attrs:{for:"dueMonths"}},[t._v("Due Months")]),o("b-input-group",[o("b-form-input",{attrs:{id:"dueMonths",type:"number"},on:{blur:t.addDMonths},model:{value:t.dueMonths,callback:function(e){t.dueMonths=e},expression:"dueMonths"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"2"}},[o("label",{attrs:{for:"dob"}},[t._v("Due Date")]),o("b-input-group",[o("date-picker",{attrs:{disabled:"",config:t.options,placeholder:"DD/MM/YYYY"},model:{value:t.dueDate,callback:function(e){t.dueDate=e},expression:"dueDate"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"1"}},[o("label",{attrs:{for:"expMonths"}},[t._v("Exp Months")]),o("b-input-group",[o("b-form-input",{attrs:{id:"expMonths",type:"number"},on:{blur:t.addVMonths},model:{value:t.expMonths,callback:function(e){t.expMonths=e},expression:"expMonths"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"2"}},[o("label",{attrs:{for:"expDate"}},[t._v("Expiery Date")]),o("b-input-group",[o("date-picker",{attrs:{disabled:"",config:t.options,placeholder:"DD/MM/YYYY"},model:{value:t.valueDate,callback:function(e){t.valueDate=e},expression:"valueDate"}})],1)],1)],1),o("b-row",[o("b-col",{attrs:{md:""}},[o("span",{staticStyle:{float:"left"}},[t._v(" Amount In Words: "),t.form.amountTaken>0?o("span",{staticStyle:{color:"red",font:"bold"}},[t._v(t._s(t._f("toWords")(t.form.amountTaken))+" RUPIES ONLY")]):t._e()])])],1),o("b-row",{staticStyle:{position:"sticky",bottom:"0","padding-top":"10px"},attrs:{"bg-variant":"light"}},[o("b-col",{staticStyle:{"text-align":"center !important"},attrs:{md:""}},[o("b-button",{attrs:{variant:"primary text-center",value:"Create"},on:{click:t.createBooking}},[t._v("Create Booking")]),t._v(" "),o("b-button",{attrs:{variant:"primary text-center",value:"newRecipt"},on:{click:t.createBooking}},[t._v("Create & New Recipt")]),t._v(" "),o("b-button",{attrs:{variant:"secondary text-center",value:"back"},on:{click:function(e){return t.$router.go(-1)}}},[t._v("Back To Booking")])],1)],1)],1)],1)],1)},gt=[],vt=o("8e5f"),kt=o.n(vt),yt=o("8a95"),_t=o.n(yt),Dt={components:{Multiselect:kt.a},data:function(){return{dueMonths:null,expMonths:null,umoOptions:["Grams","Kgs"],selectedTrans:0,typeOfIntrest:[{text:"Rs",value:"RS"},{text:"%",value:"Percent"}],bookingOptions:{format:"DD/MM/YYYY",useCurrent:!0},options:{format:"DD/MM/YYYY",useCurrent:!0,minDate:new Date},typeOfLoans:[{label:"Issue",options:["GOLD","SILVER","INSECURE","DOCUMENT"]},{label:"Capital",options:["BANK","DEPOSIT","OWN"]},{label:"Off Exp",options:[]},{label:"Res-Exp",options:[]}],loanOptions:["GOLD","SILVER","INSECURE","DOCUMENT"],typeOfItems:[],amountWords:"",header:{brokerNo:null,companyCode:null,brokerName:null,otherPhones1:null,otherPhones2:null,mobileNo:null,occupation:null,age:null,addr1:null,addr2:null,addr3:null,area:null,town:null},bookingDate:new Date,dueDate:new Date,valueDate:new Date,quantity:0,form:{brokerNo:null,companyCode:null,bookingDate:new Date,bookingNo:null,tranType:"Issue",grossWeight:0,netWeight:0,purity:null,intrestRate:null,dueDate:null,valueDate:null,loanType:"GOLD",remarks:null,amountTaken:null,intrestType:"RS",items:[],createdBy:null,updatedBy:null,bookingTrans:[]},multiItems:[],search:"",attemptSubmit:!1}},filters:{toWords:function(t){return t?_t.a.indianConversion(t,{characterCase:"UPPERCASE"}):""}},created:function(){this.header.brokerNo=this.$route.params.brokerNo,this.search=this.$route.params.search},mounted:function(){this.typeOfItems=this.$store.state.master.typeOfItems,this.getsSelectedAccount()},methods:{addDMonths:function(){if(this.dueMonths<1)return!1;this.dueDate=W()(this.dueDate,"DD/MM/YYYY").add(this.dueMonths,"months").format("DD/MM/YYYY")},addVMonths:function(){if(this.expMonths<1)return!1;this.valueDate=W()(this.valueDate,"DD/MM/YYYY").add(this.expMonths,"months").format("DD/MM/YYYY")},createBooking:function(){var t=this,e=event.srcElement.value;this.attemptSubmit=!0;var o=new FormData;this.form.createdBy=this.$store.state.user.username,this.form.updatedBy=this.$store.state.user.username,o.append("form",JSON.stringify(this.form)),this.$bvModal.msgBoxConfirm("Please confirm that you want to Create New Booking.",{title:"Confirmation",size:"sm",buttonSize:"sm",okVariant:"primary",cancelVariant:"danger",okTitle:"Proceed...",cancelTitle:"Cancel",footerClass:"p-2",hideHeaderClose:!1,centered:!0}).then((function(a){if(a){var r=t.$loading.show({loader:"dots",color:"green"});t.$http.post("/middleware/api/secured/create-booking",o).then((function(){r.hide(),t.$bvModal.msgBoxOk("Booking Account",{title:"Confirmation",size:"sm",buttonSize:"sm",okVariant:"info",headerClass:"p-2 border-bottom-0",footerClass:"p-2 border-top-0",centered:!0}).then((function(o){if(o)"Create"==e&&t.$router.push({name:"BookingsView",params:{brokerNo:t.form.brokerNo,search:t.search}});else if("newRecipt"==e){var a=t.form.brokerNo,r=t.form.bookingNo,n=t.form.companyCode;t.$router.push({name:"NewRecipt",params:{req:{brokerNo:a,bookingNo:r,companyCode:n},search:t.accountSearch}})}})).catch((function(t){alert(t)}))})).catch((function(t){alert(t)})).finally((function(){}))}})).catch((function(t){alert(t)}))},validateEmpty:function(t){return""===t||t<=0},getsSelectedAccount:function(){var t=this,e=this.$loading.show({loader:"bars",color:"green"});this.$http.get("/middleware/api/secured/get-broker/"+this.header.brokerNo+"/"+this.$store.state.selectedCompany.value).then((function(o){e.hide(),null!=o.data&&""!=o.data?(t.header=o.data,t.form.companyCode=t.header.companyCode,t.form.brokerNo=t.header.brokerNo):t.$bvModal.msgBoxOk("Please select proper user",{title:"Wrong Information Provided",size:"sm",buttonSize:"sm",okVariant:"danger",headerClass:"p-2 border-bottom-0",footerClass:"p-2 border-top-0",centered:!0}).then((function(e){e&&t.$router.push("/bookings")})).catch((function(t){alert(t)}))})).catch((function(t){alert(t)})).finally((function(){}))},reload:function(){window.location.reload(!0)},converter:function(){return _t.a},changeTransType:function(){this.form.loanType="",this.loanOptions=this.typeOfLoans[this.selectedTrans].options,this.form.tranType=this.typeOfLoans[this.selectedTrans].label,"Issue"==this.form.tranType&&(this.form.loanType="GOLD"),this.form.items=[],this.multiItems=[]},changeLoanType:function(){this.form.items=[],this.multiItems=[]},selectedItem:function(t){this.form.items.push({itemNo:this.form.items.length+1,itemCode:t,grossWeight:parseFloat(0),netWeight:parseFloat(0),uom:"Grams",quantity:parseInt(0),remarks:null})},removedItem:function(t){this.form.items=this.form.items.filter((function(e){return e.itemCode!==t}))},addTotal:function(){var t=this;this.form.grossWeight=parseFloat(0),this.form.netWeight=parseFloat(0),this.quantity=parseInt(0),this.form.items.forEach((function(e){t.form.grossWeight+=parseFloat(e.grossWeight),t.form.netWeight+=parseFloat(e.netWeight),t.quantity+=parseInt(e.quantity)}))}},computed:{bookingDateVal:function(){return null===this.form.bookingDate||""===this.form.bookingDate},tranTypeVal:function(){return!(null!==this.form.tranType&&""!==this.form.tranType&&this.form.tranType.length>=1)},loanTypeVal:function(){return null!==this.form.tranType&&""!==this.form.tranType&&"Off Exp"!==this.form.tranType&&"Res-Exp"!==this.form.tranType&&!(null!==this.form.loanType&&void 0!==this.form.loanType&&""!==this.form.loanType&&this.form.loanType.length>=1)},amountTakenVal:function(){return!(null!==this.form.amountTaken&&""!==this.form.amountTaken&&this.form.amountTaken>=1)},intrestRateVal:function(){return!(null!==this.form.intrestRate&&""!==this.form.intrestRate&&this.form.intrestRate>0)},bookingNoVal:function(){return!(null!==this.form.bookingNo&&""!==this.form.bookingNo&&this.form.bookingNo.length>=5)}},watch:{bookingDate:function(){this.form.bookingDate=W()(this.bookingDate,"DD/MM/YYYY")},dueDate:function(){this.form.dueDate=W()(this.dueDate,"DD/MM/YYYY")},valueDate:function(){this.form.valueDate=W()(this.valueDate,"DD/MM/YYYY")}}},xt=Dt,St=(o("60bc"),Object(l["a"])(xt,ht,gt,!1,null,null,null)),Ct=St.exports,wt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("b-card",{style:{"background-color":t.form.defaulter?"red":"azure"}},[o("b-row",[o("b-col",[o("span",{staticClass:"my-card-heading"},[t._v("View/Modify BOOKING")])])],1),o("b-row",[o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"1"}},[o("b-form-group",{attrs:{id:"brokerNoLbl",label:"A/C Code","label-for":"brokerNo"}},[o("b-form-input",{attrs:{id:"brokerNo",required:"",disabled:""},model:{value:t.form.brokerNo,callback:function(e){t.$set(t.form,"brokerNo",e)},expression:"form.brokerNo"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"3"}},[o("b-form-group",{attrs:{id:"brokerNameLbl",label:"Name","invalid-feedback":"Name is Required","label-for":"brokerName"}},[o("b-form-input",{attrs:{id:"brokerName",required:"",disabled:""},model:{value:t.form.brokerName,callback:function(e){t.$set(t.form,"brokerName",e)},expression:"form.brokerName"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:""}},[o("b-form-group",{attrs:{id:"addr1Lbl",label:"Mother/Father","label-for":"addr1"}},[o("b-form-input",{attrs:{id:"addr1",disabled:""},model:{value:t.form.addr1,callback:function(e){t.$set(t.form,"addr1",e)},expression:"form.addr1"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:""}},[o("b-form-group",{attrs:{id:"occupationLbl",label:"Occupation","label-for":"occupation"}},[o("b-form-input",{attrs:{id:"occupation",disabled:"",placeholder:""},model:{value:t.form.occupation,callback:function(e){t.$set(t.form,"occupation",e)},expression:"form.occupation"}})],1)],1),o("b-col",{attrs:{md:"2"}},[o("b-form-group",{attrs:{id:"mobileNoLbl",label:"Mobile No","label-for":"mobileNo"}},[o("b-form-input",{attrs:{id:"mobileNo",disabled:""},model:{value:t.form.mobileNo,callback:function(e){t.$set(t.form,"mobileNo",e)},expression:"form.mobileNo"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"1"}},[o("b-form-group",{attrs:{id:"ageLbl",label:"Age","label-for":"age"}},[o("b-form-input",{attrs:{id:"age",disabled:"",placeholder:""},model:{value:t.form.age,callback:function(e){t.$set(t.form,"age",e)},expression:"form.age"}})],1)],1)],1),o("b-row",[o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"contactPerson1Lbl",label:"Intro By I","label-for":"contactPerson1"}},[o("b-form-input",{attrs:{id:"contactPerson1",disabled:"",placeholder:""},model:{value:t.form.contactPerson1,callback:function(e){t.$set(t.form,"contactPerson1",e)},expression:"form.contactPerson1"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"contactPerson2Lbl",label:"Intro By II","label-for":"contactPerson2"}},[o("b-form-input",{attrs:{id:"contactPerson2",disabled:"",placeholder:""},model:{value:t.form.contactPerson2,callback:function(e){t.$set(t.form,"contactPerson2",e)},expression:"form.contactPerson2"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"addr2Lbl",label:"Door No","label-for":"addr2"}},[o("b-form-input",{attrs:{id:"addr2",disabled:""},model:{value:t.form.addr2,callback:function(e){t.$set(t.form,"addr2",e)},expression:"form.addr2"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"addr3Lbl",label:"Street","label-for":"addr3"}},[o("b-form-input",{attrs:{id:"addr3",disabled:""},model:{value:t.form.addr3,callback:function(e){t.$set(t.form,"addr3",e)},expression:"form.addr3"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"areaLbl",label:"Area","label-for":"area"}},[o("b-form-input",{attrs:{id:"area",disabled:""},model:{value:t.form.area,callback:function(e){t.$set(t.form,"area",e)},expression:"form.area"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"townLbl",label:"Town","label-for":"town"}},[o("b-form-input",{attrs:{id:"town",disabled:""},model:{value:t.form.town,callback:function(e){t.$set(t.form,"town",e)},expression:"form.town"}})],1)],1)],1)],1),o("b-card",{staticStyle:{"background-color":"azure"}},[o("b-form",{ref:"form",on:{submit:function(t){t.stopPropagation(),t.preventDefault()}}},[o("b-row",[o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"2"}},[o("b-form-group",{attrs:{id:"bookingDateLbl",label:"Booking Date","label-for":"bookingDate"}},[o("date-picker",{class:{"is-invalid":t.attemptSubmit&&t.bookingDateVal},attrs:{config:t.bookingOptions,placeholder:"DD/MM/YYYY",disabled:t.displayFlg},model:{value:t.bookingDate,callback:function(e){t.bookingDate=e},expression:"bookingDate"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"2"}},[o("b-form-group",{attrs:{id:"bookingNoLbl",label:"Booking No","label-for":"bookingNo"}},[o("b-form-input",{class:{"is-invalid":t.attemptSubmit&&t.bookingNoVal},attrs:{id:"bookingNo",required:"",disabled:t.displayFlg},model:{value:t.form.bookings.bookingNo,callback:function(e){t.$set(t.form.bookings,"bookingNo",e)},expression:"form.bookings.bookingNo"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"2"}},[o("b-form-group",{attrs:{id:"tranTypeLbl",label:"Tranaction Type","label-for":"tranType"}},[o("b-form-select",{class:{"is-invalid":t.attemptSubmit&&t.tranTypeVal},attrs:{id:"tranType",disabled:t.displayFlg},on:{change:t.changeTransType},model:{value:t.selectedTrans,callback:function(e){t.selectedTrans=e},expression:"selectedTrans"}},t._l(t.typeOfLoans,(function(e,a){return o("option",{key:a,domProps:{value:a}},[t._v(t._s(e.label))])})),0)],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"2"}},[o("b-form-group",{attrs:{id:"loanTypeLbl",label:"Loan Type","label-for":"loanType"}},[o("b-form-select",{class:{"is-invalid":t.attemptSubmit&&t.loanTypeVal},attrs:{id:"loanType",disabled:t.loanOptions.length<=0||t.displayFlg},on:{change:t.changeLoanType},model:{value:t.form.bookings.loanType,callback:function(e){t.$set(t.form.bookings,"loanType",e)},expression:"form.bookings.loanType"}},t._l(t.loanOptions,(function(e,a){return o("option",{key:a,domProps:{value:e}},[t._v(t._s(e))])})),0)],1),o("div",{staticClass:"invalid-feedback"},[t._v("This Field Required")])],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"4"}},[o("b-form-group",{staticStyle:{color:"red"},attrs:{id:"remarksLbl",label:"Remarks","label-for":"remarks"}},[o("b-form-input",{attrs:{id:"remarks",disabled:t.displayFlg},model:{value:t.form.bookings.remarks,callback:function(e){t.$set(t.form.bookings,"remarks",e)},expression:"form.bookings.remarks"}})],1)],1)],1),null!=t.form.bookings.tranType&&"Issue"==t.form.bookings.tranType&&null!=t.form.bookings.loanType&&"DOCUMENT"!=t.form.bookings.loanType&&"INSECURE"!=t.form.bookings.loanType?o("b-row",[o("b-col",{attrs:{md:"3"}},[o("b-form-group",{attrs:{id:"multiLbl",label:"Add/Delete Items","label-for":"multi"}},[o("multiselect",{attrs:{options:t.typeOfItems,multiple:!0,disabled:t.displayFlg,taggable:!0},on:{select:t.selectedItem,remove:t.removedItem},model:{value:t.multiItems,callback:function(e){t.multiItems=e},expression:"multiItems"}})],1)],1),o("b-col",{attrs:{md:"9"}},[o("b-table-simple",{attrs:{hover:"",small:"","caption-top":"",responsive:""}},[o("b-thead",{attrs:{"head-variant":"secondary"}},[o("b-tr",[o("b-th",{staticStyle:{"background-color":"#d6d8db"},attrs:{colspan:"1"}},[t._v("SNo")]),o("b-th",{staticStyle:{"background-color":"#d6d8db"},attrs:{colspan:"4"}},[t._v("Item")]),o("b-th",{staticStyle:{"background-color":"#d6d8db"},attrs:{colspan:"1"}},[t._v("Quantity")]),o("b-th",{staticStyle:{"background-color":"#d6d8db"},attrs:{colspan:"1"}},[t._v("Gross Weight")]),o("b-th",{staticStyle:{"background-color":"#d6d8db"},attrs:{colspan:"1"}},[t._v("Net Weight")]),o("b-th",{staticStyle:{"background-color":"#d6d8db"},attrs:{colspan:"2"}},[t._v("UMO")]),o("b-th",{staticStyle:{"background-color":"#d6d8db"},attrs:{colspan:"2"}},[t._v("Remarks")])],1)],1),o("b-tbody",t._l(t.form.bookings.items,(function(e,a){return o("b-tr",{key:a},[o("b-td",{attrs:{colspan:"1"}},[t._v(t._s(a+1))]),o("b-td",{attrs:{colspan:"4"}},[o("b-form-input",{attrs:{required:"",disabled:""},model:{value:e.itemCode,callback:function(o){t.$set(e,"itemCode",o)},expression:"item.itemCode"}})],1),o("b-td",{attrs:{colspan:"1"}},[o("b-form-input",{class:{"is-invalid":t.attemptSubmit&&t.validateEmpty(e.quantity)},attrs:{type:"number",disabled:t.displayFlg,required:""},on:{blur:t.addTotal},model:{value:e.quantity,callback:function(o){t.$set(e,"quantity",o)},expression:"item.quantity"}})],1),o("b-td",{attrs:{colspan:"1"}},[o("b-form-input",{class:{"is-invalid":t.attemptSubmit&&t.validateEmpty(e.grossWeight)},attrs:{type:"number",disabled:t.displayFlg,required:""},on:{blur:t.addTotal},model:{value:e.grossWeight,callback:function(o){t.$set(e,"grossWeight",o)},expression:"item.grossWeight"}})],1),o("b-td",{attrs:{colspan:"1"}},[o("b-form-input",{class:{"is-invalid":t.attemptSubmit&&t.validateEmpty(e.netWeight)},attrs:{disabled:t.displayFlg,type:"number",required:""},on:{blur:t.addTotal},model:{value:e.netWeight,callback:function(o){t.$set(e,"netWeight",o)},expression:"item.netWeight"}})],1),o("b-td",{attrs:{colspan:"2"}},[o("b-form-select",{attrs:{disabled:t.displayFlg,options:t.umoOptions},model:{value:e.uom,callback:function(o){t.$set(e,"uom",o)},expression:"item.uom"}})],1),o("b-td",{attrs:{colspan:"2"}},[o("b-form-input",{attrs:{disabled:t.displayFlg},model:{value:e.remarks,callback:function(o){t.$set(e,"remarks",o)},expression:"item.remarks"}})],1)],1)})),1),t.form.bookings.items.length>0?o("b-tfoot",[o("b-tr",{staticClass:"text-center",attrs:{variant:"secondary"}},[o("b-td",{attrs:{colspan:"1"}},[t._v(" Total:- ")]),o("b-td",{attrs:{colspan:"4"}}),o("b-td",{staticClass:"text-left",attrs:{colspan:"1"}},[t._v(t._s(t.quantity))]),o("b-td",{staticClass:"text-left",attrs:{colspan:"1"}},[t._v(t._s(t.form.bookings.grossWeight))]),o("b-td",{staticClass:"text-left",attrs:{colspan:"1"}},[t._v(t._s(t.form.bookings.netWeight))]),o("b-td",{attrs:{colspan:"2"}}),o("b-td",{attrs:{colspan:"2"}})],1)],1):t._e()],1)],1)],1):t._e(),o("b-row",[o("b-col",{attrs:{md:"2"}},[o("b-form-group",{staticStyle:{color:"red"},attrs:{id:"amountTakenLbl",label:"Issue Amount","label-for":"amountTaken"}},[o("b-form-input",{class:{"is-invalid":t.attemptSubmit&&t.amountTakenVal},staticStyle:{color:"red"},attrs:{id:"amountTaken",type:"number",disabled:t.displayFlg,placeholder:""},model:{value:t.form.bookings.amountTaken,callback:function(e){t.$set(t.form.bookings,"amountTaken",e)},expression:"form.bookings.amountTaken"}})],1)],1),o("b-col",{attrs:{md:"1"}},[o("b-form-group",{attrs:{label:"Intrest Type"}},[o("b-form-radio-group",{attrs:{id:"radio-group-1",disabled:t.displayFlg,options:t.typeOfIntrest},model:{value:t.form.bookings.intrestType,callback:function(e){t.$set(t.form.bookings,"intrestType",e)},expression:"form.bookings.intrestType"}})],1)],1),"RS"==t.form.bookings.intrestType?o("b-col",{attrs:{md:"1"}},[o("b-form-group",{attrs:{id:"intrestRateLbl",label:"Intrest: â‚¹","label-for":"intrestRate"}},[o("b-form-input",{attrs:{id:"intrestRate",type:"number",disabled:t.displayFlg,placeholder:""},model:{value:t.form.bookings.intrestRate,callback:function(e){t.$set(t.form.bookings,"intrestRate",e)},expression:"form.bookings.intrestRate"}})],1)],1):o("b-col",{attrs:{md:"1"}},[o("b-form-group",{attrs:{id:"intrestRateLbl",label:"Intrest: %","label-for":"intrestRate"}},[o("b-form-input",{attrs:{id:"intrestRate",type:"number",disabled:t.displayFlg,placeholder:""},model:{value:t.form.bookings.intrestRate,callback:function(e){t.$set(t.form.bookings,"intrestRate",e)},expression:"form.bookings.intrestRate"}})],1)],1),o("b-col",{attrs:{md:"1"}},[o("b-form-group",{attrs:{id:"purityLbl",label:"Purity %","label-for":"purity"}},[o("b-form-input",{attrs:{id:"purity",disabled:t.displayFlg,type:"number"},model:{value:t.form.bookings.purity,callback:function(e){t.$set(t.form.bookings,"purity",e)},expression:"form.bookings.purity"}})],1)],1),t.displayFlg?o("b-col",{attrs:{md:"1"}},[o("b-form-group",{attrs:{label:"Auctioned","label-for":"auctioned"}},[o("b-form-checkbox",{attrs:{id:"auctioned",disabled:t.displayFlg},model:{value:t.form.bookings.auctioned,callback:function(e){t.$set(t.form.bookings,"auctioned",e)},expression:"form.bookings.auctioned"}})],1)],1):t._e(),t.displayFlg?o("b-col",{attrs:{md:"1"}},[o("b-form-group",{attrs:{label:"Closed","label-for":"closed"}},[o("b-form-checkbox",{attrs:{id:"closed",disabled:t.displayFlg},model:{value:t.form.bookings.closed,callback:function(e){t.$set(t.form.bookings,"closed",e)},expression:"form.bookings.closed"}})],1)],1):t._e(),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"2"}},[o("label",{attrs:{for:"dob"}},[t._v("Due Date")]),o("b-input-group",[o("date-picker",{attrs:{disabled:t.form.bookings.closed||t.form.bookings.auctioned,config:t.options,placeholder:"DD/MM/YYYY"},model:{value:t.dueDate,callback:function(e){t.dueDate=e},expression:"dueDate"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"2"}},[o("label",{attrs:{for:"dob"}},[t._v("Expiery Date")]),o("b-input-group",[o("date-picker",{attrs:{disabled:t.form.bookings.closed||t.form.bookings.auctioned,config:t.options,placeholder:"DD/MM/YYYY"},model:{value:t.valueDate,callback:function(e){t.valueDate=e},expression:"valueDate"}})],1)],1)],1),o("b-row",[o("b-col",{attrs:{md:""}},[o("span",{staticStyle:{float:"left"}},[t._v(" Amount In Words: "),t.form.bookings.amountTaken>0?o("span",{staticStyle:{color:"red",font:"bold"}},[t._v(t._s(t._f("toWords")(t.form.bookings.amountTaken))+" RUPIES ONLY")]):t._e()])])],1),o("b-row",{staticStyle:{position:"sticky",bottom:"0","padding-top":"10px"},attrs:{"bg-variant":"light"}},[o("b-col",{staticStyle:{"text-align":"center !important"},attrs:{md:""}},[!t.form.bookings.closed&&t.form.bookings.bookingTrans.length<1?o("b-button",{attrs:{variant:"primary text-center",value:"Update"},on:{click:t.updateBooking}},[t._v("Update Booking")]):t._e(),t._v(" "),t.form.bookings.closed?t._e():o("b-button",{attrs:{variant:"primary text-center",value:"newRecipt"},on:{click:t.createRecipt}},[t._v("New Recipt")]),t._v(" "),o("b-button",{attrs:{variant:"secondary text-center",value:"back"},on:{click:function(e){return t.$router.push({name:"BookingsView",params:{brokerNo:t.form.brokerNo,search:t.form.brokerNo}})}}},[t._v("Back To Booking")])],1)],1)],1)],1)],1)},Tt=[],Nt={components:{Multiselect:kt.a},data:function(){return{actualBookingNo:null,formatter:{},displayFlg:!1,req:{brokerNo:null,companyCode:null,bookingNo:null},umoOptions:["Grams","Kgs"],selectedTrans:0,typeOfIntrest:[{text:"Rs",value:"RS"},{text:"%",value:"Percent"}],bookingOptions:{format:"DD/MM/YYYY",useCurrent:!0},options:{format:"DD/MM/YYYY",useCurrent:!1},typeOfLoans:[{label:"Issue",options:["DOCUMENT","GOLD","INSECURE","SILVER"]},{label:"Capital",options:["BANK","DEPOSIT","OWN"]},{label:"Off Exp",options:[]},{label:"Res-Exp",options:[]}],loanOptions:["GOLD","SILVER","INSECURE","DOCUMENT"],typeOfItems:[],amountWords:"",bookingDate:new Date,dueDate:new Date,valueDate:new Date,quantity:0,paidPrinciple:0,paidIntrest:0,form:{brokerNo:null,brokerName:null,otherPhones1:null,otherPhones2:null,mobileNo:null,occupation:null,age:null,addr1:null,addr2:null,addr3:null,area:null,town:null,bookings:{bookingDate:new Date,bookingNo:null,tranType:"Issue",grossWeight:0,netWeight:0,purity:null,closed:!1,auctioned:!1,intrestRate:null,dueDate:null,valueDate:null,loanType:null,remarks:null,amountTaken:null,intrestType:"RS",items:[],createdBy:null,updatedBy:null,bookingTrans:[]}},multiItems:[],search:"",attemptSubmit:!1}},filters:{toWords:function(t){return t?_t.a.indianConversion(t,{characterCase:"UPPERCASE"}):""}},created:function(){this.req=this.$route.params.req,this.search=this.$route.params.search},mounted:function(){this.formatter=new Intl.NumberFormat("en-IN"),this.typeOfItems=this.$store.state.master.typeOfItems,this.getsSelectedAccount()},methods:{createRecipt:function(){var t=this.form.brokerNo,e=this.form.bookings.bookingNo,o=this.$store.state.selectedCompany.value;this.$router.push({name:"NewRecipt",params:{req:{brokerNo:t,bookingNo:e,companyCode:o},search:this.search}})},converteMongoToDate:function(t){if(null!=t&&t&&""!=t){var e=W()(t);return e.format("DD/MM/YYYY")}return null},updateBooking:function(t){var e=this,o=t.target.value;this.attemptSubmit=!0;var a={brokerNo:this.form.brokerNo,companyCode:this.$store.state.selectedCompany.value,bookingDate:this.form.bookings.bookingDate,bookingNo:this.form.bookings.bookingNo,bookingCode:this.actualBookingNo,tranType:this.form.bookings.tranType,grossWeight:this.form.bookings.grossWeight,netWeight:this.form.bookings.netWeight,purity:this.form.bookings.purity,intrestRate:this.form.bookings.intrestRate,dueDate:this.form.bookings.dueDate,valueDate:this.form.bookings.valueDate,loanType:this.form.bookings.loanType,remarks:this.form.bookings.remarks,amountTaken:this.form.bookings.amountTaken,intrestType:this.form.bookings.intrestType,items:this.form.bookings.items,createdBy:null,updatedBy:this.$store.state.user.username,bookingTrans:[]},r=new FormData;r.append("form",JSON.stringify(a)),this.$bvModal.msgBoxConfirm("Please confirm that you want to Update Booking.",{title:"Confirmation",size:"sm",buttonSize:"sm",okVariant:"primary",cancelVariant:"danger",okTitle:"Proceed...",cancelTitle:"Cancel",footerClass:"p-2",hideHeaderClose:!1,centered:!0}).then((function(t){if(t){var a=e.$loading.show({loader:"dots",color:"green"});e.$http.post("/middleware/api/secured/update-booking",r).then((function(){a.hide(),e.$bvModal.msgBoxOk("Booking Booking Updated",{title:"Confirmation",size:"sm",buttonSize:"sm",okVariant:"info",headerClass:"p-2 border-bottom-0",footerClass:"p-2 border-top-0",centered:!0}).then((function(t){t&&"Update"==o&&e.$router.push({name:"BookingsView",params:{brokerNo:e.form.brokerNo,search:e.search}})})).catch((function(t){alert(t)}))})).catch((function(t){alert(t)})).finally((function(){}))}})).catch((function(t){alert(t)}))},validateEmpty:function(t){return""===t||t<=0},getsSelectedAccount:function(){var t=this,e=new FormData;null!=this.req.brokerNo&&null!=this.req.bookingNo||this.$router.push("/bookings"),e.append("form",JSON.stringify(this.req));var o=this.$loading.show({loader:"bars",color:"green"});this.$http.post("/middleware/api/secured/get-broker-booking-details",e).then((function(e){o.hide(),null!=e.data&&""!=e.data?(t.bookingDate=W()(e.data.bookings.bookingDate).format("DD/MM/YYYY"),t.dueDate=W()(e.data.bookings.dueDate).format("DD/MM/YYYY"),t.valueDate=W()(e.data.bookings.valueDate).format("DD/MM/YYYY"),e.data.bookings.items.length>0&&e.data.bookings.items.forEach((function(e){t.multiItems.push(e.itemCode),t.quantity+=e.quantity})),e.data.bookings.bookingTrans.length>0&&(t.displayFlg=!0,e.data.bookings.bookingTrans.sort((function(t,e){return W()(t.rcvDate)-W()(e.rcvDate)}))),t.onloadTransType(e.data.bookings.tranType),t.form=e.data,t.actualBookingNo=t.form.bookings.bookingNo,t.form.bookings.bookingDate=W()(t.bookingDate,"DD/MM/YYYY"),t.form.bookings.dueDate=W()(t.dueDate,"DD/MM/YYYY"),t.form.bookings.valueDate=W()(t.valueDate,"DD/MM/YYYY")):t.$bvModal.msgBoxOk("Please select proper user",{title:"Wrong Information Provided",size:"sm",buttonSize:"sm",okVariant:"danger",headerClass:"p-2 border-bottom-0",footerClass:"p-2 border-top-0",centered:!0}).then((function(e){e&&t.$router.push("/bookings")})).catch((function(t){alert(t)}))})).catch((function(t){alert(t)})).finally((function(){}))},reload:function(){window.location.reload(!0)},converter:function(){return _t.a},onloadTransType:function(t){var e=this;this.typeOfLoans.forEach((function(o,a){t==o.label&&(e.selectedTrans=a)})),this.loanOptions=this.typeOfLoans[this.selectedTrans].options,this.form.bookings.tranType=this.typeOfLoans[this.selectedTrans].label},changeTransType:function(){this.form.bookings.loanType="",this.loanOptions=this.typeOfLoans[this.selectedTrans].options,this.form.bookings.tranType=this.typeOfLoans[this.selectedTrans].label,this.form.bookings.items=[],this.multiItems=[]},changeLoanType:function(){this.form.bookings.items=[],this.multiItems=[]},selectedItem:function(t){this.form.bookings.items.push({itemNo:this.form.bookings.items.length+1,itemCode:t,grossWeight:parseFloat(0),netWeight:parseFloat(0),uom:"Grams",quantity:parseInt(0),remarks:null})},removedItem:function(t){this.form.bookings.items=this.form.bookings.items.filter((function(e){return e.itemCode!==t}))},addTotal:function(){var t=this;this.form.bookings.grossWeight=parseFloat(0),this.form.bookings.netWeight=parseFloat(0),this.quantity=parseInt(0),this.form.bookings.items.forEach((function(e){t.form.bookings.grossWeight+=parseFloat(e.grossWeight),t.form.bookings.netWeight+=parseFloat(e.netWeight),t.quantity+=parseInt(e.quantity)}))}},computed:{bookingDateVal:function(){return null===this.form.bookings.bookingDate||""===this.form.bookings.bookingDate},tranTypeVal:function(){return!(null!==this.form.bookings.tranType&&""!==this.form.bookings.tranType&&this.form.bookings.tranType.length>=1)},loanTypeVal:function(){return null!==this.form.bookings.tranType&&""!==this.form.bookings.tranType&&"Off Exp"!==this.form.bookings.tranType&&"Res-Exp"!==this.form.bookings.tranType&&!(null!==this.form.bookings.loanType&&void 0!==this.form.bookings.loanType&&""!==this.form.bookings.loanType&&this.form.bookings.loanType.length>=1)},amountTakenVal:function(){return!(null!==this.form.bookings.amountTaken&&""!==this.form.bookings.amountTaken&&this.form.bookings.amountTaken>=1)},intrestRateVal:function(){return!(null!==this.form.bookings.intrestRate&&""!==this.form.bookings.intrestRate&&this.form.bookings.intrestRate>0)},bookingNoVal:function(){return!(null!==this.form.bookings.bookingNo&&""!==this.form.bookings.bookingNo&&this.form.bookings.bookingNo.length>=5)}},watch:{bookingDate:function(){this.form.bookings.bookingDate=W()(this.bookingDate,"DD/MM/YYYY")},dueDate:function(){this.form.bookings.dueDate=W()(this.dueDate,"DD/MM/YYYY")},valueDate:function(){this.form.bookings.valueDate=W()(this.valueDate,"DD/MM/YYYY")}}},It=Nt,Pt=Object(l["a"])(It,wt,Tt,!1,null,null,null),Mt=Pt.exports,$t=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("b-card",[o("b-row",[o("b-col",[o("span",{staticClass:"my-card-heading"},[t._v("RECIPTS SEARCH")])])],1),o("b-row",[o("b-col",{attrs:{md:""}},[o("form",{ref:"form",on:{submit:function(t){t.stopPropagation(),t.preventDefault()}}},[o("b-row",{staticClass:"my-1"},[o("b-col",{staticStyle:{"padding-top":"10px"},attrs:{md:"",sm:"2"}},[o("label",{attrs:{for:"accountSearch"}},[o("strong",[t._v("Recipts Search:")])])]),o("b-col",{staticStyle:{display:"flex","padding-left":"0px"},attrs:{sm:"10",md:"9"}},[o("b-form-input",{staticStyle:{"text-transform":"uppercase","margin-right":"3px"},attrs:{id:"accountSearch",size:"lg"},model:{value:t.accountSearch,callback:function(e){t.accountSearch=e},expression:"accountSearch"}}),o("b-button",{attrs:{variant:"primary",disabled:!(null!==t.accountSearch&&t.accountSearch.length>=3)},on:{click:t.searchBooking}},[o("b-icon",{attrs:{icon:"search","aria-hidden":"true"}}),o("span",{staticClass:"sr-only"},[t._v("Search")])],1)],1)],1)],1)])],1),o("b-row",[o("b-col",[o("b-card",[o("b-row",[o("b-col",{staticStyle:{"max-width":"260px"},attrs:{md:"3"}},[o("b-card-title",{staticStyle:{"text-align":"left",width:"260px"}},[t._v("Recipts Found ("+t._s(t.totalRows)+")")])],1),o("b-col",{attrs:{md:"3"}},[o("b-form-input",{staticStyle:{"margin-right":"10px",display:"inline-flex"},attrs:{size:"sm",readonly:t.totalRows<1,placeholder:"ðŸ”  Search Pending..."},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})],1),o("b-col",{staticStyle:{"padding-right":"0px"},attrs:{md:"6"}},[o("b-button",{staticStyle:{float:"right"},attrs:{variant:"primary",disabled:""==t.selected},on:{click:t.createRecipt}},[o("b-icon",{attrs:{icon:"pencil","aria-hidden":"true"}}),o("span",{staticClass:"sr-only"},[t._v("pencil")]),t._v("New Recipt ")],1),o("b-button",{staticStyle:{float:"right","margin-right":"4px"},attrs:{disabled:""==t.selected,variant:"danger"},on:{click:t.deleteRecipt}},[t._v("Delete Recipt ")])],1)],1),o("b-table",{ref:"selectableTable",attrs:{id:"accountSearchResult",selectable:"",filter:t.filter,"select-mode":"single",items:t.items,fields:t.fields,"sticky-header":"true",responsive:""},on:{filtered:t.onFiltered,"row-selected":t.onRowSelected},scopedSlots:t._u([{key:"cell(brokerName)",fn:function(e){return[o("div",{staticStyle:{"text-align":"left"}},[t._v(t._s(e.value))])]}},{key:"cell(amountTaken)",fn:function(e){return[o("div",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.formatter.format(e.value)))])]}},{key:"cell(bookingDate)",fn:function(e){return[o("div",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.converteMongoToDate(e.value)))])]}},{key:"cell(image)",fn:function(e){return[o("div",[o("b-avatar",{staticClass:"align-baseline",attrs:{src:"/images/"+e.item.brokerNo+".jpg"},on:{click:function(o){return t.openImage(e.item.brokerNo)}}}),e.item.activeCount>0?o("span",{staticClass:"rounded-circle",staticStyle:{"background-color":"#73D500","vertical-align":"top",display:"inline-block",height:"10px",width:"10px"}}):t._e()],1)]}}])})],1)],1)],1),o("b-modal",{ref:"imageModal",attrs:{id:"modal-image",size:"sm","hide-header":"","hide-footer":""}},[o("b-row",[o("b-col",[o("b-img",{attrs:{src:"/images/"+t.showImg+".jpg",thumbnail:"",fluid:"",alt:"Fluid image"}})],1)],1),o("b-row",{staticStyle:{"margin-top":"5px"}},[o("b-col",{staticStyle:{"text-align":"center !important"}},[o("b-button",{attrs:{variant:"danger text-center"},on:{click:function(e){return t.$bvModal.hide("modal-image")}}},[t._v("Close")])],1)],1)],1)],1)},Rt=[],Yt={data:function(){return{req:{brokerNo:null,companyCode:null,bookingNo:null},formatter:"",selected:"",showImg:"",filter:null,totalRows:0,accountSearch:null,fields:[{key:"image",label:"Identity",sortable:!1},{key:"bookingNo",label:"Booking No",sortable:!0},{key:"brokerName",label:"Name",sortable:!0},{key:"bookingDate",label:"Booking Date",sortable:!0},{key:"amountTaken",label:"Booking Amount",sortable:!0}],items:[]}},methods:{converteMongoToDate:function(t){if(null!=t&&t&&""!=t){var e=W()(t);return e.format("DD/MM/YYYY")}return null},createRecipt:function(){var t=this.selected[0].brokerNo,e=this.selected[0].bookingNo,o=this.$store.state.selectedCompany.value;this.$router.push({name:"NewRecipt",params:{req:{brokerNo:t,bookingNo:e,companyCode:o},search:this.accountSearch}})},deleteRecipt:function(){var t=this.selected[0].brokerNo,e=this.selected[0].bookingNo,o=this.$store.state.selectedCompany.value;this.$router.push({name:"DeleteRecipt",params:{req:{brokerNo:t,bookingNo:e,companyCode:o},search:this.accountSearch}})},onRowSelected:function(t){this.selected=t},onFiltered:function(t){this.totalRows=t.length},openImage:function(t){this.showImg=t,this.$bvModal.show("modal-image")},searchBooking:function(){var t=this,e=new FormData;this.req.brokerNo=this.accountSearch.toUpperCase(),this.req.companyCode=this.$store.state.selectedCompany.value,e.append("form",JSON.stringify(this.req));var o=this.$loading.show({loader:"bars",color:"green"});this.$http.post("/middleware/api/secured/get-broker-bookings-details",e).then((function(e){var a=e.data;a.forEach((function(t){(t.defaulter||t.closed||t.auctioned)&&(t._rowVariant="danger")})),t.items=a,t.totalRows=t.items.length,o.hide()})).catch((function(t){alert(t)})).finally((function(){}))}},mounted:function(){this.formatter=new Intl.NumberFormat("en-IN"),void 0!=this.accountSearch&&""!=this.accountSearch&&this.searchBooking()},created:function(){this.$route.params.search&&(this.accountSearch=this.$route.params.search)}},At=Yt,Bt=(o("b01a"),Object(l["a"])(At,$t,Rt,!1,null,"067f3769",null)),Ot=Bt.exports,Ft=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("b-card",{style:{"background-color":t.form.defaulter?"red":"azure"}},[o("b-row",[o("b-col",[o("span",{staticClass:"my-card-heading"},[t._v("NEW RECIPT")])])],1),o("b-row",[o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"bookingNoLbl",label:"Booking No","label-for":"bookingNo"}},[o("b-form-input",{attrs:{id:"bookingNo",disabled:""},model:{value:t.form.bookingNo,callback:function(e){t.$set(t.form,"bookingNo",e)},expression:"form.bookingNo"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:""}},[o("b-form-group",{attrs:{id:"brokerNoLbl",label:"A/C Code","label-for":"brokerNo"}},[o("b-form-input",{attrs:{id:"brokerNo",required:"",disabled:""},model:{value:t.form.brokerNo,callback:function(e){t.$set(t.form,"brokerNo",e)},expression:"form.brokerNo"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:""}},[o("b-form-group",{attrs:{id:"brokerNameLbl",label:"Name","invalid-feedback":"Name is Required","label-for":"brokerName"}},[o("b-form-input",{attrs:{id:"brokerName",required:"",disabled:""},model:{value:t.form.brokerName,callback:function(e){t.$set(t.form,"brokerName",e)},expression:"form.brokerName"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"mobileNoLbl",label:"Mobile No","label-for":"mobileNo"}},[o("b-form-input",{attrs:{id:"mobileNo",disabled:""},model:{value:t.form.mobileNo,callback:function(e){t.$set(t.form,"mobileNo",e)},expression:"form.mobileNo"}})],1)],1),o("b-col",{attrs:{md:"2"}},[o("b-form-group",{attrs:{id:"netWeightLbl",label:"Net Weight","label-for":"netWeight"}},[o("b-form-input",{attrs:{id:"netWeight",disabled:""},model:{value:t.form.netWeight,callback:function(e){t.$set(t.form,"netWeight",e)},expression:"form.netWeight"}})],1)],1),o("b-col",{attrs:{md:"1"}},[o("b-form-group",{attrs:{id:"purityLbl",label:"Purity %","label-for":"purity"}},[o("b-form-input",{attrs:{id:"purity",disabled:""},model:{value:t.form.purity,callback:function(e){t.$set(t.form,"purity",e)},expression:"form.purity"}})],1)],1)],1),o("b-row",[o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:"2"}},[o("b-form-group",{attrs:{id:"reciptDateLbl",label:"Recipt Date","label-for":"reciptDate"}},[o("date-picker",{attrs:{config:t.options,placeholder:"DD/MM/YYYY"},on:{"dp-hide":t.finalIntrestCal,"dp-change":t.finalIntrestCal},model:{value:t.reciptDate,callback:function(e){t.reciptDate=e},expression:"reciptDate"}})],1)],1),o("b-col",{attrs:{md:"2"}},[o("b-form-group",{attrs:{id:"intrestRateLbl",label:"RS"==t.form.intrestType?"Intrest Rate RS":"Intrest Rate %","label-for":"intrestRate"}},[o("b-form-input",{attrs:{id:"intrestRate",disabled:""},model:{value:t.form.intrestRate,callback:function(e){t.$set(t.form,"intrestRate",e)},expression:"form.intrestRate"}})],1)],1),o("b-col",{attrs:{md:"2"}},[o("b-form-group",{staticStyle:{color:"red"},attrs:{id:"prinipleLbl",label:"Principle","label-for":"priniple"}},[o("b-form-input",{staticStyle:{color:"red"},attrs:{id:"priniple"},model:{value:t.submitForm.principle,callback:function(e){t.$set(t.submitForm,"principle",e)},expression:"submitForm.principle"}})],1)],1),o("b-col",{attrs:{md:"2"}},[o("b-form-group",{staticStyle:{color:"red"},attrs:{id:"intrestLbl",label:"Intrest","label-for":"intrest"}},[o("b-form-input",{staticStyle:{color:"red"},attrs:{id:"intrest"},on:{blur:t.givenUpToDate},model:{value:t.submitForm.intrest,callback:function(e){t.$set(t.submitForm,"intrest",e)},expression:"submitForm.intrest"}})],1)],1),o("b-col",[o("b-form-group",{attrs:{id:"descriptionLbl",label:"Description","label-for":"description"}},[o("b-form-input",{attrs:{id:"description",disabled:""},model:{value:t.form.remarks,callback:function(e){t.$set(t.form,"remarks",e)},expression:"form.remarks"}})],1)],1)],1)],1),o("b-card",{staticStyle:{"background-color":"azure"}},[o("b-row",[o("b-col",{attrs:{md:"8"}},[o("b-row",{staticStyle:{border:"1px solid #dee2e6"}},[o("b-table-simple",{attrs:{small:"","caption-top":"",responsive:"",title:"Due Details"}},[o("b-tbody",[o("b-tr",[o("b-th",{staticStyle:{"border-top":"0px"}},[t._v("Given Up To")]),o("b-td",{staticStyle:{"border-top":"0px"}},[o("date-picker",{attrs:{disabled:"",config:t.options,placeholder:"DD/MM/YYYY"},model:{value:t.dates.givenUpTo,callback:function(e){t.$set(t.dates,"givenUpTo",e)},expression:"dates.givenUpTo"}})],1),o("b-th",{staticStyle:{"border-top":"0px"}},[t._v("Issue Date")]),o("b-td",{staticStyle:{"border-top":"0px"}},[o("date-picker",{attrs:{disabled:"",config:t.options,placeholder:"DD/MM/YYYY"},model:{value:t.dates.bookingDate,callback:function(e){t.$set(t.dates,"bookingDate",e)},expression:"dates.bookingDate"}})],1),o("b-th",{staticStyle:{"border-top":"0px"}},[t._v("Due Date")]),o("b-td",{staticStyle:{"border-top":"0px"}},[o("date-picker",{attrs:{disabled:"",config:t.options,placeholder:"DD/MM/YYYY"},model:{value:t.dates.dueDate,callback:function(e){t.$set(t.dates,"dueDate",e)},expression:"dates.dueDate"}})],1),o("b-th",{staticStyle:{"border-top":"0px"}},[t._v("Expiry Date")]),o("b-td",{staticStyle:{"border-top":"0px"}},[o("date-picker",{attrs:{disabled:"",config:t.options,placeholder:"DD/MM/YYYY"},model:{value:t.dates.valueDate,callback:function(e){t.$set(t.dates,"valueDate",e)},expression:"dates.valueDate"}})],1)],1),o("b-tr",[o("b-th",{staticStyle:{"border-top":"0px"}},[t._v("Add Due Months")]),o("b-td",{staticStyle:{"border-top":"0px"}},[o("b-form-input",{staticStyle:{width:"80px"},attrs:{id:"description",type:"number"},on:{blur:t.addDMonths},model:{value:t.dates.dueMonths,callback:function(e){t.$set(t.dates,"dueMonths",e)},expression:"dates.dueMonths"}})],1),o("b-th",{staticStyle:{"border-top":"0px"}},[t._v("Add Exp Months")]),o("b-td",{staticStyle:{"border-top":"0px"}},[o("b-form-input",{staticStyle:{width:"80px"},attrs:{id:"description",type:"number"},on:{blur:t.addVMonths},model:{value:t.dates.expMonths,callback:function(e){t.$set(t.dates,"expMonths",e)},expression:"dates.expMonths"}})],1),o("b-th",{staticStyle:{"border-top":"0px"}},[t._v("Next Due Date")]),o("b-td",{staticStyle:{"border-top":"0px"}},[o("date-picker",{attrs:{disabled:"",config:t.options,placeholder:"DD/MM/YYYY"},model:{value:t.dates.nxtDueDate,callback:function(e){t.$set(t.dates,"nxtDueDate",e)},expression:"dates.nxtDueDate"}})],1),o("b-th",{staticStyle:{"border-top":"0px"}},[t._v("Next Exp Date")]),o("b-td",{staticStyle:{"border-top":"0px"}},[o("date-picker",{attrs:{config:t.options,disabled:"",placeholder:"DD/MM/YYYY"},model:{value:t.dates.nxtValueDate,callback:function(e){t.$set(t.dates,"nxtValueDate",e)},expression:"dates.nxtValueDate"}})],1)],1)],1)],1)],1),o("b-row",{staticStyle:{border:"1px solid #dee2e6"}},[o("b-table-simple",{attrs:{small:"","caption-top":"",responsive:""}},[o("b-tbody",[o("b-tr",[o("b-th",{staticStyle:{"border-top":"0px"}},[t._v("Amount")]),o("b-td",{staticStyle:{"border-top":"0px"}},[o("b-form-input",{attrs:{id:"actualAmount",disabled:"",value:t.formatter.format(Math.round(t.amounts.actualAmount))}})],1),o("b-th",{staticStyle:{"border-top":"0px"}}),o("b-td",{staticStyle:{"border-top":"0px"}}),o("b-th",{staticStyle:{"border-top":"0px"}},[t._v("Principle Bal")]),o("b-td",{staticStyle:{"border-top":"0px"}},[o("b-form-input",{attrs:{id:"prinipleBalance",disabled:"",value:t.formatter.format(Math.round(t.amounts.prinipleBalance))}})],1)],1),o("b-tr",[o("b-th",{staticStyle:{"border-top":"0px"}},[t._v("Intrest")]),o("b-td",{staticStyle:{"border-top":"0px"}},[o("b-form-input",{attrs:{id:"intrestTilDate",disabled:"",value:t.formatter.format(Math.round(t.amounts.intrestTilDate))}})],1),o("b-th",{staticStyle:{"border-top":"0px"}},[t._v("Booking Date")]),o("b-td",{staticStyle:{"border-top":"0px"}},[o("b-form-input",{attrs:{id:"bookingDate",disabled:""},model:{value:t.dates.bookingDate,callback:function(e){t.$set(t.dates,"bookingDate",e)},expression:"dates.bookingDate"}})],1),o("b-th",{staticStyle:{"border-top":"0px"}},[t._v("Intrest Bal")]),o("b-td",{staticStyle:{"border-top":"0px"}},[o("b-form-input",{attrs:{id:"intrestBalance",disabled:"",value:t.formatter.format(Math.round(t.amounts.intrestBalance))}})],1)],1),o("b-tr",[o("b-th",{staticStyle:{"border-top":"0px"}},[t._v("Principle Paid")]),o("b-td",{staticStyle:{"border-top":"0px"}},[o("b-form-input",{attrs:{id:"priniplePaidTil",disabled:"",value:t.formatter.format(Math.round(t.amounts.priniplePaidTil))}})],1),o("b-th",{staticStyle:{"border-top":"0px"}},[t._v("Days")]),o("b-td",{staticStyle:{"border-top":"0px"}},[o("b-form-input",{attrs:{id:"days",disabled:""},model:{value:t.dates.daysTilNow,callback:function(e){t.$set(t.dates,"daysTilNow",e)},expression:"dates.daysTilNow"}})],1),o("b-th",{staticStyle:{"border-top":"0px"}},[t._v("Total Bal")]),o("b-td",{staticStyle:{"border-top":"0px"}},[o("b-form-input",{staticStyle:{color:"red"},attrs:{id:"totalBalance",disabled:"",value:t.formatter.format(Math.round(t.amounts.totalBalance))}})],1)],1),o("b-tr",[o("b-th",{staticStyle:{"border-top":"0px"}},[t._v("Intrest Paid")]),o("b-td",{staticStyle:{"border-top":"0px"}},[o("b-form-input",{staticStyle:{color:"red"},attrs:{id:"intrestPaidTil",disabled:"",value:t.formatter.format(Math.round(t.amounts.intrestPaidTil))}})],1),o("b-th",{staticStyle:{"border-top":"0px"}},[t._v("Remarks")]),o("b-td",{staticStyle:{"border-top":"0px"},attrs:{colspan:"4"}},[o("b-form-input",{attrs:{id:"intrestPaidTil"},model:{value:t.submitForm.remarks,callback:function(e){t.$set(t.submitForm,"remarks",e)},expression:"submitForm.remarks"}})],1)],1)],1)],1)],1)],1),o("b-col",{attrs:{md:"4"}},[t.form.bookingTrans.length>0?o("b-row",[o("b-table-simple",{attrs:{hover:"",small:"","caption-top":"",responsive:""}},[o("b-thead",{attrs:{"head-variant":"dark"}},[o("b-tr",[o("b-th",[t._v("Principle Amount")]),o("b-th",[t._v("Transaction Date")]),o("b-th",[t._v("Paid Principle")]),o("b-th",[t._v("Paid Interest")]),o("b-th",[t._v("Pending Interest")])],1)],1),o("b-tbody",t._l(t.form.bookingTrans,(function(e,a){return o("b-tr",{key:a,attrs:{variant:"secondary"}},[0==a?o("b-th",{staticStyle:{"vertical-align":"middle"},attrs:{rowspan:t.form.bookingTrans.length}},[t._v(t._s(t.formatter.format(t.form.amountTaken)))]):t._e(),o("b-td",[t._v(t._s(t.converteMongoToDate(e.rcvDate)))]),o("b-td",[t._v(t._s(t.formatter.format(Math.round(e.principle))))]),o("b-td",[t._v(t._s(t.formatter.format(Math.round(e.intrest))))]),o("b-td",{style:{color:"#fff","background-color":Math.sign(e.pending)>=-0?"#28a745":"#DC3547"}},[t._v(t._s(t.formatter.format(Math.round(-e.pending))))])],1)})),1),o("b-tfoot",[o("b-tr",{attrs:{variant:"success"}},[o("b-th",{staticStyle:{color:"red",font:"bold"}},[t._v(t._s(t.formatter.format(Math.round(t.form.amountTaken))))]),o("b-td"),o("b-th",{staticStyle:{color:"red",font:"bold"}},[t._v(t._s(t.formatter.format(Math.round(t.paidPrinciple))))]),o("b-th",{staticStyle:{color:"red",font:"bold"}},[t._v(t._s(t.formatter.format(Math.round(t.paidIntrest))))]),o("b-td")],1)],1)],1)],1):t._e()],1)],1),o("b-row",{staticStyle:{position:"sticky",bottom:"0","padding-top":"10px"},attrs:{"bg-variant":"light"}},[o("b-col",{staticStyle:{"text-align":"center !important"},attrs:{md:""}},[o("b-button",{attrs:{variant:"primary text-center",disabled:t.addVal,value:"Create"},on:{click:t.addRecipt}},[t._v("Add Recipt")]),t._v(" "),o("b-button",{attrs:{variant:"secondary text-center",value:"back"},on:{click:function(e){return t.$router.push({name:"Recipts",params:{search:t.search}})}}},[t._v("Back To Recipts")])],1)],1)],1)],1)},Lt=[],Et={data:function(){return{formatter:{},displayFlg:!1,req:{brokerNo:null,companyCode:null,bookingNo:null},selectedTrans:0,options:{format:"DD/MM/YYYY",useCurrent:!0},amountWords:"",bookingDate:new Date,reciptDate:new Date,priniple:0,intrest:0,description:"",dueDate:new Date,valueDate:new Date,quantity:0,paidPrinciple:0,paidIntrest:0,dates:{dueDate:null,valueDate:null,nxtDueDate:null,nxtValueDate:null,givenUpTo:null,bookingDate:null,daysTilNow:null,expMonths:null,dueMonths:null},amounts:{actualAmount:0,intrestTilDate:0,priniplePaidTil:0,intrestPaidTil:0,prinipleBalance:0,intrestBalance:0,totalBalance:0},form:{brokerNo:null,brokerName:null,defaulter:null,closed:null,auctioned:null,mobileNo:null,bookingDate:"",remarks:null,netWeight:0,bookingNo:null,purity:null,intrestRate:null,bookingTrans:[],dueDate:null,valueDate:null,amountTaken:null,intrestType:null},submitForm:{brokerNo:null,bookingNo:null,companyCode:null,transId:null,rcvDate:null,principle:null,intrest:null,remarks:"",dueDate:null,valueDate:null,createdBy:null},lastTrans:null,search:"",attemptSubmit:!1}},filters:{toWords:function(t){return t?_t.a.indianConversion(t,{characterCase:"UPPERCASE"}):""}},created:function(){this.formatter=new Intl.NumberFormat("en-IN"),this.req=this.$route.params.req,this.search=this.$route.params.search},mounted:function(){this.getsSelectedAccount()},methods:{addDMonths:function(){if(this.dates.dueMonths<1)return!1;this.dates.nxtDueDate=W()(this.dates.nxtDueDate,"DD/MM/YYYY").add(this.dates.dueMonths,"months").format("DD/MM/YYYY")},addVMonths:function(){if(this.dates.expMonths<1)return!1;this.dates.nxtValueDate=W()(this.dates.nxtValueDate,"DD/MM/YYYY").add(this.dates.expMonths,"months").format("DD/MM/YYYY")},givenUpToDate:function(){if(null==this.submitForm.intrest||parseInt(this.submitForm.intrest)<1)return!1;var t,e=parseFloat(this.amounts.prinipleBalance),o=parseFloat(this.form.intrestRate),a=0;a="RS"==this.form.intrestType?parseFloat(e*(12*o/100)):parseFloat(e*(o/100));var r=parseFloat(a/360);null!=this.lastTrans?(t=(parseFloat(this.submitForm.intrest)+parseFloat(this.lastTrans.pending))/r,this.dates.givenUpTo=W()(this.lastTrans.rcvDate).add(t,"days").format("DD/MM/YYYY")):(t=parseFloat(this.submitForm.intrest)/r,this.dates.givenUpTo=W()(this.form.bookingDate).add(t,"days").format("DD/MM/YYYY"))},print:function(){window.print()},converteMongoToDate:function(t){if(null!=t&&t&&""!=t){var e=W()(t);return e.format("DD/MM/YYYY")}return null},addRecipt:function(){var t=this;this.attemptSubmit=!0;var e=new FormData;this.submitForm.brokerNo=this.form.brokerNo,this.submitForm.bookingNo=this.form.bookingNo,this.submitForm.companyCode=this.$store.state.selectedCompany.value,this.submitForm.createdBy=this.$store.state.user.username,this.submitForm.rcvDate=W()(this.reciptDate,"DD/MM/YYYY"),this.submitForm.dueDate=W()(this.dates.nxtDueDate,"DD/MM/YYYY"),this.submitForm.valueDate=W()(this.dates.nxtValueDate,"DD/MM/YYYY"),e.append("form",JSON.stringify(this.submitForm)),this.$bvModal.msgBoxConfirm("Please confirm that you want New Recipt.",{title:"Confirmation",size:"sm",buttonSize:"sm",okVariant:"primary",cancelVariant:"danger",okTitle:"Proceed...",cancelTitle:"Cancel",footerClass:"p-2",hideHeaderClose:!1,centered:!0}).then((function(o){if(o){var a=t.$loading.show({loader:"dots",color:"green"});t.$http.post("/middleware/api/secured/add-recipt",e).then((function(){a.hide(),t.$bvModal.msgBoxOk("New Recipt Added",{title:"Confirmation",size:"sm",buttonSize:"sm",okVariant:"info",headerClass:"p-2 border-bottom-0",footerClass:"p-2 border-top-0",centered:!0}).then((function(e){e&&t.$router.push({name:"Recipts",params:{search:t.search}})})).catch((function(t){alert(t)}))})).catch((function(t){alert(t)})).finally((function(){}))}})).catch((function(t){alert(t)}))},validateEmpty:function(t){return""===t||t<=0},getsSelectedAccount:function(){var t=this,e=new FormData;null!=this.req.brokerNo&&null!=this.req.bookingNo||this.$router.push("/recipts"),e.append("form",JSON.stringify(this.req));var o=this.$loading.show({loader:"bars",color:"green"});this.$http.post("/middleware/api/secured/get-booking-recipts",e).then((function(e){o.hide(),null!=e.data&&""!=e.data?(e.data.bookingTrans.length>0&&(t.displayFlg=!0,e.data.bookingTrans.sort((function(t,e){return W()(t.rcvDate)-W()(e.rcvDate)})),e.data.bookingTrans.forEach((function(o,a){var r;t.paidPrinciple+=parseFloat(o.principle),t.paidIntrest+=parseFloat(o.intrest);var n=parseFloat(e.data.amountTaken),s=parseFloat(e.data.intrestRate),i=0;i="RS"==e.data.intrestType?parseFloat(n*(12*s/100)):parseFloat(n*(s/100));var l,c=parseFloat(i/360);if(0==a)r=W()(o.rcvDate).diff(W()(e.data.bookingDate),"days"),l=parseFloat(r*c),o.pending=parseFloat(parseFloat(o.intrest)-l);else{for(var d=parseFloat(0),u=a-1;u>=0;u--)d+=parseFloat(e.data.bookingTrans[u].principle);n=parseFloat(e.data.amountTaken)-parseFloat(d),r=W()(o.rcvDate).diff(W()(e.data.bookingTrans[a-1].rcvDate),"days"),i="RS"==e.data.intrestType?parseFloat(n*(12*s/100)):parseFloat(n*(s/100)),c=parseFloat(i/360),l=parseFloat(r*c)-parseFloat(e.data.bookingTrans[a-1].pending),o.pending=parseFloat(parseFloat(o.intrest)-l)}})),t.lastTrans=e.data.bookingTrans[e.data.bookingTrans.length-1]),t.dates.bookingDate=W()(e.data.bookingDate).format("DD/MM/YYYY"),t.dates.dueDate=W()(e.data.dueDate).format("DD/MM/YYYY"),t.dates.valueDate=W()(e.data.valueDate).format("DD/MM/YYYY"),t.dates.nxtDueDate=t.dates.dueDate,t.dates.nxtValueDate=t.dates.valueDate,t.dates.daysTilNow=W()().diff(W()(e.data.bookingDate),"days"),t.form=e.data,t.finalIntrestCal()):t.$bvModal.msgBoxOk("Please select proper user",{title:"Wrong Information Provided",size:"sm",buttonSize:"sm",okVariant:"danger",headerClass:"p-2 border-bottom-0",footerClass:"p-2 border-top-0",centered:!0}).then((function(e){e&&t.$router.push("/recipts")})).catch((function(t){alert(t)}))})).catch((function(t){alert(t)})).finally((function(){}))},finalIntrestCal:function(){this.amounts.actualAmount=parseFloat(this.form.amountTaken),this.amounts.priniplePaidTil=parseFloat(this.paidPrinciple),this.amounts.intrestPaidTil=parseFloat(this.paidIntrest),this.amounts.prinipleBalance=parseFloat(this.form.amountTaken)-parseFloat(this.paidPrinciple);var t=0,e=parseFloat(this.form.intrestRate),o=0,a=parseFloat(0);t="RS"==this.form.intrestType?parseFloat((parseFloat(this.form.amountTaken)-parseFloat(this.paidPrinciple))*(12*e/100)):parseFloat((parseFloat(this.form.amountTaken)-parseFloat(this.paidPrinciple))*(e/100));var r=parseFloat(t/360);null!=this.lastTrans?(o=W()(this.reciptDate,"DD/MM/YYYY").diff(W()(this.lastTrans.rcvDate),"days"),a=parseFloat(this.lastTrans.pending)):o=W()(this.reciptDate,"DD/MM/YYYY").diff(W()(this.form.bookingDate),"days"),this.amounts.intrestTilDate=parseFloat(this.paidIntrest)+parseFloat(o*r)-a,this.amounts.intrestBalance=parseFloat(this.amounts.intrestTilDate)-parseFloat(this.paidIntrest),this.amounts.totalBalance=parseFloat(this.amounts.intrestBalance)+parseFloat(this.amounts.prinipleBalance)},reload:function(){window.location.reload(!0)},converter:function(){return _t.a}},computed:{addVal:function(){return!(null!=this.submitForm.principle&&this.submitForm.principle>0||null!=this.submitForm.intrest&&this.submitForm.intrest>0)}}},jt=Et,zt=Object(l["a"])(jt,Ft,Lt,!1,null,null,null),qt=zt.exports,Vt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("b-card",{style:{"background-color":t.form.defaulter?"red":"azure"}},[o("b-row",[o("b-col",[o("span",{staticClass:"my-card-heading",staticStyle:{color:"red"}},[t._v("DELETE RECIPT")])])],1),o("b-row",[o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"bookingNoLbl",label:"Booking No","label-for":"bookingNo"}},[o("b-form-input",{attrs:{id:"bookingNo",disabled:""},model:{value:t.form.bookingNo,callback:function(e){t.$set(t.form,"bookingNo",e)},expression:"form.bookingNo"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:""}},[o("b-form-group",{attrs:{id:"brokerNoLbl",label:"A/C Code","label-for":"brokerNo"}},[o("b-form-input",{attrs:{id:"brokerNo",required:"",disabled:""},model:{value:t.form.brokerNo,callback:function(e){t.$set(t.form,"brokerNo",e)},expression:"form.brokerNo"}})],1)],1),o("b-col",{staticClass:"col-padding-margin-right",attrs:{md:""}},[o("b-form-group",{attrs:{id:"brokerNameLbl",label:"Name","invalid-feedback":"Name is Required","label-for":"brokerName"}},[o("b-form-input",{attrs:{id:"brokerName",required:"",disabled:""},model:{value:t.form.brokerName,callback:function(e){t.$set(t.form,"brokerName",e)},expression:"form.brokerName"}})],1)],1)],1),o("b-row",[o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"mobileNoLbl",label:"Mobile No","label-for":"mobileNo"}},[o("b-form-input",{attrs:{id:"mobileNo",disabled:""},model:{value:t.form.mobileNo,callback:function(e){t.$set(t.form,"mobileNo",e)},expression:"form.mobileNo"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"netWeightLbl",label:"Net Weight","label-for":"netWeight"}},[o("b-form-input",{attrs:{id:"netWeight",disabled:""},model:{value:t.form.netWeight,callback:function(e){t.$set(t.form,"netWeight",e)},expression:"form.netWeight"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"purityLbl",label:"Purity %","label-for":"purity"}},[o("b-form-input",{attrs:{id:"purity",disabled:""},model:{value:t.form.purity,callback:function(e){t.$set(t.form,"purity",e)},expression:"form.purity"}})],1)],1),o("b-col",{attrs:{md:""}},[o("b-form-group",{attrs:{id:"intrestRateLbl",label:"RS"==t.form.intrestType?"Intrest Rate RS":"Intrest Rate %","label-for":"intrestRate"}},[o("b-form-input",{attrs:{id:"intrestRate",disabled:""},model:{value:t.form.intrestRate,callback:function(e){t.$set(t.form,"intrestRate",e)},expression:"form.intrestRate"}})],1)],1)],1)],1),o("b-card",{staticStyle:{"background-color":"azure"}},[o("b-row",[o("b-col",{attrs:{md:""}},[t.form.bookingTrans.length>0?o("b-row",[o("b-table-simple",{attrs:{hover:"",small:"","caption-top":"",responsive:""}},[o("b-thead",{attrs:{"head-variant":"dark"}},[o("b-tr",[o("b-th",[t._v("Transaction Date")]),o("b-th",[t._v("Paid Principle")]),o("b-th",[t._v("Paid Interest")]),o("b-th",[t._v("Pending Interest")])],1)],1),o("b-tbody",t._l(t.form.bookingTrans,(function(e,a){return o("b-tr",{key:a,attrs:{variant:"secondary"}},[o("b-td",{style:{color:a==t.form.bookingTrans.length-1?"#fff":"#495057","background-color":a==t.form.bookingTrans.length-1?"#DC3547":"#e9ecef"}},[t._v(t._s(t.converteMongoToDate(e.rcvDate)))]),o("b-td",{style:{color:a==t.form.bookingTrans.length-1?"#fff":"#495057","background-color":a==t.form.bookingTrans.length-1?"#DC3547":"#e9ecef"}},[t._v(t._s(t.formatter.format(e.principle)))]),o("b-td",{style:{color:a==t.form.bookingTrans.length-1?"#fff":"#495057","background-color":a==t.form.bookingTrans.length-1?"#DC3547":"#e9ecef"}},[t._v(t._s(t.formatter.format(e.intrest)))]),o("b-td",{style:{color:a==t.form.bookingTrans.length-1?"#fff":"#495057","background-color":a==t.form.bookingTrans.length-1?"#DC3547":"#e9ecef"}},[t._v(t._s(t.formatter.format(-e.pending)))])],1)})),1)],1)],1):t._e()],1)],1),o("b-row",{staticStyle:{position:"sticky",bottom:"0","padding-top":"10px"},attrs:{"bg-variant":"light"}},[o("b-col",{staticStyle:{"text-align":"center !important"},attrs:{md:""}},[o("b-button",{attrs:{variant:"primary text-center",value:"print"},on:{click:t.print}},[t._v("Print")]),t._v(" "),o("b-button",{attrs:{variant:"danger text-center",disabled:t.form.bookingTrans.length<1,value:"Create"},on:{click:t.deleteRecipt}},[t._v("Delete Recipt")]),t._v(" "),o("b-button",{attrs:{variant:"secondary text-center",value:"back"},on:{click:function(e){return t.$router.push({name:"Recipts",params:{search:t.search}})}}},[t._v("Back To Recipts")])],1)],1)],1)],1)},Ut=[],Wt=o("81b2"),Gt=o.n(Wt),Ht={data:function(){return{formatter:{},displayFlg:!1,req:{brokerNo:null,companyCode:null,bookingNo:null},selectedTrans:0,options:{format:"DD/MM/YYYY",useCurrent:!0},amountWords:"",bookingDate:new Date,reciptDate:new Date,priniple:0,intrest:0,description:"",dueDate:new Date,valueDate:new Date,quantity:0,paidPrinciple:0,paidIntrest:0,dates:{dueDate:null,valueDate:null,nxtDueDate:null,nxtValueDate:null,givenUpTo:null,bookingDate:null,daysTilNow:null,expMonths:null,dueMonths:null},amounts:{actualAmount:0,intrestTilDate:0,priniplePaidTil:0,intrestPaidTil:0,prinipleBalance:0,intrestBalance:0,totalBalance:0},form:{brokerNo:null,brokerName:null,defaulter:null,closed:null,auctioned:null,mobileNo:null,bookingDate:"",remarks:null,netWeight:0,bookingNo:null,purity:null,intrestRate:null,bookingTrans:[],dueDate:null,valueDate:null,amountTaken:null,intrestType:null},submitForm:{brokerNo:null,bookingNo:null,companyCode:null,transId:null,rcvDate:null,principle:null,intrest:null,remarks:"",dueDate:null,valueDate:null,createdBy:null},lastTrans:null,search:"",attemptSubmit:!1}},filters:{toWords:function(t){return t?Gt.a.toWords(t).toUpperCase():""}},created:function(){this.formatter=new Intl.NumberFormat("en-IN"),this.req=this.$route.params.req,this.search=this.$route.params.search},mounted:function(){this.getsSelectedAccount()},methods:{print:function(){window.print()},converteMongoToDate:function(t){if(null!=t&&t&&""!=t){var e=W()(t);return e.format("DD/MM/YYYY")}return null},deleteRecipt:function(){var t=this;this.attemptSubmit=!0;var e=new FormData;this.submitForm.brokerNo=this.form.brokerNo,this.submitForm.bookingNo=this.form.bookingNo,this.submitForm.transId=this.form.bookingTrans[this.form.bookingTrans.length-1].transId,this.submitForm.companyCode=this.$store.state.selectedCompany.value,this.submitForm.createdBy=this.$store.state.user.username,e.append("form",JSON.stringify(this.submitForm)),this.$bvModal.msgBoxConfirm("Please confirm that you want New Recipt.",{title:"Confirmation",size:"sm",buttonSize:"sm",okVariant:"primary",cancelVariant:"danger",okTitle:"Proceed...",cancelTitle:"Cancel",footerClass:"p-2",hideHeaderClose:!1,centered:!0}).then((function(o){if(o){var a=t.$loading.show({loader:"dots",color:"green"});t.$http.post("/middleware/api/secured/delete-recipt",e).then((function(){a.hide(),t.$bvModal.msgBoxOk("Recipt Deleted",{title:"Confirmation",size:"sm",buttonSize:"sm",okVariant:"info",headerClass:"p-2 border-bottom-0",footerClass:"p-2 border-top-0",centered:!0}).then((function(e){e&&t.$router.push({name:"Recipts",params:{search:t.search}})})).catch((function(t){alert(t)}))})).catch((function(t){alert(t)})).finally((function(){}))}})).catch((function(t){alert(t)}))},getsSelectedAccount:function(){var t=this,e=new FormData;null!=this.req.brokerNo&&null!=this.req.bookingNo||this.$router.push("/recipts"),e.append("form",JSON.stringify(this.req));var o=this.$loading.show({loader:"bars",color:"green"});this.$http.post("/middleware/api/secured/get-booking-recipts",e).then((function(e){if(o.hide(),null!=e.data&&""!=e.data){e.data.bookingTrans.length>0&&(t.displayFlg=!0,e.data.bookingTrans.sort((function(t,e){return W()(t.rcvDate)-W()(e.rcvDate)})),e.data.bookingTrans.forEach((function(o,a){var r;t.paidPrinciple+=parseFloat(o.principle),t.paidIntrest+=parseFloat(o.intrest);var n=parseFloat(e.data.amountTaken),s=parseFloat(e.data.intrestRate),i=0;i="RS"==e.data.intrestType?parseFloat(n*(12*s/100)):parseFloat(n*(s/100));var l,c=parseFloat(i/360);if(0==a)r=W()(o.rcvDate).diff(W()(e.data.bookingDate),"days"),l=parseFloat(r*c),o.pending=parseFloat(parseFloat(o.intrest)-l);else{for(var d=parseFloat(0),u=a-1;u>=0;u--)d+=parseFloat(e.data.bookingTrans[u].principle);n=parseFloat(e.data.amountTaken)-parseFloat(d),r=W()(o.rcvDate).diff(W()(e.data.bookingTrans[a-1].rcvDate),"days"),i="RS"==e.data.intrestType?parseFloat(n*(12*s/100)):parseFloat(n*(s/100)),c=parseFloat(i/360),l=parseFloat(r*c)-parseFloat(e.data.bookingTrans[a-1].pending),o.pending=parseFloat(parseFloat(o.intrest)-l)}})),t.lastTrans=e.data.bookingTrans[e.data.bookingTrans.length-1]),t.dates.bookingDate=W()(e.data.bookingDate).format("DD/MM/YYYY"),t.dates.dueDate=W()(e.data.dueDate).format("DD/MM/YYYY"),t.dates.valueDate=W()(e.data.valueDate).format("DD/MM/YYYY"),t.dates.nxtDueDate=t.dates.dueDate,t.dates.nxtValueDate=t.dates.valueDate,t.dates.daysTilNow=W()().diff(W()(e.data.bookingDate),"days"),t.amounts.actualAmount=parseFloat(e.data.amountTaken),t.amounts.priniplePaidTil=parseFloat(t.paidPrinciple),t.amounts.intrestPaidTil=parseFloat(t.paidIntrest),t.amounts.prinipleBalance=parseFloat(e.data.amountTaken)-parseFloat(t.paidPrinciple);var a=0,r=parseFloat(e.data.intrestRate),n=0,s=parseFloat(0);a="RS"==e.data.intrestType?parseFloat((parseFloat(e.data.amountTaken)-parseFloat(t.paidPrinciple))*(12*r/100)):parseFloat((parseFloat(e.data.amountTaken)-parseFloat(t.paidPrinciple))*(r/100));var i=parseFloat(a/360);null!=t.lastTrans?(n=W()().diff(W()(t.lastTrans.rcvDate),"days"),s=parseFloat(t.lastTrans.pending)):n=W()().diff(W()(e.data.bookingDate),"days"),t.amounts.intrestTilDate=parseFloat(t.paidIntrest)+parseFloat(n*i)-s,t.amounts.intrestBalance=parseFloat(t.amounts.intrestTilDate)-parseFloat(t.paidIntrest),t.amounts.totalBalance=parseFloat(t.amounts.intrestBalance)+parseFloat(t.amounts.prinipleBalance),t.amounts.intrestBalance=t.formatter.format(t.amounts.intrestBalance),t.amounts.totalBalance=t.formatter.format(t.amounts.totalBalance),t.amounts.intrestTilDate=t.formatter.format(t.amounts.intrestTilDate),t.amounts.actualAmount=t.formatter.format(t.amounts.actualAmount),t.amounts.priniplePaidTil=t.formatter.format(t.amounts.priniplePaidTil),t.amounts.intrestPaidTil=t.formatter.format(t.amounts.intrestPaidTil),t.amounts.prinipleBalance=t.formatter.format(t.amounts.prinipleBalance),t.form=e.data}else t.$bvModal.msgBoxOk("Please select proper user",{title:"Wrong Information Provided",size:"sm",buttonSize:"sm",okVariant:"danger",headerClass:"p-2 border-bottom-0",footerClass:"p-2 border-top-0",centered:!0}).then((function(e){e&&t.$router.push("/recipts")})).catch((function(t){alert(t)}))})).catch((function(t){alert(t)})).finally((function(){}))},reload:function(){window.location.reload(!0)},converter:function(){return Gt.a}},computed:{}},Jt=Ht,Kt=Object(l["a"])(Jt,Vt,Ut,!1,null,null,null),Qt=Kt.exports,Zt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("b-card",[o("b-row",[o("b-col",{attrs:{cols:"2",md:""}},[o("b-form-group",{attrs:{label:"Select Report Date"}},[o("date-picker",{attrs:{size:"md",config:t.dateOptions,placeholder:"DD/MM/YYYY"},model:{value:t.reportDate,callback:function(e){t.reportDate=e},expression:"reportDate"}})],1)],1),o("b-col",{attrs:{cols:"3","align-left":"",md:""}},[o("b-form-group",{attrs:{label:"Select Report Type"}},[o("b-form-radio-group",{attrs:{id:"btn-radios-2",options:t.options,buttons:"","button-variant":"outline-info",size:"md",name:"radio-btn-outline"},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],1),o("b-col",{staticStyle:{"text-align":"left"},attrs:{md:""}},[o("b-button",{staticStyle:{"margin-top":"28px"},attrs:{variant:"primary text-center",value:"report"},on:{click:t.generateReport}},[t._v("Generate Report")])],1)],1)],1)},Xt=[],te=(o("a630"),o("4ec9"),o("3ca3"),o("ddb0"),o("5530")),ee={data:function(){return{dateOptions:{format:"DD/MM/YYYY",useCurrent:!0},reportDate:new Date,selected:"daily",options:[{text:"Daily",value:"daily"},{text:"Monthly",value:"monthly"},{text:"Yearly",value:"yearly"},{text:"Final Report",value:"fully"}]}},created:function(){this.selected=this.$route.params.reportType,this.reportDate=this.$route.params.reportDate},methods:{generateReport:function(){var t=this,e="/middleware/api/secured/get-daily-report/";"monthly"==this.selected&&(e="/middleware/api/secured/get-month-report/"),"yearly"==this.selected&&(e="/middleware/api/secured/get-year-report/"),"fully"==this.selected&&(e="/middleware/api/secured/get-full-report/"),this.$http.get(e+W()(this.reportDate,"DD/MM/YYYY").format("YYYY-MM-DD")+"/"+this.$store.state.selectedCompany.value).then((function(e){var o,a,r,n,s,i,l,c;"fully"==t.selected&&(e.data[0].openningBalance=[{totalPrinciple:0,totalIntrest:0,totalAmount:0,tranType:"Res-Exp"},{totalPrinciple:0,totalIntrest:0,totalAmount:0,tranType:"Issue"},{totalPrinciple:0,totalIntrest:0,totalAmount:0,tranType:"Off Exp"},{totalPrinciple:0,totalIntrest:0,totalAmount:0,tranType:"Capital"}]),e.data[0].openningBalance.forEach((function(t){"Res-Exp"==t.tranType&&(n=t),"Issue"==t.tranType&&(o=t),"Capital"==t.tranType&&(a=t),"Off Exp"==t.tranType&&(r=t)})),e.data[0].closingBalance.forEach((function(t){"Res-Exp"==t.tranType&&(c=t),"Issue"==t.tranType&&(s=t),"Capital"==t.tranType&&(i=t),"Off Exp"==t.tranType&&(l=t)}));var d={issue:o,capital:a,office:r,ress:n},u={issue:s,capital:i,office:l,ress:c},m=t.combineAll(t.selected,e.data[0].totalGivenAmount,e.data[0].totalInvestmentAmount),b=t.combineAll(t.selected,e.data[0].totalReturnInvestmentAmount,e.data[0].totalReturnsAmount),f=t.combineAll(t.selected,m,e.data[0].totalOffAmount),p=t.combineAll(t.selected,m,e.data[0].totalRessAmount),h=t.combineAll(t.selected,b,f),g=t.combineAll(t.selected,h,p);t.$router.push({name:"PrintReports",params:{closingBal:u,creditDebits:g,res:e.data[0],openningBal:d,reportDate:t.reportDate,reportType:t.selected}})})).catch((function(t){alert(t)})).finally((function(){}))},getSortOrder:function(t){return function(e,o){return e[t]>o[t]?1:e[t]<o[t]?-1:0}},combineAll:function(t,e,o){var a=new Map,r="";"daily"==t&&(e.forEach((function(t){return a.set(t.bookingNo,t)})),o.forEach((function(t){return a.set(t.bookingNo,Object(te["a"])({},a.get(t.bookingNo),{},t))})),r="bookingNo"),"monthly"==t&&(e.forEach((function(t){return a.set(t.selDate,t)})),o.forEach((function(t){return a.set(t.selDate,Object(te["a"])({},a.get(t.selDate),{},t))})),r="selDate"),"yearly"==t&&(e.forEach((function(t){return a.set(t.month,t)})),o.forEach((function(t){return a.set(t.month,Object(te["a"])({},a.get(t.month),{},t))})),r="month"),"fully"==t&&(e.forEach((function(t){return a.set(t.year,t)})),o.forEach((function(t){return a.set(t.year,Object(te["a"])({},a.get(t.year),{},t))})),r="year");var n=Array.from(a.values());return n.sort(this.getSortOrder(r)),n}}},oe=ee,ae=Object(l["a"])(oe,Zt,Xt,!1,null,null,null),re=ae.exports,ne=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("b-card",[o("b-row",[o("b-col",[o("span",[o("h4",[t._v("HARSHA FINANCE("+t._s(t.$store.state.selectedCompany.text)+")")])]),o("span",[o("h5",[t._v("Dno:74-14-28,Yanamalakuduru Road,Ayyappanagar,Vijayawada,Ph:9440324545")])]),"yearly"==t.reportType?o("span",[o("h4",[t._v("Year Report-"+t._s(t.moment(t.reportDate,"DD/MM/YYYY").format("YYYY")))])]):"monthly"==t.reportType?o("span",[o("h4",[t._v("Month Report-"+t._s(t.moment(t.reportDate,"DD/MM/YYYY").format("MM-YYYY")))])]):"daily"==t.reportType?o("span",[o("h4",[t._v("Day Report-"+t._s(t.moment(t.reportDate,"DD/MM/YYYY").format("DD-MM-YYYY")))])]):o("span",[o("h4",[t._v("Final Report")])])])],1),o("b-row",[o("b-col",{staticStyle:{float:"left"},attrs:{cols:"2"}},[o("span",{staticStyle:{float:"left"}},[t._v("Date:")])]),o("b-col",{staticStyle:{float:"left"},attrs:{cols:"2"}},[o("span",{staticStyle:{float:"left"}},[t._v(t._s(t.moment().format("ll")))])])],1),o("b-row",[o("b-col",{staticStyle:{float:"left"},attrs:{cols:"2"}},[o("span",{staticStyle:{float:"left"}},[t._v("Openning Balance:")])]),o("b-col",{staticStyle:{float:"left"},attrs:{cols:"2"}},[o("span",{staticStyle:{float:"left"}},[t._v(t._s(t.formatter.format(t.openBal)))])])],1),o("b-row",[o("b-col",{staticStyle:{float:"left"},attrs:{cols:"2"}},[o("span",{staticStyle:{float:"left"}},[t._v("Investment:")])]),o("b-col",{staticStyle:{float:"left"},attrs:{cols:"2"}},[o("span",{staticStyle:{float:"left"}},[t._v(t._s(t.formatter.format(t.openInvestment)))])])],1),o("b-row",[o("b-col",{staticStyle:{float:"left"},attrs:{cols:"2"}},[o("span",{staticStyle:{float:"left"}},[t._v("TurnOver:")])]),o("b-col",{staticStyle:{float:"left"},attrs:{cols:"2"}},[o("span",{staticStyle:{float:"left"}},[t._v(t._s(t.formatter.format(t.openTurnover)))])])],1),o("b-row",["yearly"==t.reportType?o("b-col",[o("b-table-simple",{attrs:{hover:"",small:"","caption-top":"",responsive:""}},[o("b-thead",{attrs:{"head-variant":"dark"}},[o("b-tr",[o("b-th",{staticStyle:{"text-align":"center","background-color":"#007bff"},attrs:{colspan:"5"}},[t._v("Credits")]),o("b-th",{staticStyle:{"text-align":"center","background-color":"#dc3545"},attrs:{colspan:"5"}},[t._v("Debits")]),o("b-th",{staticStyle:{"text-align":"center","background-color":"#6f42c1"},attrs:{colspan:"2"}},[t._v("Expences")])],1),o("b-tr",[o("b-th",{staticStyle:{"text-align":"center","background-color":"#fff",color:"#007bff"}},[t._v("SNo")]),o("b-th",{staticStyle:{"text-align":"center","background-color":"#fff",color:"#007bff"}},[t._v("Month")]),o("b-th",{staticStyle:{"text-align":"center","background-color":"#fff",color:"#007bff"}},[t._v("Principle")]),o("b-th",{staticStyle:{"text-align":"center","background-color":"#fff",color:"#007bff"}},[t._v("Intrest")]),o("b-th",{staticStyle:{"text-align":"center","background-color":"#fff",color:"#007bff"}},[t._v("Investment")]),o("b-th",{staticStyle:{"text-align":"center","background-color":"#fff",color:"#dc3545"}},[t._v("RS Lend")]),o("b-th",{staticStyle:{"text-align":"center","background-color":"#fff",color:"#dc3545"}},[t._v("Principle")]),o("b-th",{staticStyle:{"text-align":"center","background-color":"#fff",color:"#dc3545"}},[t._v("Intrest")]),o("b-th",{staticStyle:{"text-align":"center","background-color":"#fff",color:"#dc3545"}},[t._v("Off")]),o("b-th",{staticStyle:{"text-align":"center","background-color":"#fff",color:"#dc3545"}},[t._v("Ress")]),o("b-th",{staticStyle:{"text-align":"center","background-color":"#fff",color:"#6f42c1"}},[t._v("TurnOver")]),o("b-th",{staticStyle:{"text-align":"center","background-color":"#fff",color:"#6f42c1"}},[t._v("BF")])],1)],1),o("b-tbody",t._l(t.creditDebits,(function(e,a){return o("b-tr",{key:a},[o("b-th",[t._v(t._s(a+1))]),o("b-td",[t._v(t._s(t.getMonth(e.month)))]),o("b-td",[t._v(t._s(void 0!=e.transPrincipe?t.formatter.format(e.transPrincipe):""))]),o("b-td",[t._v(t._s(void 0!=e.transIntrest?t.formatter.format(e.transIntrest):""))]),o("b-td",[t._v(t._s(void 0!=e.totalCapitalAmount?t.formatter.format(e.totalCapitalAmount):""))]),o("b-td",[t._v(t._s(void 0!=e.totalBookingAmount?t.formatter.format(e.totalBookingAmount):""))]),o("b-td",[t._v(t._s(void 0!=e.investTransPrincipe?t.formatter.format(e.investTransPrincipe):""))]),o("b-td",[t._v(t._s(void 0!=e.investTransIntrest?t.formatter.format(e.investTransIntrest):""))]),o("b-td",[t._v(t._s(void 0!=e.totalOffAmount?t.formatter.format(e.totalOffAmount):""))]),o("b-td",[t._v(t._s(void 0!=e.totalRessAmount?t.formatter.format(e.totalRessAmount):""))]),o("b-td",[t._v(t._s(void 0!=e.turnOver?t.formatter.format(e.turnOver):""))]),o("b-td",[t._v(t._s(void 0!=e.bf?t.formatter.format(e.bf):""))])],1)})),1),o("b-tfoot",[o("b-tr",[o("b-th",{attrs:{variant:"secondary"}},[t._v("Totals:")]),o("b-th",{attrs:{variant:"secondary"}}),o("b-th",{attrs:{variant:"secondary"}},[t._v(t._s(t.formatter.format(t.totals.transPrincipe)))]),o("b-th",{attrs:{variant:"secondary"}},[t._v(t._s(t.formatter.format(t.totals.transIntrest)))]),o("b-th",{attrs:{variant:"secondary"}},[t._v(t._s(t.formatter.format(t.totals.totalCapitalAmount)))]),o("b-th",{attrs:{variant:"secondary"}},[t._v(t._s(t.formatter.format(t.totals.totalBookingAmount)))]),o("b-th",{attrs:{variant:"secondary"}},[t._v(t._s(t.formatter.format(t.totals.investTransPrincipe)))]),o("b-th",{attrs:{variant:"secondary"}},[t._v(t._s(t.formatter.format(t.totals.investTransIntrest)))]),o("b-th",{attrs:{variant:"secondary"}},[t._v(t._s(t.formatter.format(t.totals.totalOffAmount)))]),o("b-th",{attrs:{variant:"secondary"}},[t._v(t._s(t.formatter.format(t.totals.totalRessAmount)))]),o("b-th",{attrs:{variant:"secondary"}}),o("b-th",{attrs:{variant:"secondary"}})],1)],1)],1)],1):"monthly"==t.reportType?o("b-col",[o("b-table-simple",{attrs:{hover:"",small:"","caption-top":"",responsive:""}},[o("b-thead",{attrs:{"head-variant":"dark"}},[o("b-tr",[o("b-th",{staticStyle:{"text-align":"center","background-color":"#007bff"},attrs:{colspan:"5"}},[t._v("Credits")]),o("b-th",{staticStyle:{"text-align":"center","background-color":"#dc3545"},attrs:{colspan:"5"}},[t._v("Debits")]),o("b-th",{staticStyle:{"text-align":"center","background-color":"#6f42c1"},attrs:{colspan:"2"}},[t._v("Expences")])],1),o("b-tr",[o("b-th",{staticStyle:{"text-align":"center","background-color":"#fff",color:"#007bff"}},[t._v("SNo")]),o("b-th",{staticStyle:{"text-align":"center","background-color":"#fff",color:"#007bff"}},[t._v("Date")]),o("b-th",{staticStyle:{"text-align":"center","background-color":"#fff",color:"#007bff"}},[t._v("Principle")]),o("b-th",{staticStyle:{"text-align":"center","background-color":"#fff",color:"#007bff"}},[t._v("Intrest")]),o("b-th",{staticStyle:{"text-align":"center","background-color":"#fff",color:"#007bff"}},[t._v("Investment")]),o("b-th",{staticStyle:{"text-align":"center","background-color":"#fff",color:"#dc3545"}},[t._v("RS Lend")]),o("b-th",{staticStyle:{"text-align":"center","background-color":"#fff",color:"#dc3545"}},[t._v("Principle")]),o("b-th",{staticStyle:{"text-align":"center","background-color":"#fff",color:"#dc3545"}},[t._v("Intrest")]),o("b-th",{staticStyle:{"text-align":"center","background-color":"#fff",color:"#dc3545"}},[t._v("Off")]),o("b-th",{staticStyle:{"text-align":"center","background-color":"#fff",color:"#dc3545"}},[t._v("Ress")]),o("b-th",{staticStyle:{"text-align":"center","background-color":"#fff",color:"#6f42c1"}},[t._v("TurnOver")]),o("b-th",{staticStyle:{"text-align":"center","background-color":"#fff",color:"#6f42c1"}},[t._v("BF")])],1)],1),o("b-tbody",t._l(t.creditDebits,(function(e,a){return o("b-tr",{key:a},[o("b-th",[t._v(t._s(a+1))]),o("b-td",[t._v(t._s(t.moment(e.selDate).format("DD/MM/YYYY")))]),o("b-td",[t._v(t._s(void 0!=e.transPrincipe?t.formatter.format(e.transPrincipe):""))]),o("b-td",[t._v(t._s(void 0!=e.transIntrest?t.formatter.format(e.transIntrest):""))]),o("b-td",[t._v(t._s(void 0!=e.totalCapitalAmount?t.formatter.format(e.totalCapitalAmount):""))]),o("b-td",[t._v(t._s(void 0!=e.totalBookingAmount?t.formatter.format(e.totalBookingAmount):""))]),o("b-td",[t._v(t._s(void 0!=e.investTransPrincipe?t.formatter.format(e.investTransPrincipe):""))]),o("b-td",[t._v(t._s(void 0!=e.investTransIntrest?t.formatter.format(e.investTransIntrest):""))]),o("b-td",[t._v(t._s(void 0!=e.totalOffAmount?t.formatter.format(e.totalOffAmount):""))]),o("b-td",[t._v(t._s(void 0!=e.totalRessAmount?t.formatter.format(e.totalRessAmount):""))]),o("b-td",[t._v(t._s(void 0!=e.turnOver?t.formatter.format(e.turnOver):""))]),o("b-td",[t._v(t._s(void 0!=e.bf?t.formatter.format(e.bf):""))])],1)})),1),o("b-tfoot",[o("b-tr",[o("b-th",{attrs:{variant:"secondary"}},[t._v("Totals:")]),o("b-th",{attrs:{variant:"secondary"}}),o("b-th",{attrs:{variant:"secondary"}},[t._v(t._s(t.formatter.format(t.totals.transPrincipe)))]),o("b-th",{attrs:{variant:"secondary"}},[t._v(t._s(t.formatter.format(t.totals.transIntrest)))]),o("b-th",{attrs:{variant:"secondary"}},[t._v(t._s(t.formatter.format(t.totals.totalCapitalAmount)))]),o("b-th",{attrs:{variant:"secondary"}},[t._v(t._s(t.formatter.format(t.totals.totalBookingAmount)))]),o("b-th",{attrs:{variant:"secondary"}},[t._v(t._s(t.formatter.format(t.totals.investTransPrincipe)))]),o("b-th",{attrs:{variant:"secondary"}},[t._v(t._s(t.formatter.format(t.totals.investTransIntrest)))]),o("b-th",{attrs:{variant:"secondary"}},[t._v(t._s(t.formatter.format(t.totals.totalOffAmount)))]),o("b-th",{attrs:{variant:"secondary"}},[t._v(t._s(t.formatter.format(t.totals.totalRessAmount)))]),o("b-th",{attrs:{variant:"secondary"}}),o("b-th",{attrs:{variant:"secondary"}})],1)],1)],1)],1):"daily"==t.reportType?o("b-col",[o("b-table-simple",{attrs:{hover:"",small:"","caption-top":"",responsive:""}},[o("b-thead",{attrs:{"head-variant":"dark"}},[o("b-tr",[o("b-th",{staticStyle:{"text-align":"center","background-color":"#007bff"},attrs:{colspan:"6"}},[t._v("Credits")]),o("b-th",{staticStyle:{"text-align":"center","background-color":"#dc3545"},attrs:{colspan:"5"}},[t._v("Debits")]),o("b-th",{staticStyle:{"text-align":"center","background-color":"#6f42c1"},attrs:{colspan:"2"}},[t._v("Expences")])],1),o("b-tr",[o("b-th",{staticStyle:{"text-align":"center","background-color":"#fff",color:"#007bff"}},[t._v("SNo")]),o("b-th",{staticStyle:{"text-align":"center","background-color":"#fff",color:"#007bff"}},[t._v("BookingNo")]),o("b-th",{staticStyle:{"text-align":"center","background-color":"#fff",color:"#007bff"}},[t._v("PartyName")]),o("b-th",{staticStyle:{"text-align":"center","background-color":"#fff",color:"#007bff"}},[t._v("Principle")]),o("b-th",{staticStyle:{"text-align":"center","background-color":"#fff",color:"#007bff"}},[t._v("Intrest")]),o("b-th",{staticStyle:{"text-align":"center","background-color":"#fff",color:"#007bff"}},[t._v("Investment")]),o("b-th",{staticStyle:{"text-align":"center","background-color":"#fff",color:"#dc3545"}},[t._v("RS Lend")]),o("b-th",{staticStyle:{"text-align":"center","background-color":"#fff",color:"#dc3545"}},[t._v("Principle")]),o("b-th",{staticStyle:{"text-align":"center","background-color":"#fff",color:"#dc3545"}},[t._v("Intrest")]),o("b-th",{staticStyle:{"text-align":"center","background-color":"#fff",color:"#dc3545"}},[t._v("Off")]),o("b-th",{staticStyle:{"text-align":"center","background-color":"#fff",color:"#dc3545"}},[t._v("Ress")]),o("b-th",{staticStyle:{"text-align":"center","background-color":"#fff",color:"#6f42c1"}},[t._v("TurnOver")]),o("b-th",{staticStyle:{"text-align":"center","background-color":"#fff",color:"#6f42c1"}},[t._v("BF")])],1)],1),o("b-tbody",t._l(t.creditDebits,(function(e,a){return o("b-tr",{key:a},[o("b-th",[t._v(t._s(a+1))]),o("b-td",[t._v(t._s(e.bookingNo))]),o("b-td",[t._v(t._s(e.brokerName))]),o("b-td",[t._v(t._s(void 0!=e.transPrincipe?t.formatter.format(e.transPrincipe):""))]),o("b-td",[t._v(t._s(void 0!=e.transIntrest?t.formatter.format(e.transIntrest):""))]),o("b-td",[t._v(t._s(void 0!=e.totalCapitalAmount?t.formatter.format(e.totalCapitalAmount):""))]),o("b-td",[t._v(t._s(void 0!=e.totalBookingAmount?t.formatter.format(e.totalBookingAmount):""))]),o("b-td",[t._v(t._s(void 0!=e.investTransPrincipe?t.formatter.format(e.investTransPrincipe):""))]),o("b-td",[t._v(t._s(void 0!=e.investTransIntrest?t.formatter.format(e.investTransIntrest):""))]),o("b-td",[t._v(t._s(void 0!=e.totalOffAmount?t.formatter.format(e.totalOffAmount):""))]),o("b-td",[t._v(t._s(void 0!=e.totalRessAmount?t.formatter.format(e.totalRessAmount):""))]),o("b-td",[t._v(t._s(void 0!=e.turnOver?t.formatter.format(e.turnOver):""))]),o("b-td",[t._v(t._s(void 0!=e.bf?t.formatter.format(e.bf):""))])],1)})),1),o("b-tfoot",[o("b-tr",[o("b-th",{attrs:{variant:"secondary"}},[t._v("Totals:")]),o("b-th",{attrs:{variant:"secondary"}}),o("b-th",{attrs:{variant:"secondary"}}),o("b-th",{attrs:{variant:"secondary"}},[t._v(t._s(t.formatter.format(t.totals.transPrincipe)))]),o("b-th",{attrs:{variant:"secondary"}},[t._v(t._s(t.formatter.format(t.totals.transIntrest)))]),o("b-th",{attrs:{variant:"secondary"}},[t._v(t._s(t.formatter.format(t.totals.totalCapitalAmount)))]),o("b-th",{attrs:{variant:"secondary"}},[t._v(t._s(t.formatter.format(t.totals.totalBookingAmount)))]),o("b-th",{attrs:{variant:"secondary"}},[t._v(t._s(t.formatter.format(t.totals.investTransPrincipe)))]),o("b-th",{attrs:{variant:"secondary"}},[t._v(t._s(t.formatter.format(t.totals.investTransIntrest)))]),o("b-th",{attrs:{variant:"secondary"}},[t._v(t._s(t.formatter.format(t.totals.totalOffAmount)))]),o("b-th",{attrs:{variant:"secondary"}},[t._v(t._s(t.formatter.format(t.totals.totalRessAmount)))]),o("b-th",{attrs:{variant:"secondary"}}),o("b-th",{attrs:{variant:"secondary"}})],1)],1)],1)],1):o("b-col",[o("b-table-simple",{attrs:{hover:"",small:"","caption-top":"",responsive:""}},[o("b-thead",{attrs:{"head-variant":"dark"}},[o("b-tr",[o("b-th",{staticStyle:{"text-align":"center","background-color":"#007bff"},attrs:{colspan:"5"}},[t._v("Credits")]),o("b-th",{staticStyle:{"text-align":"center","background-color":"#dc3545"},attrs:{colspan:"5"}},[t._v("Debits")]),o("b-th",{staticStyle:{"text-align":"center","background-color":"#6f42c1"},attrs:{colspan:"2"}},[t._v("Expences")])],1),o("b-tr",[o("b-th",{staticStyle:{"text-align":"center","background-color":"#fff",color:"#007bff"}},[t._v("SNo")]),o("b-th",{staticStyle:{"text-align":"center","background-color":"#fff",color:"#007bff"}},[t._v("Year")]),o("b-th",{staticStyle:{"text-align":"center","background-color":"#fff",color:"#007bff"}},[t._v("Principle")]),o("b-th",{staticStyle:{"text-align":"center","background-color":"#fff",color:"#007bff"}},[t._v("Intrest")]),o("b-th",{staticStyle:{"text-align":"center","background-color":"#fff",color:"#007bff"}},[t._v("Investment")]),o("b-th",{staticStyle:{"text-align":"center","background-color":"#fff",color:"#dc3545"}},[t._v("RS Lend")]),o("b-th",{staticStyle:{"text-align":"center","background-color":"#fff",color:"#dc3545"}},[t._v("Principle")]),o("b-th",{staticStyle:{"text-align":"center","background-color":"#fff",color:"#dc3545"}},[t._v("Intrest")]),o("b-th",{staticStyle:{"text-align":"center","background-color":"#fff",color:"#dc3545"}},[t._v("Off")]),o("b-th",{staticStyle:{"text-align":"center","background-color":"#fff",color:"#dc3545"}},[t._v("Ress")]),o("b-th",{staticStyle:{"text-align":"center","background-color":"#fff",color:"#6f42c1"}},[t._v("TurnOver")]),o("b-th",{staticStyle:{"text-align":"center","background-color":"#fff",color:"#6f42c1"}},[t._v("BF")])],1)],1),o("b-tbody",t._l(t.creditDebits,(function(e,a){return o("b-tr",{key:a},[o("b-th",[t._v(t._s(a+1))]),o("b-td",[t._v(t._s(e.year))]),o("b-td",[t._v(t._s(void 0!=e.transPrincipe?t.formatter.format(e.transPrincipe):""))]),o("b-td",[t._v(t._s(void 0!=e.transIntrest?t.formatter.format(e.transIntrest):""))]),o("b-td",[t._v(t._s(void 0!=e.totalCapitalAmount?t.formatter.format(e.totalCapitalAmount):""))]),o("b-td",[t._v(t._s(void 0!=e.totalBookingAmount?t.formatter.format(e.totalBookingAmount):""))]),o("b-td",[t._v(t._s(void 0!=e.investTransPrincipe?t.formatter.format(e.investTransPrincipe):""))]),o("b-td",[t._v(t._s(void 0!=e.investTransIntrest?t.formatter.format(e.investTransIntrest):""))]),o("b-td",[t._v(t._s(void 0!=e.totalOffAmount?t.formatter.format(e.totalOffAmount):""))]),o("b-td",[t._v(t._s(void 0!=e.totalRessAmount?t.formatter.format(e.totalRessAmount):""))]),o("b-td",[t._v(t._s(void 0!=e.turnOver?t.formatter.format(e.turnOver):""))]),o("b-td",[t._v(t._s(void 0!=e.bf?t.formatter.format(e.bf):""))])],1)})),1),o("b-tfoot",[o("b-tr",[o("b-th",{attrs:{variant:"secondary"}},[t._v("Totals:")]),o("b-th",{attrs:{variant:"secondary"}}),o("b-th",{attrs:{variant:"secondary"}},[t._v(t._s(t.formatter.format(t.totals.transPrincipe)))]),o("b-th",{attrs:{variant:"secondary"}},[t._v(t._s(t.formatter.format(t.totals.transIntrest)))]),o("b-th",{attrs:{variant:"secondary"}},[t._v(t._s(t.formatter.format(t.totals.totalCapitalAmount)))]),o("b-th",{attrs:{variant:"secondary"}},[t._v(t._s(t.formatter.format(t.totals.totalBookingAmount)))]),o("b-th",{attrs:{variant:"secondary"}},[t._v(t._s(t.formatter.format(t.totals.investTransPrincipe)))]),o("b-th",{attrs:{variant:"secondary"}},[t._v(t._s(t.formatter.format(t.totals.investTransIntrest)))]),o("b-th",{attrs:{variant:"secondary"}},[t._v(t._s(t.formatter.format(t.totals.totalOffAmount)))]),o("b-th",{attrs:{variant:"secondary"}},[t._v(t._s(t.formatter.format(t.totals.totalRessAmount)))]),o("b-th",{attrs:{variant:"secondary"}}),o("b-th",{attrs:{variant:"secondary"}})],1)],1)],1)],1)],1),o("b-row",[o("b-col",{staticStyle:{float:"left"},attrs:{cols:"2"}},[o("span",{staticStyle:{float:"left"}},[t._v("Total Credits:")])]),o("b-col",{staticStyle:{float:"left"},attrs:{cols:"2"}},[o("span",{staticStyle:{float:"left"}},[t._v(t._s(t.formatter.format(t.totals.transPrincipe+t.totals.transIntrest+t.totals.totalCapitalAmount)))])])],1),o("b-row",[o("b-col",{staticStyle:{float:"left"},attrs:{cols:"2"}},[o("span",{staticStyle:{float:"left"}},[t._v("Total Debits:")])]),o("b-col",{staticStyle:{float:"left"},attrs:{cols:"2"}},[o("span",{staticStyle:{float:"left"}},[t._v(t._s(t.formatter.format(t.totals.totalBookingAmount+t.totals.investTransPrincipe+t.totals.investTransIntrest+t.totals.totalOffAmount+t.totals.totalRessAmount)))])])],1),o("b-row",[o("b-col",{staticStyle:{float:"left"},attrs:{cols:"2"}},[o("span",{staticStyle:{float:"left"}},[t._v("Closing Balance:")])]),o("b-col",{staticStyle:{float:"left"},attrs:{cols:"2"}},[o("span",{staticStyle:{float:"left"}},[t._v(t._s(t.formatter.format(t.closeBal)))])])],1),o("b-row",[o("b-col",{staticStyle:{float:"left"},attrs:{cols:"2"}},[o("span",{staticStyle:{float:"left"}},[t._v("Investment:")])]),o("b-col",{staticStyle:{float:"left"},attrs:{cols:"2"}},[o("span",{staticStyle:{float:"left"}},[t._v(t._s(t.formatter.format(t.closeInvestment)))])])],1),o("b-row",[o("b-col",{staticStyle:{float:"left"},attrs:{cols:"2"}},[o("span",{staticStyle:{float:"left"}},[t._v("TurnOver:")])]),o("b-col",{staticStyle:{float:"left"},attrs:{cols:"2"}},[o("span",{staticStyle:{float:"left"}},[t._v(t._s(t.formatter.format(t.closeTurnover)))])])],1),o("b-row",[o("b-col",[o("b-button",{attrs:{variant:"primary text-center",value:"report"},on:{click:t.print}},[t._v("Print Report")]),o("b-button",{attrs:{variant:"secondary text-center",value:"report"},on:{click:function(e){return t.$router.push({name:"Reports",params:{reportType:t.reportType,reportDate:t.reportDate}})}}},[t._v("Back to Report Search")])],1)],1)],1)},se=[],ie={data:function(){return{totals:{transPrincipe:0,transIntrest:0,totalCapitalAmount:0,totalBookingAmount:0,investTransPrincipe:0,investTransIntrest:0,totalOffAmount:0,totalRessAmount:0},openBal:0,openInvestment:0,openTurnover:0,closeBal:0,closeInvestment:0,closeTurnover:0,formatter:{},creditDebits:{},res:{},reportType:null,reportDate:null,openningBal:{}}},methods:{print:function(){window.print()},getMonth:function(t){var e="";return e=1==t?"JAN":2==t?"FEB":3==t?"MAR":4==t?"APR":5==t?"MAY":6==t?"JUN":7==t?"JUL":8==t?"AUG":9==t?"SEP":10==t?"OCT":11==t?"NOV":"DEC",e}},created:function(){var t=this;this.formatter=new Intl.NumberFormat("en-IN"),this.openningBal=this.$route.params.openningBal,this.closingBal=this.$route.params.closingBal,this.reportType=this.$route.params.reportType;var e=this.openningBal.issue,o=this.openningBal.capital,a=this.openningBal.office,r=this.openningBal.ress,n=this.closingBal.issue,s=this.closingBal.capital,i=this.closingBal.office,l=this.closingBal.ress;n||(n={totalPrinciple:0,totalIntrest:0,totalAmount:0,tranType:"Issue"}),s||(s={totalPrinciple:0,totalIntrest:0,totalAmount:0,tranType:"Capital"}),i||(i={totalPrinciple:0,totalIntrest:0,totalAmount:0,tranType:"Off Exp"}),l||(l={totalPrinciple:0,totalIntrest:0,totalAmount:0,tranType:"Res-Exp"}),e||(e={totalPrinciple:0,totalIntrest:0,totalAmount:0,tranType:"Issue"}),o||(o={totalPrinciple:0,totalIntrest:0,totalAmount:0,tranType:"Capital"}),a||(a={totalPrinciple:0,totalIntrest:0,totalAmount:0,tranType:"Off Exp"}),r||(r={totalPrinciple:0,totalIntrest:0,totalAmount:0,tranType:"Res-Exp"}),this.openBal=o.totalAmount+e.totalPrinciple+e.totalIntrest-o.totalPrinciple-e.totalAmount-o.totalIntrest-r.totalAmount-a.totalAmount,this.openInvestment=o.totalAmount-o.totalPrinciple,this.openTurnover=e.totalAmount-e.totalPrinciple,this.closeBal=s.totalAmount+n.totalPrinciple+n.totalIntrest-s.totalPrinciple-n.totalAmount-s.totalIntrest-l.totalAmount-i.totalAmount,this.closeInvestment=s.totalAmount-s.totalPrinciple,this.closeTurnover=n.totalAmount-n.totalPrinciple,this.res=this.$route.params.res,this.$route.params.creditDebits.forEach((function(n,s){n.transPrincipe&&(t.totals.transPrincipe+=n.transPrincipe),n.transIntrest&&(t.totals.transIntrest+=n.transIntrest),n.totalCapitalAmount&&(t.totals.totalCapitalAmount+=n.totalCapitalAmount),n.totalBookingAmount&&(t.totals.totalBookingAmount+=n.totalBookingAmount),n.investTransPrincipe&&(t.totals.investTransPrincipe+=n.investTransPrincipe),n.investTransIntrest&&(t.totals.investTransIntrest+=n.investTransIntrest),n.totalOffAmount&&(t.totals.totalOffAmount+=n.totalOffAmount),n.totalRessAmount&&(t.totals.totalRessAmount+=n.totalRessAmount),0==s?(n.turnOver=e.totalAmount+(void 0!==n.totalBookingAmount?n.totalBookingAmount:0)-e.totalPrinciple-(void 0!==n.transPrincipe?n.transPrincipe:0),n.bf=o.totalAmount+e.totalPrinciple+e.totalIntrest+(void 0!==n.transPrincipe?n.transPrincipe:0)+(void 0!==n.totalCapitalAmount?n.totalCapitalAmount:0)+(void 0!==n.transIntrest?n.transIntrest:0)-o.totalPrinciple-o.totalIntrest-r.totalAmount-e.totalAmount-a.totalAmount-(void 0!==n.investTransPrincipe?n.investTransPrincipe:0)-(void 0!==n.totalBookingAmount?n.totalBookingAmount:0)-(void 0!==n.totalOffAmount?n.totalOffAmount:0)-(void 0!==n.totalRessAmount?n.totalRessAmount:0)-(void 0!==n.investTransIntrest?n.investTransIntrest:0)):(n.turnOver=t.$route.params.creditDebits[s-1].turnOver+(void 0!==n.totalBookingAmount?n.totalBookingAmount:0)-(void 0!==n.transPrincipe?n.transPrincipe:0),n.bf=t.$route.params.creditDebits[s-1].bf+(void 0!==n.transPrincipe?n.transPrincipe:0)+(void 0!==n.totalCapitalAmount?n.totalCapitalAmount:0)+(void 0!==n.transIntrest?n.transIntrest:0)-(void 0!==n.investTransPrincipe?n.investTransPrincipe:0)-(void 0!==n.totalBookingAmount?n.totalBookingAmount:0)-(void 0!==n.totalOffAmount?n.totalOffAmount:0)-(void 0!==n.totalRessAmount?n.totalRessAmount:0)-(void 0!==n.investTransIntrest?n.investTransIntrest:0))})),this.creditDebits=this.$route.params.creditDebits,this.reportDate=this.$route.params.reportDate}},le=ie,ce=Object(l["a"])(le,ne,se,!1,null,null,null),de=ce.exports,ue=o("2f62"),me=o("bc3a"),be=o.n(me),fe=o("0e44");a["default"].use(ue["a"]);var pe=new ue["a"].Store({state:{status:"",token:localStorage.getItem("token")||"",user:{},master:{},selectedCompany:""},plugins:[Object(fe["a"])()],mutations:{auth_request:function(t){t.status="loading"},auth_success:function(t,e){t.status="success",t.token=e},auth_error:function(t){t.status="error"},logout:function(t){t.status="",t.token="",t.user={},t.master={},t.selectedCompany=""},masterData:function(t,e){t.master=e},updateMaster:function(t,e){t.master=e},userData:function(t,e){t.user=e},userComp:function(t,e){t.selectedCompany=e}},actions:{login:function(t,e){var o=t.commit;return new Promise((function(t,a){o("auth_request"),be.a.post("/desktop/oauth/token",e).then((function(e){var a=e.data.access_token;a="Bearer "+a,localStorage.setItem("token",a),be.a.defaults.headers.common["Authorization"]=a,o("auth_success",a),t(e)})).catch((function(t){o("auth_error"),localStorage.removeItem("token"),a(t)}))}))},register:function(t,e){var o=t.commit;return new Promise((function(t,a){o("auth_request"),be()({url:"/security/register",data:e,method:"POST"}).then((function(e){var a=e.data.token,r=e.data.user;localStorage.setItem("token",a),be.a.defaults.headers.common["Authorization"]=a,o("auth_success",a,r),t(e)})).catch((function(t){o("auth_error",t),localStorage.removeItem("token"),a(t)}))}))},logout:function(t){var e=t.commit;return new Promise((function(t){e("logout"),localStorage.removeItem("token"),delete be.a.defaults.headers.common["Authorization"],t()}))},userData:function(t){var e=t.commit;return new Promise((function(t,o){be.a.get("/security/users/user-details").then((function(o){e("userData",o.data),t()})).catch((function(t){e("auth_error",t),localStorage.removeItem("token"),o(t)}))}))},userComp:function(t,e){var o=t.commit;o("userComp",e)},master:function(t){var e=t.commit;return new Promise((function(t,o){be.a.get("/middleware/api/secured/get-masterdata").then((function(o){e("masterData",o.data),t(o.data.company)})).catch((function(t){e("auth_error",t),localStorage.removeItem("token"),o(t)}))}))},updateMaster:function(t,e){var o=t.commit;return new Promise((function(t,a){be.a.post("/middleware/api/secured/update-masterdata",e).then((function(e){o("updateMaster",e.data),t()})).catch((function(t){o("auth_error",t),localStorage.removeItem("token"),a(t)}))}))}},getters:{isLoggedIn:function(t){return!!t.token},authStatus:function(t){return t.status},compStatus:function(t){return!!t.selectedCompany},isAdmin:function(t){return!(!t.user.roles.some((function(t){return"ROLE_SUPER"===t}))&&!t.user.roles.some((function(t){return"ROLE_ADMIN"===t})))}}});a["default"].use(m["a"]);var he=[{path:"/",name:"Home",component:S,meta:{requiresAuth:!0}},{path:"/account",name:"Account",component:z,meta:{requiresAuth:!0}},{path:"/createAccount",name:"CreateAccount",component:K,meta:{requiresAuth:!0}},{path:"/updateAccount/",name:"UpdateAccount",component:ot,props:!0,meta:{requiresAuth:!0}},{path:"/options",name:"Options Master",component:B,meta:{requiresAuth:!0}},{path:"/bookings",name:"Bookings",component:lt,meta:{requiresAuth:!0}},{path:"/bookings-view",name:"BookingsView",component:pt,meta:{requiresAuth:!0}},{path:"/create-booking",name:"CreateBooking",component:Ct,meta:{requiresAuth:!0}},{path:"/view-modify-booking",name:"ViewModifyBooking",component:Mt,meta:{requiresAuth:!0}},{path:"/recipts",name:"Recipts",component:Ot,meta:{requiresAuth:!0}},{path:"/new-recipt",name:"NewRecipt",component:qt,meta:{requiresAuth:!0}},{path:"/delete-recipt",name:"DeleteRecipt",component:Qt,meta:{requiresAuth:!0}},{path:"/reports",name:"Reports",component:re,meta:{requiresAuth:!0}},{path:"/printReports",name:"PrintReports",component:de,meta:{requiresAuth:!0}},{path:"/login",name:"Login",component:P},{path:"/about",name:"About",meta:{requiresAuth:!0},component:function(){return o.e("about").then(o.bind(null,"f820"))}}],ge=new m["a"]({mode:"history",base:"/desktop/",routes:he});ge.beforeEach((function(t,e,o){if(t.matched.some((function(t){return t.meta.requiresAuth}))){if(pe.getters.isLoggedIn)return void o();o("/login")}else o()}));var ve=ge,ke=o("5f5b"),ye=o("b1e0"),_e=(o("f9e3"),o("2dd8"),o("9062")),De=o.n(_e),xe=(o("e40d"),o("133f")),Se=o.n(xe),Ce=o("1157"),we=o.n(Ce),Te=(o("ca56"),o("ecee")),Ne=o("c074"),Ie=o("ad3d");o("15f5"),o("7051");a["default"].prototype.moment=W.a,Te["c"].add(Ne["a"]),we.a.extend(!0,we.a.fn.datetimepicker.defaults,{icons:{time:"far fa-clock",date:"far fa-calendar",up:"fas fa-arrow-up",down:"fas fa-arrow-down",previous:"fas fa-chevron-left",next:"fas fa-chevron-right",today:"fas fa-calendar-check",clear:"far fa-trash-alt",close:"far fa-times-circle"}}),a["default"].component("font-awesome-icon",Ie["a"]),a["default"].use(Se.a),a["default"].use(De.a),a["default"].prototype.$http=be.a,a["default"].use(ke["a"]),a["default"].use(ye["a"]),a["default"].use(o("2ead"));var Pe=localStorage.getItem("token");Pe&&(a["default"].prototype.$http.defaults.headers.common["Authorization"]=Pe),a["default"].config.productionTip=!1,new a["default"]({router:ve,store:pe,Loading:De.a,render:function(t){return t(d)}}).$mount("#app")},"5a3d":function(t,e,o){"use strict";var a=o("18df"),r=o.n(a);r.a},"5d06":function(t,e,o){"use strict";var a=o("5272"),r=o.n(a);r.a},"7c3b":function(t,e,o){},"85ec":function(t,e,o){},b01a:function(t,e,o){"use strict";var a=o("7c3b"),r=o.n(a);r.a},d3af:function(t,e,o){"use strict";var a=o("d76e"),r=o.n(a);r.a},d76e:function(t,e,o){},f82a:function(t,e,o){}});
//# sourceMappingURL=app.ff587df8.js.map